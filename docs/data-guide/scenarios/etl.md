---
title: ETL (extrair, transformar e carregar)
description: ''
author: zoinerTejada
ms:date: 02/12/2018
ms.openlocfilehash: a980c1f8aef99fc263083e5e496b1340204f7dac
ms.sourcegitcommit: c441fd165e6bebbbbbc19854ec6f3676be9c3b25
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/31/2018
---
# <a name="extract-transform-and-load-etl"></a><span data-ttu-id="0d2a9-102">ETL (extrair, transformar e carregar)</span><span class="sxs-lookup"><span data-stu-id="0d2a9-102">Extract, transform, and load (ETL)</span></span>

<span data-ttu-id="0d2a9-103">Um problema comum que as organizações enfrentam é como coletar dados de várias fontes, em vários formatos e movê-los para um ou mais armazenamentos de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-103">A common problem that organizations face is how to gathering data from multiple sources, in multiple formats, and move it to one or more data stores.</span></span> <span data-ttu-id="0d2a9-104">O destino pode não ser o mesmo tipo de armazenamento de dados da origem e, geralmente, o formato é diferente ou os dados precisam ser formatados ou limpos antes de serem carregados em seu destino final.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-104">The destination may not be the same type of data store as the source, and often the format is different, or the data needs to be shaped or cleaned before loading it into its final destination.</span></span>

<span data-ttu-id="0d2a9-105">Várias ferramentas, serviços e processos foram desenvolvidos ao longo dos anos para ajudar a solucionar esses desafios.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-105">Various tools, services, and processes have been developed over the years to help address these challenges.</span></span> <span data-ttu-id="0d2a9-106">Não importa o processo utilizado, há uma necessidade comum de coordenar o trabalho e aplicar um nível de transformação de dados ao pipeline de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-106">No matter the process used, there is a common need to coordinate the work and apply some level of data transformation within the data pipeline.</span></span> <span data-ttu-id="0d2a9-107">As seções a seguir destacam os métodos comuns usados para executar essas tarefas.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-107">The following sections highlight the common methods used to perform these tasks.</span></span>

## <a name="extract-transform-and-load-etl"></a><span data-ttu-id="0d2a9-108">ETL (extrair, transformar e carregar)</span><span class="sxs-lookup"><span data-stu-id="0d2a9-108">Extract, transform, and load (ETL)</span></span>

<span data-ttu-id="0d2a9-109">O ETL (extração, transformação e carregamento) é um pipeline de dados usado para coletar dados de várias fontes, transformar os dados de acordo com as regras de negócio e carregá-los em um armazenamento de dados de destino.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-109">Extract, transform, and load (ETL) is a data pipeline used to collect data from various sources, transform the data according to business rules, and load it into a destination data store.</span></span> <span data-ttu-id="0d2a9-110">O trabalho de transformação no ETL ocorre em um mecanismo especializado e, geralmente, envolve o uso de tabelas de preparo para armazenar os dados temporariamente enquanto eles são transformados e, por fim, carregados em seu destino.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-110">The transformation work in ETL takes place in a specialized engine, and often involves using staging tables to temporarily hold data as it is being transformed and ultimately loaded to its destination.</span></span>

<span data-ttu-id="0d2a9-111">A transformação de dados ocorrida geralmente envolve diversas operações, como filtragem, classificação, agregação, junção de dados, limpeza de dados, eliminação de duplicação e validação de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-111">The data transformation that takes place usually involves various operations, such as filtering, sorting, aggregating, joining data, cleaning data, deduplicating, and validating data.</span></span>

![Processo ETL (extração, transformação e carregamento)](./images/etl.png)

<span data-ttu-id="0d2a9-113">Com frequência, as três fases de ETL são executadas em paralelo para economizar tempo.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-113">Often, the three ETL phases are run in parallel to save time.</span></span> <span data-ttu-id="0d2a9-114">Por exemplo, enquanto os dados estão sendo extraídos, um processo de transformação pode trabalhar nos dados já recebidos e prepará-los o para carregamento e um processo de carregamento pode começar a trabalhar com os dados preparados, em vez de aguardar a conclusão de todo o processo de extração.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-114">For example, while data is being extracted, a transformation process could be working on data already received and prepare it for loading, and a loading process can begin working on the prepared data, rather than waiting for the entire extraction process to complete.</span></span>

<span data-ttu-id="0d2a9-115">Serviço do Azure relevante:</span><span class="sxs-lookup"><span data-stu-id="0d2a9-115">Relevant Azure service:</span></span>
- [<span data-ttu-id="0d2a9-116">Azure Data Factory v2</span><span class="sxs-lookup"><span data-stu-id="0d2a9-116">Azure Data Factory v2</span></span>](https://azure.microsoft.com/services/data-factory/)

<span data-ttu-id="0d2a9-117">Outras ferramentas:</span><span class="sxs-lookup"><span data-stu-id="0d2a9-117">Other tools:</span></span>
- [<span data-ttu-id="0d2a9-118">SQL Server Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="0d2a9-118">SQL Server Integration Services (SSIS)</span></span>](/sql/integration-services/sql-server-integration-services)

## <a name="extract-load-and-transform-elt"></a><span data-ttu-id="0d2a9-119">ELT (extração, carregamento e transformação)</span><span class="sxs-lookup"><span data-stu-id="0d2a9-119">Extract, load, and transform (ELT)</span></span>

<span data-ttu-id="0d2a9-120">O ELT (extração, carregamento e transformação) difere do ETL somente no local em que ocorre a transformação.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-120">Extract, load, and transform (ELT) differs from ETL solely in where the transformation takes place.</span></span> <span data-ttu-id="0d2a9-121">No pipeline de ELT, a transformação ocorre no armazenamento de dados de destino.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-121">In the ELT pipeline, the transformation occurs in the target data store.</span></span> <span data-ttu-id="0d2a9-122">Em vez de usar um mecanismo de transformação separado, as funcionalidades de processamento do armazenamento de dados de destino são usadas para transformar os dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-122">Instead of using a separate transformation engine, the processing capabilities of the target data store are used to transform data.</span></span> <span data-ttu-id="0d2a9-123">Isso simplifica a arquitetura pela remoção do mecanismo de transformação do pipeline.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-123">This simplifies the architecture by removing the transformation engine from the pipeline.</span></span> <span data-ttu-id="0d2a9-124">Outro benefício dessa abordagem é que o dimensionamento do armazenamento de dados de destino também dimensiona o desempenho do pipeline ELT.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-124">Another benefit to this approach is that scaling the target data store also scales the ELT pipeline performance.</span></span> <span data-ttu-id="0d2a9-125">No entanto, o ELT só funciona bem quando o sistema de destino é poderoso o suficiente para transformar os dados com eficiência.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-125">However, ELT only works well when the target system is powerful enough to transform the data efficiently.</span></span>

![Processo de ELT (extração, carregamento e transformação)](./images/elt.png)

<span data-ttu-id="0d2a9-127">Os casos típicos de uso do ELT se enquadram no âmbito do Big Data.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-127">Typical use cases for ELT fall within the big data realm.</span></span> <span data-ttu-id="0d2a9-128">Por exemplo, você pode começar com a extração de todos os dados de origem em arquivos simples em um armazenamento escalonável, como o HDFS (sistema de arquivos distribuído do Hadoop) ou o Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-128">For example, you might start by extracting all of the source data to flat files in scalable storage such as Hadoop distributed file system (HDFS) or Azure Data Lake Store.</span></span> <span data-ttu-id="0d2a9-129">Tecnologias, como o Spark, Hive ou PolyBase, podem então ser usadas para consultar os dados de origem.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-129">Technologies such as Spark, Hive, or PolyBase can then be used to query the source data.</span></span> <span data-ttu-id="0d2a9-130">O ponto-chave do ELT é que o armazenamento de dados usado para executar a transformação é o mesmo armazenamento de dados no qual os dados são, em última análise, consumidos.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-130">The key point with ELT is that the data store used to perform the transformation is the same data store where the data is ultimately consumed.</span></span> <span data-ttu-id="0d2a9-131">Esse armazenamento de dados lê diretamente do armazenamento escalonável, em vez de carregar os dados em seu próprio armazenamento proprietário.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-131">This data store reads directly from the scalable storage, instead of loading the data into its own proprietary storage.</span></span> <span data-ttu-id="0d2a9-132">Essa abordagem ignora a etapa de cópia de dados presente no ETL, que pode ser uma operação demorada para conjuntos grandes de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-132">This approach skips the data copy step present in ETL, which can be a time consuming operation for large data sets.</span></span>

<span data-ttu-id="0d2a9-133">Na prática, o armazenamento de dados de destino é um [data warehouse](./data-warehousing.md) que usa um cluster Hadoop (usando o Hive ou o Spark) ou um SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-133">In practice, the target data store is a [data warehouse](./data-warehousing.md) using either a Hadoop cluster (using Hive or Spark) or a SQL Data Warehouse.</span></span> <span data-ttu-id="0d2a9-134">Em geral, um esquema é sobreposto sobre os dados de arquivo simples no momento da consulta e armazenado como uma tabela, permitindo que os dados sejam consultados como qualquer outra tabela no armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-134">In general, a schema is overlaid on the flat file data at query time and stored as a table, enabling the data to be queried like any other table in the data store.</span></span> <span data-ttu-id="0d2a9-135">Elas são conhecidas como tabelas externas porque os dados não residem no armazenamento gerenciado pelo próprio armazenamento de dados, mas em algum armazenamento escalonável externo.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-135">These are referred to as external tables because the data does not reside in storage managed by the data store itself, but on some external scalable storage.</span></span> 

<span data-ttu-id="0d2a9-136">O armazenamento de dados somente gerencia o esquema dos dados e aplica o esquema na leitura.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-136">The data store only manages the schema of the data and applies the schema on read.</span></span> <span data-ttu-id="0d2a9-137">Por exemplo, um cluster Hadoop que usa o Hive descreverá uma tabela do Hive em que a fonte de dados é efetivamente um caminho para um conjunto de arquivos no HDFS.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-137">For example, a Hadoop cluster using Hive would describe a Hive table where the data source is effectively a path to a set of files in HDFS.</span></span> <span data-ttu-id="0d2a9-138">No SQL Data Warehouse, o PolyBase pode obter o mesmo resultado &mdash; criando uma tabela com os dados armazenados externamente ao próprio banco de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-138">In SQL Data Warehouse, PolyBase can achieve the same result &mdash; creating a table against data stored externally to the database itself.</span></span> <span data-ttu-id="0d2a9-139">Quando os dados de origem são carregados, os dados presentes nas tabelas externas podem ser processados usando as funcionalidades do armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-139">Once the source data is loaded, the data present in the external tables can be processed using the capabilities of the data store.</span></span> <span data-ttu-id="0d2a9-140">Em cenários de Big Data, isso significa que o armazenamento de dados tem a capacidade de MPP (processamento paralelo maciço), que divide os dados em partes menores e distribui o processamento das partes entre vários computadores em paralelo.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-140">In big data scenarios, this means the data store must be capable of massively parallel processing (MPP), which breaks the data into smaller chunks and distributes processing of the chunks across multiple machines in parallel.</span></span>

<span data-ttu-id="0d2a9-141">Normalmente, a fase final do pipeline ELT é transformar os dados de origem em um formato final que é mais eficiente para os tipos de consultas que precisam de suporte.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-141">The final phase of the ELT pipeline is typically to transform the source data into a final format that is more efficient for the types of queries that need to be supported.</span></span> <span data-ttu-id="0d2a9-142">Por exemplo, os dados podem ser particionados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-142">For example, the data may be partitioned.</span></span> <span data-ttu-id="0d2a9-143">Além disso, o ELT pode usar formatos de armazenamento otimizados como o Parquet, que armazena dados orientados por linha em uma forma de coluna e fornece indexação otimizada.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-143">Also, ELT might use optimized storage formats like Parquet, which stores row-oriented data in a columnar fashion and providess optimized indexing.</span></span> 

<span data-ttu-id="0d2a9-144">Serviço do Azure relevante:</span><span class="sxs-lookup"><span data-stu-id="0d2a9-144">Relevant Azure service:</span></span>

- [<span data-ttu-id="0d2a9-145">SQL Data Warehouse do Azure</span><span class="sxs-lookup"><span data-stu-id="0d2a9-145">Azure SQL Data Warehouse</span></span>](/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is)
- [<span data-ttu-id="0d2a9-146">HDInsight com Hive</span><span class="sxs-lookup"><span data-stu-id="0d2a9-146">HDInsight with Hive</span></span>](/azure/hdinsight/hadoop/hdinsight-use-hive)
- [<span data-ttu-id="0d2a9-147">Azure Data Factory v2</span><span class="sxs-lookup"><span data-stu-id="0d2a9-147">Azure Data Factory v2</span></span>](https://azure.microsoft.com/services/data-factory/)
- [<span data-ttu-id="0d2a9-148">Oozie no HDInsight</span><span class="sxs-lookup"><span data-stu-id="0d2a9-148">Oozie on HDInsight</span></span>](/azure/hdinsight/hdinsight-use-oozie-linux-mac)

<span data-ttu-id="0d2a9-149">Outras ferramentas:</span><span class="sxs-lookup"><span data-stu-id="0d2a9-149">Other tools:</span></span>

- [<span data-ttu-id="0d2a9-150">SQL Server Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="0d2a9-150">SQL Server Integration Services (SSIS)</span></span>](/sql/integration-services/sql-server-integration-services)

## <a name="data-flow-and-control-flow"></a><span data-ttu-id="0d2a9-151">Fluxo de dados e fluxo de controle</span><span class="sxs-lookup"><span data-stu-id="0d2a9-151">Data flow and control flow</span></span>

<span data-ttu-id="0d2a9-152">No contexto de pipelines de dados, o fluxo de controle garante o processamento ordenado de um conjunto de tarefas.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-152">In the context of data pipelines, the control flow ensures orderly processing of a set of tasks.</span></span> <span data-ttu-id="0d2a9-153">Para impor a ordem de processamento correta dessas tarefas, restrições de precedência são usadas.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-153">To enforce the correct processing order of these tasks, precedence constraints are used.</span></span> <span data-ttu-id="0d2a9-154">Considere essas restrições como conectores em um diagrama de fluxo de trabalho, conforme mostrado na imagem abaixo.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-154">You can think of these constraints as connectors in a workflow diagram, as shown in the image below.</span></span> <span data-ttu-id="0d2a9-155">Cada tarefa tem um resultado, como êxito, falha ou conclusão.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-155">Each task has an outcome, such as success, failure, or completion.</span></span> <span data-ttu-id="0d2a9-156">Qualquer tarefa posterior não inicia o processamento até que seu predecessor tenha concluído com um desses resultados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-156">Any subsequent task does not initiate processing until its predecessor has completed with one of these outcomes.</span></span>

<span data-ttu-id="0d2a9-157">Os fluxos de controle executam fluxos de dados como uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-157">Control flows execute data flows as a task.</span></span> <span data-ttu-id="0d2a9-158">Em uma tarefa de fluxo de dados, os dados são extraídos de uma fonte, transformados ou carregados em um armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-158">In a data flow task, data is extracted from a source, transformed, or loaded into a data store.</span></span> <span data-ttu-id="0d2a9-159">A saída de uma tarefa de fluxo de dados pode ser a entrada para a próxima tarefa de fluxo de dados e os fluxos de dados podem ser executados em paralelo.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-159">The output of one data flow task can be the input to the next data flow task, and data flowss can run in parallel.</span></span> <span data-ttu-id="0d2a9-160">Ao contrário de fluxos de controle, não é possível adicionar restrições entre tarefas em um fluxo de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-160">Unlike control flows, you cannot add constraints between tasks in a data flow.</span></span> <span data-ttu-id="0d2a9-161">No entanto, é possível adicionar um visualizador de dados para observar os dados conforme eles são processados por cada tarefa.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-161">You can, however, add a data viewer to observe the data as it is processed by each task.</span></span>

![Fluxo de Dados executado como uma tarefa em um Fluxo de Controle](./images/control-flow-data-flow.png)

<span data-ttu-id="0d2a9-163">No diagrama acima, há várias tarefas dentro do fluxo de controle, cada uma sendo uma tarefa de fluxo de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-163">In the diagram above, there are several tasks within the control flow, one of which is a data flow task.</span></span> <span data-ttu-id="0d2a9-164">Uma das tarefas é aninhada em um contêiner.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-164">One of the tasks is nested within a container.</span></span> <span data-ttu-id="0d2a9-165">Os contêineres podem ser usados para fornecer estrutura às tarefas, fornecendo uma unidade de trabalho.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-165">Containers can be used to provide structure to tasks, providing a unit of work.</span></span> <span data-ttu-id="0d2a9-166">Um exemplo disso são elementos de repetição em uma coleção, como arquivos em uma pasta ou instruções de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="0d2a9-166">One such example is for repeating elements within a collection, such as files in a folder or database statements.</span></span>

<span data-ttu-id="0d2a9-167">Serviço do Azure relevante:</span><span class="sxs-lookup"><span data-stu-id="0d2a9-167">Relevant Azure service:</span></span>
- [<span data-ttu-id="0d2a9-168">Azure Data Factory v2</span><span class="sxs-lookup"><span data-stu-id="0d2a9-168">Azure Data Factory v2</span></span>](https://azure.microsoft.com/services/data-factory/)

<span data-ttu-id="0d2a9-169">Outras ferramentas:</span><span class="sxs-lookup"><span data-stu-id="0d2a9-169">Other tools:</span></span>
- [<span data-ttu-id="0d2a9-170">SQL Server Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="0d2a9-170">SQL Server Integration Services (SSIS)</span></span>](/sql/integration-services/sql-server-integration-services)

## <a name="technology-choices"></a><span data-ttu-id="0d2a9-171">Opções de tecnologia</span><span class="sxs-lookup"><span data-stu-id="0d2a9-171">Technology choices</span></span>

- [<span data-ttu-id="0d2a9-172">Armazenamentos de dados OLTP (Processamento de Transações Online)</span><span class="sxs-lookup"><span data-stu-id="0d2a9-172">Online Transaction Processing (OLTP) data stores</span></span>](../technology-choices/oltp-data-stores.md)
- [<span data-ttu-id="0d2a9-173">Armazenamentos de dados OLAP (processamento analítico online)</span><span class="sxs-lookup"><span data-stu-id="0d2a9-173">Online Analytical Processing (OLAP) data stores</span></span>](../technology-choices/olap-data-stores.md)
- [<span data-ttu-id="0d2a9-174">Data warehouses</span><span class="sxs-lookup"><span data-stu-id="0d2a9-174">Data warehouses</span></span>](../technology-choices/data-warehouses.md)
- [<span data-ttu-id="0d2a9-175">Orquestração de pipeline</span><span class="sxs-lookup"><span data-stu-id="0d2a9-175">Pipeline orchestration</span></span>](../technology-choices/pipeline-orchestration-data-movement.md)
