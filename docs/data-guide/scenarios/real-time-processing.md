---
title: Processamento em tempo real
description: 
author: zoinerTejada
ms:date: 02/12/2018
ms.openlocfilehash: f1054ce5e8c2053aa4f80d8b472604125ba47187
ms.sourcegitcommit: 90cf2de795e50571d597cfcb9b302e48933e7f18
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/14/2018
---
# <a name="real-time-processing"></a><span data-ttu-id="f0855-102">Processamento em tempo real</span><span class="sxs-lookup"><span data-stu-id="f0855-102">Real time processing</span></span>

<span data-ttu-id="f0855-103">O processamento em tempo real lida com fluxos de dados que são capturados em tempo real e processados com latência mínima para gerar relatórios em tempo real (ou quase em tempo real) ou respostas automatizadas.</span><span class="sxs-lookup"><span data-stu-id="f0855-103">Real time processing deals with streams of data that are captured in real-time and processed with minimal latency to generate real-time (or near-real-time) reports or automated responses.</span></span> <span data-ttu-id="f0855-104">Por exemplo, uma solução de monitoramento de tráfego em tempo real pode usar dados de sensor para detectar grandes volumes de tráfego.</span><span class="sxs-lookup"><span data-stu-id="f0855-104">For example, a real-time traffic monitoring solution might use sensor data to detect high traffic volumes.</span></span> <span data-ttu-id="f0855-105">Esses dados podem ser usados para atualizar um mapa dinamicamente para mostrar o congestionamento ou iniciar automaticamente faixas de ocupação alta ou outros sistemas de gerenciamento de tráfego.</span><span class="sxs-lookup"><span data-stu-id="f0855-105">This data could be used to dynamically update a map to show congestion, or automatically initiate high-occupancy lanes or other traffic management systems.</span></span>

![](./images/real-time-pipeline.png)

<span data-ttu-id="f0855-106">O processamento em tempo real é definido como o processamento de fluxo não associado de dados de entrada, com requisitos de latência muito curta para o processamento &mdash; medido em milissegundos ou segundos.</span><span class="sxs-lookup"><span data-stu-id="f0855-106">Real-time processing is defined as the processing of unbounded stream of input data, with very short latency requirements for processing &mdash; measured in milliseconds or seconds.</span></span> <span data-ttu-id="f0855-107">Normalmente, esses dados de entrada são recebidos em um formato não estruturado ou semiestruturado, como JSON, e têm os mesmos requisitos de processamento do [processamento em lotes](./batch-processing.md), mas com tempos de retorno mais curtos para dar suporte ao consumo em tempo real.</span><span class="sxs-lookup"><span data-stu-id="f0855-107">This incoming data typically arrives in an unstructured or semi-structured format, such as JSON, and has the same processing requirements as [batch processing](./batch-processing.md), but with shorter turnaround times to support real-time consumption.</span></span>

<span data-ttu-id="f0855-108">Os dados processados costumam ser gravados em um armazenamento de dados analíticos, otimizado para análise e visualização.</span><span class="sxs-lookup"><span data-stu-id="f0855-108">Processed data is often written to an analytical data store, which is optimized for analytics and visualization.</span></span> <span data-ttu-id="f0855-109">Os dados processados também podem ser ingeridos diretamente na camada de análise e relatório para análise, business intelligence e visualização de painel em tempo real.</span><span class="sxs-lookup"><span data-stu-id="f0855-109">The processed data can also be ingested directly into the analytics and reporting layer for analysis, business intelligence, and real-time dashboard visualization.</span></span>

## <a name="challenges"></a><span data-ttu-id="f0855-110">Desafios</span><span class="sxs-lookup"><span data-stu-id="f0855-110">Challenges</span></span>

<span data-ttu-id="f0855-111">Um dos grandes desafios das soluções de processamento em tempo real é ingerir, processar e armazenar mensagens em tempo real, especialmente em grandes volumes.</span><span class="sxs-lookup"><span data-stu-id="f0855-111">One of the big challenges of real-time processing solutions is to ingest, process, and store messages in real time, especially at high volumes.</span></span> <span data-ttu-id="f0855-112">O processamento precisa ser feito de forma que não bloqueie o pipeline de ingestão.</span><span class="sxs-lookup"><span data-stu-id="f0855-112">Processing must be done in such a way that it does not block the ingestion pipeline.</span></span> <span data-ttu-id="f0855-113">O armazenamento de dados precisa dar suporte a gravações de alto volume.</span><span class="sxs-lookup"><span data-stu-id="f0855-113">The data store must support high-volume writes.</span></span> <span data-ttu-id="f0855-114">Outro desafio é conseguir tomar decisões com base nos dados rapidamente, como a geração de alertas em tempo real ou apresentação dos dados em um painel em tempo real (ou quase em tempo real).</span><span class="sxs-lookup"><span data-stu-id="f0855-114">Another challenge is being able to act on the data quickly, such as generating alerts in real time or presenting the data in a real-time (or near-real-time) dashboard.</span></span>

## <a name="architecture"></a><span data-ttu-id="f0855-115">Arquitetura</span><span class="sxs-lookup"><span data-stu-id="f0855-115">Architecture</span></span>

<span data-ttu-id="f0855-116">Uma arquitetura de processamento em tempo real contém os componentes lógicos a seguir.</span><span class="sxs-lookup"><span data-stu-id="f0855-116">A real-time processing architecture has the following logical components.</span></span>

- <span data-ttu-id="f0855-117">**Ingestão de mensagens em tempo real.**</span><span class="sxs-lookup"><span data-stu-id="f0855-117">**Real-time message ingestion.**</span></span> <span data-ttu-id="f0855-118">A arquitetura precisa incluir uma forma de capturar e armazenar mensagens em tempo real para serem consumidas por um consumidor de processamento de fluxo.</span><span class="sxs-lookup"><span data-stu-id="f0855-118">The architecture must include a way to capture and store real-time messages to be consumed by a stream processing consumer.</span></span> <span data-ttu-id="f0855-119">Em casos simples, esse serviço pode ser implementado como um armazenamento de dados simples em que as novas mensagens são depositadas em uma pasta.</span><span class="sxs-lookup"><span data-stu-id="f0855-119">In simple cases, this service could be implemented as a simple data store in which new messages are deposited in a folder.</span></span> <span data-ttu-id="f0855-120">Mas, em geral, a solução exige um agente de mensagens, como os Hubs de Eventos do Azure, que atua como um buffer para as mensagens.</span><span class="sxs-lookup"><span data-stu-id="f0855-120">But often the solution requires a message broker, such as Azure Event Hubs, that acts as a buffer for the messages.</span></span> <span data-ttu-id="f0855-121">O agente de mensagens deve dar suporte ao processamento de expansão e à entrega confiável.</span><span class="sxs-lookup"><span data-stu-id="f0855-121">The message broker should support scale-out processing and reliable delivery.</span></span>

- <span data-ttu-id="f0855-122">**Processamento de fluxo.**</span><span class="sxs-lookup"><span data-stu-id="f0855-122">**Stream processing.**</span></span> <span data-ttu-id="f0855-123">Depois de capturar mensagens em tempo real, a solução precisa processá-las filtrando, agregando e preparando os dados para análise.</span><span class="sxs-lookup"><span data-stu-id="f0855-123">After capturing real-time messages, the solution must process them by filtering, aggregating, and otherwise preparing the data for analysis.</span></span>

- <span data-ttu-id="f0855-124">**Armazenamento de dados analíticos.**</span><span class="sxs-lookup"><span data-stu-id="f0855-124">**Analytical data store.**</span></span> <span data-ttu-id="f0855-125">Muitas soluções de Big Data foram projetadas para preparar dados para análise e então fornecer os dados processados em um formato estruturado que pode ser consultado com ferramentas analíticas.</span><span class="sxs-lookup"><span data-stu-id="f0855-125">Many big data solutions are designed to prepare data for analysis and then serve the processed data in a structured format that can be queried using analytical tools.</span></span> 

- <span data-ttu-id="f0855-126">**Análise e relatórios.**</span><span class="sxs-lookup"><span data-stu-id="f0855-126">**Analysis and reporting.**</span></span> <span data-ttu-id="f0855-127">A meta da maioria das soluções de Big Data é gerar insights sobre os dados por meio de análise e relatórios.</span><span class="sxs-lookup"><span data-stu-id="f0855-127">The goal of most big data solutions is to provide insights into the data through analysis and reporting.</span></span> 

## <a name="technology-choices"></a><span data-ttu-id="f0855-128">Opções de tecnologia</span><span class="sxs-lookup"><span data-stu-id="f0855-128">Technology choices</span></span>

<span data-ttu-id="f0855-129">As tecnologias a seguir são as opções recomendadas de soluções de processamento em tempo real do Azure.</span><span class="sxs-lookup"><span data-stu-id="f0855-129">The following technologies are recommended choices for real-time processing solutions in Azure.</span></span>

### <a name="real-time-message-ingestion"></a><span data-ttu-id="f0855-130">Ingestão de mensagens em tempo real</span><span class="sxs-lookup"><span data-stu-id="f0855-130">Real-time message ingestion</span></span>

- <span data-ttu-id="f0855-131">**Hubs de Eventos do Azure**.</span><span class="sxs-lookup"><span data-stu-id="f0855-131">**Azure Event Hubs**.</span></span> <span data-ttu-id="f0855-132">Os Hubs de Eventos do Azure são uma solução de enfileiramento de mensagens para a ingestão de milhões de mensagens de eventos por segundo.</span><span class="sxs-lookup"><span data-stu-id="f0855-132">Azure Event Hubs is a message queuing solution for ingesting millions of event messages per second.</span></span> <span data-ttu-id="f0855-133">Os dados de evento capturados podem ser processados por vários consumidores em paralelo.</span><span class="sxs-lookup"><span data-stu-id="f0855-133">The captured event data can be processed by multiple consumers in parallel.</span></span>
- <span data-ttu-id="f0855-134">**Hub IoT do Azure**.</span><span class="sxs-lookup"><span data-stu-id="f0855-134">**Azure IoT Hub**.</span></span> <span data-ttu-id="f0855-135">O Hub IoT do Azure fornece comunicação bidirecional entre dispositivos conectados à Internet e uma fila de mensagens escalonável que pode manipular milhões de dispositivos conectados simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="f0855-135">Azure IoT Hub provides bi-directional communication between Internet-connected devices, and a scalable message queue that can handle millions of simultaneously connected devices.</span></span>
- <span data-ttu-id="f0855-136">**Apache Kafka**.</span><span class="sxs-lookup"><span data-stu-id="f0855-136">**Apache Kafka**.</span></span> <span data-ttu-id="f0855-137">O Kafka é um aplicativo de software livre de enfileiramento de mensagens e processamento de fluxo que pode ser dimensionado para manipular milhões de mensagens por segundo de vários produtores de mensagens e encaminhá-las para vários consumidores.</span><span class="sxs-lookup"><span data-stu-id="f0855-137">Kafka is an open source message queuing and stream processing application that can scale to handle millions of messages per second from multiple message producers, and route them to multiple consumers.</span></span> <span data-ttu-id="f0855-138">O Kafka está disponível no Azure como um tipo de cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="f0855-138">Kafka is available in Azure as an HDInsight cluster type.</span></span>

<span data-ttu-id="f0855-139">Para obter mais informações, consulte [Ingestão de mensagens em tempo real](../technology-choices/real-time-ingestion.md).</span><span class="sxs-lookup"><span data-stu-id="f0855-139">For more information, see [Real-time message ingestion](../technology-choices/real-time-ingestion.md).</span></span>

### <a name="data-storage"></a><span data-ttu-id="f0855-140">Armazenamento de dados</span><span class="sxs-lookup"><span data-stu-id="f0855-140">Data storage</span></span>

- <span data-ttu-id="f0855-141">**Contêineres do Azure Storage Blob** ou **Azure Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="f0855-141">**Azure Storage Blob Containers** or **Azure Data Lake Store**.</span></span> <span data-ttu-id="f0855-142">Os dados de entrada em tempo real normalmente são capturados em um agente de mensagens (veja acima), mas em alguns cenários, pode fazer sentido monitorar os novos arquivos de uma pasta e processá-los conforme eles são criados ou atualizados.</span><span class="sxs-lookup"><span data-stu-id="f0855-142">Incoming real-time data is usually captured in a message broker (see above), but in some scenarios, it can make sense to monitor a folder for new files and process them as they are created or updated.</span></span> <span data-ttu-id="f0855-143">Além disso, muitas soluções de processamento em tempo real combinam dados de streaming com os dados de referência estática, que podem ser armazenados em um repositório de arquivos.</span><span class="sxs-lookup"><span data-stu-id="f0855-143">Additionally, many real-time processing solutions combine streaming data with static reference data, which can be stored in a file store.</span></span> <span data-ttu-id="f0855-144">Por fim, o armazenamento de arquivos pode ser usado como um destino de saída para os dados capturados em tempo real para arquivamento ou para um processamento em lotes posterior em uma [arquitetura lambda](../concepts/big-data.md#lambda-architecture).</span><span class="sxs-lookup"><span data-stu-id="f0855-144">Finally, file storage may be used as an output destination for captured real-time data for archiving, or for further batch processing in a [lambda architecture](../concepts/big-data.md#lambda-architecture).</span></span>

<span data-ttu-id="f0855-145">Para obter mais informações, consulte [Armazenamento de dados](../technology-choices/data-storage.md).</span><span class="sxs-lookup"><span data-stu-id="f0855-145">For more information, see [Data storage](../technology-choices/data-storage.md).</span></span>

### <a name="stream-processing"></a><span data-ttu-id="f0855-146">Processamento de fluxo</span><span class="sxs-lookup"><span data-stu-id="f0855-146">Stream processing</span></span>

- <span data-ttu-id="f0855-147">**Azure Stream Analytics**.</span><span class="sxs-lookup"><span data-stu-id="f0855-147">**Azure Stream Analytics**.</span></span> <span data-ttu-id="f0855-148">O Azure Stream Analytics pode executar consultas perpétuas em um fluxo não associado de dados.</span><span class="sxs-lookup"><span data-stu-id="f0855-148">Azure Stream Analytics can run perpetual queries against an unbounded stream of data.</span></span> <span data-ttu-id="f0855-149">Essas consultas consomem fluxos de dados de um armazenamento ou agentes de mensagens, filtram e agregam os dados com base em janelas temporais e gravam os resultados em coletores como armazenamento, bancos de dados ou diretamente em relatórios no Power BI.</span><span class="sxs-lookup"><span data-stu-id="f0855-149">These queries consume streams of data from storage or message brokers, filter and aggregate the data based on temporal windows, and write the results to sinks such as storage, databases, or directly to reports in Power BI.</span></span>
- <span data-ttu-id="f0855-150">**Storm**.</span><span class="sxs-lookup"><span data-stu-id="f0855-150">**Storm**.</span></span> <span data-ttu-id="f0855-151">O Apache Storm é uma estrutura de software livre para processamento de fluxo que usa uma topologia de spouts e bolts para consumir, processar e gerar os resultados de fontes de dados de streaming em tempo real.</span><span class="sxs-lookup"><span data-stu-id="f0855-151">Apache Storm is an open source framework for stream processing that uses a topology of spouts and bolts to consume, process, and output the results from real-time streaming data sources.</span></span> <span data-ttu-id="f0855-152">Provisione o Storm em um cluster Azure HDInsight e implemente uma topologia em Java ou C#.</span><span class="sxs-lookup"><span data-stu-id="f0855-152">You can provision Storm in an Azure HDInsight cluster, and implement a topology in Java or C#.</span></span>
- <span data-ttu-id="f0855-153">**Spark Streaming**.</span><span class="sxs-lookup"><span data-stu-id="f0855-153">**Spark Streaming**.</span></span> <span data-ttu-id="f0855-154">O Apache Spark é uma plataforma distribuída de software livre para processamento geral de dados.</span><span class="sxs-lookup"><span data-stu-id="f0855-154">Apache Spark is an open source distributed platform for general data processing.</span></span> <span data-ttu-id="f0855-155">O Spark fornece a API do Spark Streaming, na qual você pode escrever um código em qualquer linguagem Spark compatível, incluindo Java, Scala e Python.</span><span class="sxs-lookup"><span data-stu-id="f0855-155">Spark provides the Spark Streaming API, in which you can write code in any supported Spark language, including Java, Scala, and Python.</span></span> <span data-ttu-id="f0855-156">O Spark 2.0 introduziu a API de Streaming Estruturado do Spark, que fornece um modelo de programação simples e mais consistente.</span><span class="sxs-lookup"><span data-stu-id="f0855-156">Spark 2.0 introduced the Spark Structured Streaming API, which provides a simpler and more consistent programming model.</span></span> <span data-ttu-id="f0855-157">O Spark 2.0 está disponível em um cluster Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="f0855-157">Spark 2.0 is available in an Azure HDInsight cluster.</span></span>

<span data-ttu-id="f0855-158">Para obter mais informações, consulte [Processamento de fluxo](../technology-choices/stream-processing.md).</span><span class="sxs-lookup"><span data-stu-id="f0855-158">For more information, see [Stream processing](../technology-choices/stream-processing.md).</span></span>

### <a name="analytical-data-store"></a><span data-ttu-id="f0855-159">Armazenamento de dados analíticos</span><span class="sxs-lookup"><span data-stu-id="f0855-159">Analytical data store</span></span>

- <span data-ttu-id="f0855-160">**SQL Data Warehouse**, **HBase**, **Spark** ou **Hive**.</span><span class="sxs-lookup"><span data-stu-id="f0855-160">**SQL Data Warehouse**, **HBase**, **Spark**, or **Hive**.</span></span> <span data-ttu-id="f0855-161">Os dados processados em tempo real podem ser armazenados em um banco de dados relacional como o SQL Data Warehouse do Azure, um repositório NoSQL, como o HBase, ou como arquivos em um armazenamento distribuído no qual as tabelas do Spark ou Hive podem ser definidas e consultadas.</span><span class="sxs-lookup"><span data-stu-id="f0855-161">Processed real-time data can be stored in a relational database such Azure SQL Data Warehouse, a NoSQL store such as HBase, or as files in distributed storage over which Spark or Hive tables can be defined and queried.</span></span>

<span data-ttu-id="f0855-162">Para obter mais informações, consulte [Armazenamentos de dados analíticos](../technology-choices/analytical-data-stores.md).</span><span class="sxs-lookup"><span data-stu-id="f0855-162">For more information, see [Analytical data stores](../technology-choices/analytical-data-stores.md).</span></span>

### <a name="analytics-and-reporting"></a><span data-ttu-id="f0855-163">Análise e relatórios</span><span class="sxs-lookup"><span data-stu-id="f0855-163">Analytics and reporting</span></span>

- <span data-ttu-id="f0855-164">**Azure Analysis Services**, **Power BI** e **Microsoft Excel**.</span><span class="sxs-lookup"><span data-stu-id="f0855-164">**Azure Analysis Services**, **Power BI**, and **Microsoft Excel**.</span></span> <span data-ttu-id="f0855-165">Os dados processados em tempo real que são armazenados em um armazenamento de dados analíticos podem ser usados para análise e relatórios históricos da mesma maneira que os dados processados em lotes.</span><span class="sxs-lookup"><span data-stu-id="f0855-165">Processed real-time data that is stored in an analytical data store can be used for historical reporting and analysis in the same way as batch processed data.</span></span> <span data-ttu-id="f0855-166">Além disso, o Power BI pode ser usado para publicar relatórios em tempo real (ou quase em tempo real) e visualizações de fontes de dados analíticos, em que a latência é suficientemente baixa, ou em alguns casos, diretamente na saída de processamento do fluxo.</span><span class="sxs-lookup"><span data-stu-id="f0855-166">Additionally, Power BI can be used to publish real-time (or near-real-time) reports and visualizations from analytical data sources where latency is sufficiently low, or in some cases directly from the stream processing output.</span></span>

<span data-ttu-id="f0855-167">Para obter mais informações, consulte [Análise e relatórios](../technology-choices/analysis-visualizations-reporting.md).</span><span class="sxs-lookup"><span data-stu-id="f0855-167">For more information, see [Analytics and reporting](../technology-choices/analysis-visualizations-reporting.md).</span></span>

<span data-ttu-id="f0855-168">Em uma solução totalmente em tempo real, a maioria da orquestração de processamento é gerenciada pelos componentes de ingestão de mensagens e processamento de fluxo.</span><span class="sxs-lookup"><span data-stu-id="f0855-168">In a purely real-time solution, most of the processing orchestration is managed by the message ingestion and stream processing components.</span></span> <span data-ttu-id="f0855-169">No entanto, em uma arquitetura lambda que combina o processamento em lotes e o processamento em tempo real, talvez você precise usar uma estrutura de orquestração como o Azure Data Factory ou o Apache Oozie e Sqoop para gerenciar fluxos de trabalho em lotes para os dados capturados em tempo real.</span><span class="sxs-lookup"><span data-stu-id="f0855-169">However, in a lambda architecture that combines batch processing and real-time processing, you may need to use an orchestration framework such as Azure Data Factory or Apache Oozie and Sqoop to manage batch workflows for captured real-time data.</span></span>

