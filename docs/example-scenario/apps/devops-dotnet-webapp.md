---
title: Pipeline de CI/CD com o Azure DevOps
description: Crie e libere um aplicativo .NET para aplicativos Web do Azure usando o Azure DevOps.
author: christianreddington
ms.date: 07/11/18
ms.openlocfilehash: 80890784d4c97aac418cef4e49f9075dbef10b8a
ms.sourcegitcommit: b2a4eb132857afa70201e28d662f18458865a48e
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/05/2018
ms.locfileid: "48818931"
---
# <a name="cicd-pipeline-with-azure-devops"></a><span data-ttu-id="b74cd-103">Pipeline de CI/CD com o Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="b74cd-103">CI/CD pipeline with Azure DevOps</span></span>

<span data-ttu-id="b74cd-104">DevOps é a integração do desenvolvimento, da garantia de qualidade e das operações de TI.</span><span class="sxs-lookup"><span data-stu-id="b74cd-104">DevOps is the integration of development, quality assurance, and IT operations.</span></span> <span data-ttu-id="b74cd-105">O DevOps requer uma cultura unificada e um conjunto robusto de processos para entrega de software.</span><span class="sxs-lookup"><span data-stu-id="b74cd-105">DevOps requires both unified culture and a strong set of processes for delivering software.</span></span>

<span data-ttu-id="b74cd-106">Este cenário de exemplo demonstra como as equipes de desenvolvimento podem usar Azure DevOps para implantar um aplicativo Web de duas camadas.NET no Serviço de Aplicativo do Azure.</span><span class="sxs-lookup"><span data-stu-id="b74cd-106">This example scenario demonstrates how development teams can use Azure DevOps to deploy a .NET two-tier web application to Azure App Service.</span></span> <span data-ttu-id="b74cd-107">O aplicativo Web depende dos serviços de PaaS (plataforma como serviço) do Azure downstream.</span><span class="sxs-lookup"><span data-stu-id="b74cd-107">The Web Application depends on downstream Azure platform as a service (PaaS) services.</span></span> <span data-ttu-id="b74cd-108">Este documento também destaca algumas considerações que você deve fazer ao projetar um cenário como esse usando PaaS do Azure.</span><span class="sxs-lookup"><span data-stu-id="b74cd-108">This document also points out some considerations that you should make when designing such a scenario using Azure PaaS.</span></span>

<span data-ttu-id="b74cd-109">Adotar uma abordagem moderna para o desenvolvimento de aplicativos usando Integração Contínua e Implantação Contínua (CI/CD), ajuda a acelerar a entrega de valor para seus usuários por meio de um serviço de compilação, teste, implantação e monitoramento robusto.</span><span class="sxs-lookup"><span data-stu-id="b74cd-109">Adopting a modern approach to application development using Continuous Integration and Continuous Deployment (CI/CD), helps you to accelerate the delivery of value to your users through a robust build, test, deployment, and monitoring service.</span></span> <span data-ttu-id="b74cd-110">Usando uma plataforma como o Azure DevOps, juntamente com serviços do Azure como o Serviço de Aplicativo, as organizações podem se concentrar no desenvolvimento de seu cenário, em vez do gerenciamento da infraestrutura de suporte.</span><span class="sxs-lookup"><span data-stu-id="b74cd-110">By using a platform such as Azure DevOps along with Azure services such as App Service, organizations can focus on the development of their scenario rather than the management of the supporting infrastructure.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="b74cd-111">Casos de uso relevantes</span><span class="sxs-lookup"><span data-stu-id="b74cd-111">Relevant use cases</span></span>

<span data-ttu-id="b74cd-112">Considere usar o DevOps nos casos de uso abaixo:</span><span class="sxs-lookup"><span data-stu-id="b74cd-112">Consider DevOps for the following use cases:</span></span>

* <span data-ttu-id="b74cd-113">Aceleração do desenvolvimento de aplicativos e ciclos de vida de desenvolvimento</span><span class="sxs-lookup"><span data-stu-id="b74cd-113">Accelerating application development and development life cycles</span></span>
* <span data-ttu-id="b74cd-114">Gerar qualidade e consistência em um processo de versão e build automatizado</span><span class="sxs-lookup"><span data-stu-id="b74cd-114">Building quality and consistency into an automated build and release process</span></span>

## <a name="architecture"></a><span data-ttu-id="b74cd-115">Arquitetura</span><span class="sxs-lookup"><span data-stu-id="b74cd-115">Architecture</span></span>

![Visão geral da arquitetura dos componentes do Azure envolvidos em um cenário de DevOps usando Azure DevOps e o Serviço de Aplicativo do Azure][architecture]

<span data-ttu-id="b74cd-117">Este cenário aborda um pipeline de CI/CD para um aplicativo Web do .NET usando o Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="b74cd-117">This scenario covers a CI/CD pipeline for a .NET web application using Azure DevOps.</span></span> <span data-ttu-id="b74cd-118">O fluxo de dados neste cenário ocorre da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="b74cd-118">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="b74cd-119">Altere o código-fonte do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b74cd-119">Change application source code.</span></span>
2. <span data-ttu-id="b74cd-120">Confirme o código do aplicativo e o arquivo web.config de Aplicativos Web.</span><span class="sxs-lookup"><span data-stu-id="b74cd-120">Commit application code and Web Apps web.config file.</span></span>
3. <span data-ttu-id="b74cd-121">A integração contínua dispara o build do aplicativo e os testes de unidade.</span><span class="sxs-lookup"><span data-stu-id="b74cd-121">Continuous integration triggers application build and unit tests.</span></span>
4. <span data-ttu-id="b74cd-122">O gatilho de implantação contínua orquestra a implantação de artefatos de aplicativo com *valores de configuração com parâmetros específicos do ambiente*.</span><span class="sxs-lookup"><span data-stu-id="b74cd-122">Continuous deployment trigger orchestrates deployment of application artifacts *with environment-specific parameterized configuration values*.</span></span>
5. <span data-ttu-id="b74cd-123">Implantação do Serviço de Aplicativo do Azure.</span><span class="sxs-lookup"><span data-stu-id="b74cd-123">Deployment to Azure App Service.</span></span>
6. <span data-ttu-id="b74cd-124">O Application Insights do Azure coleta e analisa dados de integridade, de desempenho e de uso.</span><span class="sxs-lookup"><span data-stu-id="b74cd-124">Azure Application Insights collects and analyzes health, performance, and usage data.</span></span>
7. <span data-ttu-id="b74cd-125">Examine as informações sobre integridade, desempenho e uso.</span><span class="sxs-lookup"><span data-stu-id="b74cd-125">Review health, performance, and usage information.</span></span>

### <a name="components"></a><span data-ttu-id="b74cd-126">Componentes</span><span class="sxs-lookup"><span data-stu-id="b74cd-126">Components</span></span>

* <span data-ttu-id="b74cd-127">O [Azure DevOps][vsts] é um serviço para gerenciar seu ciclo de vida de desenvolvimento de ponta a ponta&mdash;, desde o planejamento e gerenciamento de projetos até o gerenciamento de código, bem como a compilação e o lançamento.</span><span class="sxs-lookup"><span data-stu-id="b74cd-127">[Azure DevOps][vsts] is a service for managing your development life cycle end-to-end &mdash; from planning and project management, to code management, and continuing to build and release.</span></span>
* <span data-ttu-id="b74cd-128">Os [Aplicativos Web do Azure][web-apps] são um serviço de PaaS de hospedagem de aplicativos Web, APIs REST e back-ends móveis.</span><span class="sxs-lookup"><span data-stu-id="b74cd-128">[Azure Web Apps][web-apps] is a PaaS service for hosting web applications, REST APIs, and mobile back ends.</span></span> <span data-ttu-id="b74cd-129">Embora este artigo se concentre em .NET, há várias opções de plataforma de desenvolvimento adicionais com suporte.</span><span class="sxs-lookup"><span data-stu-id="b74cd-129">While this article focuses on .NET, there are several additional development platform options supported.</span></span>
* <span data-ttu-id="b74cd-130">O [Application Insights][application-insights] é um serviço de gerenciamento de desempenho de aplicativo (APM), “first-party” extensível para desenvolvedores da Web em várias plataformas.</span><span class="sxs-lookup"><span data-stu-id="b74cd-130">[Application Insights][application-insights] is a first-party, extensible Application Performance Management (APM) service for web developers on multiple platforms.</span></span>

### <a name="alternative-devops-tooling-options"></a><span data-ttu-id="b74cd-131">Opções alternativas de ferramentas do DevOps</span><span class="sxs-lookup"><span data-stu-id="b74cd-131">Alternative DevOps tooling options</span></span>

<span data-ttu-id="b74cd-132">Embora este artigo se concentre no Azure DevOps, o [Team Foundation Server][team-foundation-server] poderia ser usado como substituto local.</span><span class="sxs-lookup"><span data-stu-id="b74cd-132">While this article focuses on Azure DevOps, [Team Foundation Server][team-foundation-server] could be used as on-premises substitute.</span></span> <span data-ttu-id="b74cd-133">Como alternativa, você também pode usar um conjunto de tecnologias para um pipeline de desenvolvimento de software livre usando [Jenkins][jenkins-on-azure].</span><span class="sxs-lookup"><span data-stu-id="b74cd-133">Alternatively, you could also use a set of technologies for an open source development pipeline using [Jenkins][jenkins-on-azure].</span></span>

<span data-ttu-id="b74cd-134">De uma perspectiva de infraestrutura como código, [modelos do Azure Resource Manager][arm-templates] são incluídos como parte do projeto do Azure DevOps, mas você pode considerar [Terraform][terraform] ou [Chef][chef].</span><span class="sxs-lookup"><span data-stu-id="b74cd-134">From an infrastructure-as-code perspective, [Azure Resource Manager Templates][arm-templates] are included as part of the Azure DevOps project, but you could consider [Terraform][terraform] or [Chef][chef].</span></span> <span data-ttu-id="b74cd-135">Se você prefere uma implantação baseada em IaaS (infraestrutura como serviço) e exige o gerenciamento de configuração, você poderia considerar o [State Configuration da Automação do Azure][desired-state-configuration], o [Ansible][ansible] ou o [Chef][chef].</span><span class="sxs-lookup"><span data-stu-id="b74cd-135">If you prefer an infrastructure-as-a-service (IaaS)-based deployment and require configuration management, you could consider either [Azure Automation State Configuration][desired-state-configuration], [Ansible][ansible], or [Chef][chef].</span></span>

### <a name="alternatives-to-azure-web-apps"></a><span data-ttu-id="b74cd-136">Alternativas para aplicativos Web do Azure</span><span class="sxs-lookup"><span data-stu-id="b74cd-136">Alternatives to Azure Web Apps</span></span>

<span data-ttu-id="b74cd-137">Você pode considerar estas alternativas à hospedagem em Azure Web Apps:</span><span class="sxs-lookup"><span data-stu-id="b74cd-137">You could consider these alternatives to hosting in Azure Web Apps:</span></span>

* <span data-ttu-id="b74cd-138">[Máquinas Virtuais do Azure][compare-vm-hosting] &mdash; Para cargas de trabalho que exigem um alto grau de controle, ou dependem dos componentes do sistema operacional e serviços que não são possíveis com Aplicativos Web (por exemplo, o Windows GAC ou COM).</span><span class="sxs-lookup"><span data-stu-id="b74cd-138">[Azure Virtual Machines][compare-vm-hosting] &mdash; For workloads that require a high degree of control, or depend on OS components and services that are not possible with Web Apps (for example, the Windows GAC, or COM).</span></span>
* <span data-ttu-id="b74cd-139">[Service Fabric][service-fabric] &mdash; uma boa opção se a arquitetura da carga de trabalho for voltada para componentes distribuídos que se beneficiam da implantação e execução em um cluster com um alto grau de controle.</span><span class="sxs-lookup"><span data-stu-id="b74cd-139">[Service Fabric][service-fabric] &mdash; a good option if the workload architecture is focused around distributed components that benefit from being deployed and run across a cluster with a high degree of control.</span></span> <span data-ttu-id="b74cd-140">O Service Fabric também pode ser usado para hospedar contêineres.</span><span class="sxs-lookup"><span data-stu-id="b74cd-140">Service Fabric can also be used to host containers.</span></span>
* <span data-ttu-id="b74cd-141">[Azure Functions][azure-functions] - uma abordagem eficaz sem servidor se a arquitetura de carga de trabalho é centralizada em torno de componentes distribuídos refinados, exigindo dependências mínimas, onde componentes individuais são necessários somente para execução sob demanda (não continuamente) e a orquestração dos componentes não é necessária.</span><span class="sxs-lookup"><span data-stu-id="b74cd-141">[Azure Functions][azure-functions] - an effective serverless approach if the workload architecture is centered around fine grained distributed components, requiring minimal dependencies, where individual components are only required to run on demand (not continuously) and orchestration of components is not required.</span></span>

<span data-ttu-id="b74cd-142">Essa [árvore de decisão](/azure/architecture/guide/technology-choices/compute-decision-tree) pode ajudar na escolha do caminho certo para uma migração.</span><span class="sxs-lookup"><span data-stu-id="b74cd-142">This [decision tree](/azure/architecture/guide/technology-choices/compute-decision-tree) may help when choosing the right path to take for a migration.</span></span>

### <a name="devops"></a><span data-ttu-id="b74cd-143">DevOps</span><span class="sxs-lookup"><span data-stu-id="b74cd-143">DevOps</span></span>

<span data-ttu-id="b74cd-144">A **[Integração Contínua (CI)][continuous-integration]** mantém uma compilação estável, com vários desenvolvedores regularmente confirmando alterações pequenas e frequentes na base de código compartilhado.</span><span class="sxs-lookup"><span data-stu-id="b74cd-144">**[Continuous Integration (CI)][continuous-integration]** maintains a stable build, with multiple developers regularly committing small, frequent changes to the shared codebase.</span></span> <span data-ttu-id="b74cd-145">Como parte de seu pipeline de integração contínua, você deve:</span><span class="sxs-lookup"><span data-stu-id="b74cd-145">As part of your continuous integration pipeline, you should:</span></span>
* <span data-ttu-id="b74cd-146">Confirme com frequência as alterações de código secundárias.</span><span class="sxs-lookup"><span data-stu-id="b74cd-146">Frequently commit smaller code changes.</span></span> <span data-ttu-id="b74cd-147">Evite reunir em lote alterações maiores ou mais complexas que podem ser mais difíceis de mesclar com êxito.</span><span class="sxs-lookup"><span data-stu-id="b74cd-147">Avoid batching up larger or more complex changes that may be more difficult to merge successfully.</span></span>
* <span data-ttu-id="b74cd-148">Realize testes de unidade dos componentes do aplicativo com cobertura de código suficiente, incluindo testes de caminhos com falha.</span><span class="sxs-lookup"><span data-stu-id="b74cd-148">Conduct unit testing of your application components with sufficient code coverage, including testing the unhappy paths.</span></span>
* <span data-ttu-id="b74cd-149">Garanta que a compilação seja executada em relação ao branch mestre (ou tronco) compartilhado.</span><span class="sxs-lookup"><span data-stu-id="b74cd-149">Ensure the build is run against the shared master (or trunk) branch.</span></span> <span data-ttu-id="b74cd-150">Essa ramificação deve ser estável e mantida como “pronta para implantação”.</span><span class="sxs-lookup"><span data-stu-id="b74cd-150">This branch should be stable and maintained as "deployment ready".</span></span> <span data-ttu-id="b74cd-151">As alterações incompletas ou em andamento devem ser isoladas em um branch separado com mesclagens frequentes de "integração para uso futuro" para evitar conflitos mais tarde.</span><span class="sxs-lookup"><span data-stu-id="b74cd-151">Incomplete or work-in-progress changes should be isolated in a separate branch with frequent "forward integration" merges to avoid conflicts later.</span></span>

<span data-ttu-id="b74cd-152">A **[Entrega contínua (CD)][continuous-delivery]** demonstra não apenas uma compilação estável, mas também uma implantação estável.</span><span class="sxs-lookup"><span data-stu-id="b74cd-152">**[Continuous Delivery (CD)][continuous-delivery]** demonstrates not just a stable build but a stable deployment.</span></span> <span data-ttu-id="b74cd-153">Isso torna a concretização da CD um pouco mais difícil, exigindo uma configuração específica para o ambiente, bem como um mecanismo para definir esses valores corretamente.</span><span class="sxs-lookup"><span data-stu-id="b74cd-153">This makes realizing CD a little more difficult, requiring environment-specific configuration and a mechanism for setting those values correctly.</span></span> <span data-ttu-id="b74cd-154">Outras considerações de CD incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="b74cd-154">Other CD considerations include the following:</span></span>
* <span data-ttu-id="b74cd-155">A cobertura de teste de integração suficiente é necessária para validar que os vários componentes estão configurados e funcionam corretamente de ponta a ponta.</span><span class="sxs-lookup"><span data-stu-id="b74cd-155">Sufficient integration testing coverage is required to validate that the various components are configured and working correctly end-to-end.</span></span>
* <span data-ttu-id="b74cd-156">A CD também pode exigir configuração e redefinição dos dados específicos do ambiente e o gerenciamento de versões de esquema de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b74cd-156">CD may also require setting up and resetting environment-specific data and managing database schema versions.</span></span>
* <span data-ttu-id="b74cd-157">A entrega contínua também deve ser estendida para teste de carga e ambientes de teste de aceitação do usuário.</span><span class="sxs-lookup"><span data-stu-id="b74cd-157">Continuous delivery should also extend to load testing and user acceptance testing environments.</span></span>
* <span data-ttu-id="b74cd-158">A entrega contínua beneficia-se de monitoramento contínuo, idealmente em todos os ambientes.</span><span class="sxs-lookup"><span data-stu-id="b74cd-158">Continuous delivery benefits from continuous monitoring, ideally across all environments.</span></span>
* <span data-ttu-id="b74cd-159">A consistência e a confiabilidade de implantações e teste de integração entre ambientes são facilitadas com scripts para a criação e a configuração da infraestrutura de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="b74cd-159">The consistency and reliability of deployments and integration testing across environments is made easier by scripting the creation and configuration of the hosting infrastructure.</span></span> <span data-ttu-id="b74cd-160">Isso é consideravelmente mais fácil para cargas de trabalho baseadas em nuvem.</span><span class="sxs-lookup"><span data-stu-id="b74cd-160">This is considerably easier for cloud-based workloads.</span></span> <span data-ttu-id="b74cd-161">Para saber mais, veja [Infraestrutura como código][infra-as-code].</span><span class="sxs-lookup"><span data-stu-id="b74cd-161">For more information, see [Infrastructure as Code][infra-as-code].</span></span>
* <span data-ttu-id="b74cd-162">Inicie a entrega contínua o mais cedo possível no ciclo de vida do projeto.</span><span class="sxs-lookup"><span data-stu-id="b74cd-162">Begin continuous delivery as early as possible in the project lifecycle.</span></span> <span data-ttu-id="b74cd-163">Quanto mais tarde você começar, mais difícil será incorporar.</span><span class="sxs-lookup"><span data-stu-id="b74cd-163">The later you begin, the more difficult it will be to incorporate.</span></span>
* <span data-ttu-id="b74cd-164">Integração e testes de unidade devem receber a mesma prioridade que os recursos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b74cd-164">Integration and unit tests should be given the same priority as application features.</span></span>
* <span data-ttu-id="b74cd-165">Use pacotes de implantação não relacionados ao ambiente e gerencie a configuração específica do ambiente por meio do processo de liberação.</span><span class="sxs-lookup"><span data-stu-id="b74cd-165">Use environment-agnostic deployment packages and manage environment-specific configuration via the release process.</span></span>
* <span data-ttu-id="b74cd-166">Proteja a configuração confidencial usando as ferramentas de gerenciamento de versão ou ao chamar um HSM, ou [Azure Key Vault][azure-key-vault], durante o processo de liberação.</span><span class="sxs-lookup"><span data-stu-id="b74cd-166">Protect sensitive configuration using the release management tooling, or by calling out to a Hardware-security-module (HSM) or [Azure Key Vault][azure-key-vault] during the release process.</span></span> <span data-ttu-id="b74cd-167">Não armazene configurações confidenciais dentro do controle do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="b74cd-167">Do not store sensitive configuration within source control.</span></span>

<span data-ttu-id="b74cd-168">**Aprendizado contínuo**.</span><span class="sxs-lookup"><span data-stu-id="b74cd-168">**Continuous Learning**.</span></span> <span data-ttu-id="b74cd-169">O monitoramento mais eficiente de um ambiente de CD é fornecido por ferramentas de APM (monitoramento do desempenho de aplicativo), como o [Application Insights][application-insights].</span><span class="sxs-lookup"><span data-stu-id="b74cd-169">The most effective monitoring of a CD environment is provided by application performance monitoring (APM) tools such as [Application Insights][application-insights].</span></span> <span data-ttu-id="b74cd-170">Uma capacidade de monitoramento detalhada o suficiente para uma carga de trabalho do aplicativo é fundamental para entender bugs ou o desempenho sob carga.</span><span class="sxs-lookup"><span data-stu-id="b74cd-170">Sufficient depth of monitoring for an application workload is critical to understand bugs or performance under load.</span></span> <span data-ttu-id="b74cd-171">O Application Insights pode ser integrado ao VSTS para habilitar o [monitoramento contínuo do pipeline de CD][app-insights-cd-monitoring].</span><span class="sxs-lookup"><span data-stu-id="b74cd-171">Application Insights can be integrated into VSTS to enable [continuous monitoring of the CD pipeline][app-insights-cd-monitoring].</span></span> <span data-ttu-id="b74cd-172">Isso pode ser usado para habilitar a progressão automática para o próximo estágio, sem intervenção humana, ou a reversão se um alerta for detectado.</span><span class="sxs-lookup"><span data-stu-id="b74cd-172">This could be used to enable automatic progression to the next stage, without human intervention, or rollback if an alert is detected.</span></span>

## <a name="considerations"></a><span data-ttu-id="b74cd-173">Considerações</span><span class="sxs-lookup"><span data-stu-id="b74cd-173">Considerations</span></span>

### <a name="availability"></a><span data-ttu-id="b74cd-174">Disponibilidade</span><span class="sxs-lookup"><span data-stu-id="b74cd-174">Availability</span></span>

<span data-ttu-id="b74cd-175">Considere a possibilidade de aproveitar os [padrões de design comuns para disponibilidade][design-patterns-availability] ao criar seu aplicativo de nuvem.</span><span class="sxs-lookup"><span data-stu-id="b74cd-175">Consider leveraging the [typical design patterns for availability][design-patterns-availability] when building your cloud application.</span></span>

<span data-ttu-id="b74cd-176">Analise as considerações de disponibilidade na [arquitetura de referência de aplicativo Web do Serviço de Aplicativo][app-service-reference-architecture] apropriada</span><span class="sxs-lookup"><span data-stu-id="b74cd-176">Review the availability considerations in the appropriate [App Service web application reference architecture][app-service-reference-architecture]</span></span>

<span data-ttu-id="b74cd-177">Para ver outros tópicos sobre disponibilidade, consulte a [lista de verificação de disponibilidade][availability] no Azure Architecture Center.</span><span class="sxs-lookup"><span data-stu-id="b74cd-177">For other availability topics, see the [availability checklist][availability] in the Azure Architecture Center.</span></span>

### <a name="scalability"></a><span data-ttu-id="b74cd-178">Escalabilidade</span><span class="sxs-lookup"><span data-stu-id="b74cd-178">Scalability</span></span>

<span data-ttu-id="b74cd-179">Ao criar um aplicativo de nuvem esteja atento a [padrões de design comuns para escalabilidade][design-patterns-scalability].</span><span class="sxs-lookup"><span data-stu-id="b74cd-179">When building a cloud application be aware of the [typical design patterns for scalability][design-patterns-scalability].</span></span>

<span data-ttu-id="b74cd-180">Analise as considerações de escalabilidade na [arquitetura de referência de aplicativo Web do Serviço de Aplicativo][app-service-reference-architecture] apropriada</span><span class="sxs-lookup"><span data-stu-id="b74cd-180">Review the scalability considerations in the appropriate [App Service web application reference architecture][app-service-reference-architecture]</span></span>

<span data-ttu-id="b74cd-181">Para outros tópicos de escalabilidade, confira a [lista de verificação de escalabilidade] [ scalability] no Azure Architecture Center.</span><span class="sxs-lookup"><span data-stu-id="b74cd-181">For other scalability topics, see the [scalability checklist][scalability] in the Azure Architecture Center.</span></span>

### <a name="security"></a><span data-ttu-id="b74cd-182">Segurança</span><span class="sxs-lookup"><span data-stu-id="b74cd-182">Security</span></span>

<span data-ttu-id="b74cd-183">Considere a possibilidade de aproveitar os [padrões de design comuns de segurança][design-patterns-security] quando apropriado.</span><span class="sxs-lookup"><span data-stu-id="b74cd-183">Consider leveraging the [typical design patterns for security][design-patterns-security] where appropriate.</span></span>

<span data-ttu-id="b74cd-184">Analise as considerações de segurança na [arquitetura de referência de aplicativo Web do Serviço de Aplicativo][app-service-reference-architecture] apropriada.</span><span class="sxs-lookup"><span data-stu-id="b74cd-184">Review the security considerations in the appropriate [App Service web application reference architecture][app-service-reference-architecture].</span></span>

<span data-ttu-id="b74cd-185">Para obter orientação geral sobre como criar soluções seguras, confira a [Documentação de segurança do Azure][security].</span><span class="sxs-lookup"><span data-stu-id="b74cd-185">For general guidance on designing secure solutions, see the [Azure Security Documentation][security].</span></span>

### <a name="resiliency"></a><span data-ttu-id="b74cd-186">Resiliência</span><span class="sxs-lookup"><span data-stu-id="b74cd-186">Resiliency</span></span>

<span data-ttu-id="b74cd-187">Analise os [padrões de design comuns para resiliência][design-patterns-resiliency] e considere a implementação deles quando apropriado.</span><span class="sxs-lookup"><span data-stu-id="b74cd-187">Review the [typical design patterns for resiliency][design-patterns-resiliency] and consider implementing these where appropriate.</span></span>

<span data-ttu-id="b74cd-188">Você pode encontrar várias [práticas recomendadas para o Serviço de Aplicativo][resiliency-app-service] no Centro de Arquitetura do Azure.</span><span class="sxs-lookup"><span data-stu-id="b74cd-188">You can find a number of [recommended practices for App Service][resiliency-app-service] in the Azure Architecture Center.</span></span>

<span data-ttu-id="b74cd-189">Para obter diretrizes gerais sobre como criar soluções resilientes, confira [Projetando aplicativos resilientes para o Azure][resiliency].</span><span class="sxs-lookup"><span data-stu-id="b74cd-189">For general guidance on designing resilient solutions, see [Designing resilient applications for Azure][resiliency].</span></span>

## <a name="deploy-the-scenario"></a><span data-ttu-id="b74cd-190">Implantar o cenário</span><span class="sxs-lookup"><span data-stu-id="b74cd-190">Deploy the scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="b74cd-191">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="b74cd-191">Prerequisites</span></span>

* <span data-ttu-id="b74cd-192">Você deve ter uma conta do Azure já criada.</span><span class="sxs-lookup"><span data-stu-id="b74cd-192">You must have an existing Azure account.</span></span> <span data-ttu-id="b74cd-193">Se você não tiver uma assinatura do Azure, crie uma [conta gratuita][azure-free-account] antes de começar.</span><span class="sxs-lookup"><span data-stu-id="b74cd-193">If you don't have an Azure subscription, create a [free account][azure-free-account] before you begin.</span></span>
* <span data-ttu-id="b74cd-194">Você deve se inscrever em uma organização do Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="b74cd-194">You must sign up for an Azure DevOps organization.</span></span> <span data-ttu-id="b74cd-195">Para saber mais, confira [Início Rápido: criar sua organização][vsts-account-create].</span><span class="sxs-lookup"><span data-stu-id="b74cd-195">For more information, see [Quickstart: Create your organization][vsts-account-create].</span></span>

### <a name="walk-through"></a><span data-ttu-id="b74cd-196">Passo a passo</span><span class="sxs-lookup"><span data-stu-id="b74cd-196">Walk-through</span></span>

<span data-ttu-id="b74cd-197">Neste cenário, você usará o projeto do Azure DevOps para criar seu pipeline de CI/CD.</span><span class="sxs-lookup"><span data-stu-id="b74cd-197">In this scenario, you'll use the Azure DevOps project to create your CI/CD pipeline.</span></span>

<span data-ttu-id="b74cd-198">O projeto de Azure DevOps implantará um Plano do Serviço de Aplicativo, um Serviço de Aplicativo e um recurso do Application Insights para você, além de configurar o projeto de Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="b74cd-198">The Azure DevOps project will deploy an App Service Plan, App Service, and an App Insights resource for you, as well as configure the Azure DevOps project for you.</span></span>

<span data-ttu-id="b74cd-199">Depois que a implantação do projeto de Azure DevOps e do build for concluída, analise as alterações de código associadas, os itens de trabalho e os resultados de teste.</span><span class="sxs-lookup"><span data-stu-id="b74cd-199">Once you've deployed the Azure DevOps project and the build is completed, review the associated code changes, work items, and test results.</span></span> <span data-ttu-id="b74cd-200">Você observará que nenhum resultado de teste é exibido, pois o código não contém nenhum teste a ser executado.</span><span class="sxs-lookup"><span data-stu-id="b74cd-200">You will notice that no test results are displayed, because the code does not contain any tests to run.</span></span>

<span data-ttu-id="b74cd-201">Analise as definições de versão.</span><span class="sxs-lookup"><span data-stu-id="b74cd-201">Review the release definitions.</span></span> <span data-ttu-id="b74cd-202">Observe que um pipeline de lançamento foi configurado, liberando o nosso aplicativo para o ambiente de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="b74cd-202">Notice that a release pipeline has been set up, releasing our application into the Dev environment.</span></span> <span data-ttu-id="b74cd-203">Observe que há um **gatilho de implantação contínua** definido no artefato de lançamento **Drop** com lançamentos automáticos em ambientes de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="b74cd-203">Observe that there is a **continuous deployment trigger** set from the **Drop** build artifact, with automatic releases into the Dev environment.</span></span> <span data-ttu-id="b74cd-204">Como parte de um processo de implantação contínua, você poderá ver versões que abrangem vários ambientes.</span><span class="sxs-lookup"><span data-stu-id="b74cd-204">As part of a continuous deployment process, you may see releases that span multiple environments.</span></span> <span data-ttu-id="b74cd-205">Uma versão pode abranger infraestrutura (usando técnicas como infraestrutura como código) e também implantar os pacotes de aplicativos necessários, juntamente com quaisquer tarefas de pós-configuração.</span><span class="sxs-lookup"><span data-stu-id="b74cd-205">A release can span both infrastructure (using techniques such as infrastructure-as-code), and can also deploy the application packages required along with any post-configuration tasks.</span></span>

## <a name="additional-considerations"></a><span data-ttu-id="b74cd-206">Considerações adicionais</span><span class="sxs-lookup"><span data-stu-id="b74cd-206">Additional considerations</span></span>

* <span data-ttu-id="b74cd-207">Considere aproveitar as [tarefas de geração de tokens][vsts-tokenization] que estão disponíveis no marketplace do VSTS.</span><span class="sxs-lookup"><span data-stu-id="b74cd-207">Consider leveraging one of the [tokenization tasks][vsts-tokenization] available in the VSTS marketplace.</span></span>
* <span data-ttu-id="b74cd-208">Considere usar a tarefa do VSTS [Implantar: Azure Key Vault][download-keyvault-secrets] para baixar segredos de um Azure Key Vault para sua versão.</span><span class="sxs-lookup"><span data-stu-id="b74cd-208">Consider using the [Deploy: Azure Key Vault][download-keyvault-secrets] VSTS task to download secrets from an Azure Key Vault into your release.</span></span> <span data-ttu-id="b74cd-209">Você pode usar esses segredos como variáveis em sua definição de versão, para que possa evitar armazená-los no controle de origem.</span><span class="sxs-lookup"><span data-stu-id="b74cd-209">You can then use those secrets as variables in your release definition, so you can avoid storing them in source control.</span></span>
* <span data-ttu-id="b74cd-210">Considere usar as [variáveis de versão][vsts-release-variables] em suas definições de versão para fazer alterações de configuração de seus ambientes.</span><span class="sxs-lookup"><span data-stu-id="b74cd-210">Consider using [release variables][vsts-release-variables] in your release definitions to drive configuration changes of your environments.</span></span> <span data-ttu-id="b74cd-211">As variáveis de versão podem ser definidas para uma versão inteira ou um determinado ambiente.</span><span class="sxs-lookup"><span data-stu-id="b74cd-211">Release variables can be scoped to an entire release or a given environment.</span></span> <span data-ttu-id="b74cd-212">Ao usar variáveis de informações secretas, selecione o ícone de cadeado.</span><span class="sxs-lookup"><span data-stu-id="b74cd-212">When using variables for secret information, ensure that you select the padlock icon.</span></span>
* <span data-ttu-id="b74cd-213">Considere o uso de [portões de implantação][vsts-deployment-gates] em seu pipeline de lançamento.</span><span class="sxs-lookup"><span data-stu-id="b74cd-213">Consider using [deployment gates][vsts-deployment-gates] in your release pipeline.</span></span> <span data-ttu-id="b74cd-214">Isso permite que você aproveite os dados de monitoramento junto com sistemas externos (por exemplo, gerenciamento de incidentes ou outros sistemas personalizados) para determinar se uma versão deve ser promovida.</span><span class="sxs-lookup"><span data-stu-id="b74cd-214">This lets you leverage monitoring data in association with external systems (for example, incident management or additional bespoke systems) to determine whether a release should be promoted.</span></span>
* <span data-ttu-id="b74cd-215">Quando a intervenção manual em um pipeline de lançamento for necessário, considere usar a funcionalidade de [aprovações][vsts-approvals].</span><span class="sxs-lookup"><span data-stu-id="b74cd-215">Where manual intervention in a release pipeline is required, consider using the [approvals][vsts-approvals] functionality.</span></span>
* <span data-ttu-id="b74cd-216">Considere usar o [Application Insights][application-insights] e outras ferramentas de monitoramento o mais cedo possível no seu pipeline de lançamento.</span><span class="sxs-lookup"><span data-stu-id="b74cd-216">Consider using [Application Insights][application-insights] and additional monitoring tools as early as possible in your release pipeline.</span></span> <span data-ttu-id="b74cd-217">Muitas organizações começa a monitorar apenas seu ambiente de produção. Monitorando seus outros ambientes, você pode identificar bugs desde o início no processo de desenvolvimento e evitar problemas em seu ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="b74cd-217">Many organizations only begin monitoring in their production environment; by monitoring your other environments, you can identify bugs earlier in the development process and avoid issues in your production environment.</span></span>

## <a name="pricing"></a><span data-ttu-id="b74cd-218">Preços</span><span class="sxs-lookup"><span data-stu-id="b74cd-218">Pricing</span></span>

<span data-ttu-id="b74cd-219">Os custos do Azure DevOps dependem do número de usuários em sua organização que precisam de acesso, juntamente com outros fatores, como o número de builds/versões simultâneos necessários e o números de usuários de teste.</span><span class="sxs-lookup"><span data-stu-id="b74cd-219">Azure DevOps costs depend on the number of users in your organization that require access, along with other factors like the number of concurrent build/releases required and number of test users.</span></span> <span data-ttu-id="b74cd-220">Para saber mais, confira [Preços de Azure DevOps][vsts-pricing-page].</span><span class="sxs-lookup"><span data-stu-id="b74cd-220">For more information, see [Azure DevOps pricing][vsts-pricing-page].</span></span>

* <span data-ttu-id="b74cd-221">[Azure DevOps][vsts-pricing-calculator] é um serviço que permite que você gerencie o ciclo de vida de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="b74cd-221">[Azure DevOps][vsts-pricing-calculator] is a service that enables you to manage your development life cycle.</span></span> <span data-ttu-id="b74cd-222">Ele é pago por usuário e por mês.</span><span class="sxs-lookup"><span data-stu-id="b74cd-222">It is paid for on a per-user per-month basis.</span></span> <span data-ttu-id="b74cd-223">Pode haver cobranças adicionais, dependendo da necessidade de pipelines simultâneos, além de usuários de teste ou licenças de usuário básicas adicionais.</span><span class="sxs-lookup"><span data-stu-id="b74cd-223">There may be additional charges dependent upon concurrent pipelines needed, in addition to any additional test users or user basic licenses.</span></span>

## <a name="related-resources"></a><span data-ttu-id="b74cd-224">Recursos relacionados</span><span class="sxs-lookup"><span data-stu-id="b74cd-224">Related resources</span></span>

* <span data-ttu-id="b74cd-225">[O que é DevOps?][devops-whatis]</span><span class="sxs-lookup"><span data-stu-id="b74cd-225">[What is DevOps?][devops-whatis]</span></span>
* <span data-ttu-id="b74cd-226">[DevOps na Microsoft ‒ como trabalhamos com o Azure DevOps][devops-microsoft]</span><span class="sxs-lookup"><span data-stu-id="b74cd-226">[DevOps at Microsoft - How we work with Azure DevOps][devops-microsoft]</span></span>
* <span data-ttu-id="b74cd-227">[Tutoriais passo a passo: DevOps com Azure DevOps][devops-with-vsts]</span><span class="sxs-lookup"><span data-stu-id="b74cd-227">[Step-by-step Tutorials: DevOps with Azure DevOps][devops-with-vsts]</span></span>
* <span data-ttu-id="b74cd-228">[Lista de verificação de DevOps][devops-checklist]</span><span class="sxs-lookup"><span data-stu-id="b74cd-228">[Devops Checklist][devops-checklist]</span></span>
* <span data-ttu-id="b74cd-229">[Criar um pipeline de CI/CD para .NET com o Projeto de DevOps do Azure][devops-project-create]</span><span class="sxs-lookup"><span data-stu-id="b74cd-229">[Create a CI/CD pipeline for .NET with the Azure DevOps project][devops-project-create]</span></span>

<!-- links -->
[ansible]: /azure/ansible/
[application-insights]: /azure/application-insights/app-insights-overview
[app-service-reference-architecture]: ../../reference-architectures/app-service-web-app/basic-web-app.md
[azure-free-account]: https://azure.microsoft.com/free/?WT.mc_id=A261C142F
[arm-templates]: /azure/azure-resource-manager/resource-group-overview#template-deployment
[architecture]: ./media/architecture-devops-dotnet-webapp.png
[availability]: /azure/architecture/checklist/availability
[chef]: /azure/chef/
[design-patterns-availability]: /azure/architecture/patterns/category/availability
[design-patterns-resiliency]: /azure/architecture/patterns/category/resiliency
[design-patterns-scalability]: /azure/architecture/patterns/category/performance-scalability
[design-patterns-security]: /azure/architecture/patterns/category/security
[desired-state-configuration]: /azure/automation/automation-dsc-overview
[devops-microsoft]: /azure/devops/devops-at-microsoft/
[devops-with-vsts]: https://almvm.azurewebsites.net/labs/vsts/
[devops-checklist]: /azure/architecture/checklist/dev-ops
[application-insights]: https://azure.microsoft.com/services/application-insights/
[cloud-based-load-testing]: https://visualstudio.microsoft.com/team-services/cloud-load-testing/
[cloud-based-load-testing-on-premises]: /vsts/test/load-test/clt-with-private-machines?view=vsts
[jenkins-on-azure]: /azure/jenkins/
[devops-whatis]: /azure/devops/what-is-devops
[download-keyvault-secrets]: /vsts/pipelines/tasks/deploy/azure-key-vault?view=vsts
[resource-groups]: /azure/azure-resource-manager/resource-group-overview
[resiliency-app-service]: /azure/architecture/checklist/resiliency-per-service#app-service
[resiliency]: /azure/architecture/checklist/resiliency
[scalability]: /azure/architecture/checklist/scalability
[vsts]: /vsts/?view=vsts#pivot=services
[continuous-integration]: /azure/devops/what-is-continuous-integration
[continuous-delivery]: /azure/devops/what-is-continuous-delivery
[web-apps]: /azure/app-service/app-service-web-overview
[terraform]: /azure/terraform/
[vsts-account-create]: /azure/devops/organizations/accounts/create-organization-msa-or-work-student?view=vsts
[vsts-approvals]: /vsts/pipelines/release/approvals/approvals?view=vsts
[devops-project]: https://portal.azure.com/?feature.customportal=false#create/Microsoft.AzureProject
[vsts-deployment-gates]: /vsts/pipelines/release/approvals/gates?view=vsts
[vsts-pricing-calculator]: https://azure.com/e/498aa024454445a8a352e75724f900b1
[vsts-pricing-page]: https://azure.microsoft.com/pricing/details/visual-studio-team-services/
[vsts-release-variables]: /vsts/pipelines/release/variables?view=vsts&tabs=batch
[vsts-tokenization]: https://marketplace.visualstudio.com/search?term=token&target=VSTS&category=All%20categories&sortBy=Relevance
[azure-key-vault]: /azure/key-vault/key-vault-overview
[infra-as-code]: https://blogs.msdn.microsoft.com/mvpawardprogram/2018/02/13/infrastructure-as-code/
[team-foundation-server]: https://visualstudio.microsoft.com/tfs/
[infra-as-code]: https://blogs.msdn.microsoft.com/mvpawardprogram/2018/02/13/infrastructure-as-code/
[service-fabric]: /azure/service-fabric/
[azure-functions]: /azure/azure-functions/
[azure-containers]: https://azure.microsoft.com/overview/containers/
[compare-vm-hosting]: /azure/app-service/choose-web-site-cloud-service-vm
[app-insights-cd-monitoring]: /azure/application-insights/app-insights-vsts-continuous-monitoring
[azure-region-pair-bcdr]: /azure/best-practices-availability-paired-regions
[devops-project-create]: /azure/devops-project/azure-devops-project-aspnet-core
[security]: /azure/security/