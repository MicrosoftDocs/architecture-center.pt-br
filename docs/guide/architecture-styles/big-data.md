---
title: Estilo de arquitetura de Big Data
titleSuffix: Azure Application Architecture Guide
description: Descreve os benefícios, os desafios e as melhores práticas para arquiteturas de Big Data no Azure.
author: MikeWasson
ms.date: 08/30/2018
ms.custom: seojan19
ms.openlocfilehash: 507cd4dcf74ed7e106a99b93dd029dfdffd6e4bc
ms.sourcegitcommit: 1f4cdb08fe73b1956e164ad692f792f9f635b409
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2019
ms.locfileid: "54112491"
---
# <a name="big-data-architecture-style"></a><span data-ttu-id="6d034-103">Estilo de arquitetura de Big Data</span><span class="sxs-lookup"><span data-stu-id="6d034-103">Big data architecture style</span></span>

<span data-ttu-id="6d034-104">Uma arquitetura de Big Data foi projetada para lidar com ingestão, processamento e análise de dados grandes ou complexos demais para sistemas de banco de dados tradicionais.</span><span class="sxs-lookup"><span data-stu-id="6d034-104">A big data architecture is designed to handle the ingestion, processing, and analysis of data that is too large or complex for traditional database systems.</span></span>

![Diagrama lógico de um estilo de arquitetura de Big Data](./images/big-data-logical.svg)

<span data-ttu-id="6d034-106">Soluções de Big Data normalmente envolvem um ou mais dos seguintes tipos de carga de trabalho:</span><span class="sxs-lookup"><span data-stu-id="6d034-106">Big data solutions typically involve one or more of the following types of workload:</span></span>

- <span data-ttu-id="6d034-107">Processamento em lote de fontes Big Data em repouso.</span><span class="sxs-lookup"><span data-stu-id="6d034-107">Batch processing of big data sources at rest.</span></span>
- <span data-ttu-id="6d034-108">Processamento em tempo real de Big Data em movimento.</span><span class="sxs-lookup"><span data-stu-id="6d034-108">Real-time processing of big data in motion.</span></span>
- <span data-ttu-id="6d034-109">Exploração interativa de Big Data.</span><span class="sxs-lookup"><span data-stu-id="6d034-109">Interactive exploration of big data.</span></span>
- <span data-ttu-id="6d034-110">Análise preditiva e machine learning.</span><span class="sxs-lookup"><span data-stu-id="6d034-110">Predictive analytics and machine learning.</span></span>

<span data-ttu-id="6d034-111">A maioria das arquiteturas de Big Data inclui alguns ou todos os seguintes componentes:</span><span class="sxs-lookup"><span data-stu-id="6d034-111">Most big data architectures include some or all of the following components:</span></span>

- <span data-ttu-id="6d034-112">**Fontes de dados**: Todas as soluções de Big Data começam com uma ou mais fontes de dados.</span><span class="sxs-lookup"><span data-stu-id="6d034-112">**Data sources**: All big data solutions start with one or more data sources.</span></span> <span data-ttu-id="6d034-113">Os exemplos incluem:</span><span class="sxs-lookup"><span data-stu-id="6d034-113">Examples include:</span></span>

  - <span data-ttu-id="6d034-114">Armazenamentos de dados de aplicativo, como bancos de dados relacionais.</span><span class="sxs-lookup"><span data-stu-id="6d034-114">Application data stores, such as relational databases.</span></span>
  - <span data-ttu-id="6d034-115">Arquivos estáticos produzidos por aplicativos, como arquivos de log do servidor Web.</span><span class="sxs-lookup"><span data-stu-id="6d034-115">Static files produced by applications, such as web server log files.</span></span>
  - <span data-ttu-id="6d034-116">Fontes de dados em tempo real, como dispositivos IoT.</span><span class="sxs-lookup"><span data-stu-id="6d034-116">Real-time data sources, such as IoT devices.</span></span>

- <span data-ttu-id="6d034-117">**Repositório de dados**: Os dados de operações de processamento em lotes normalmente são armazenados em um repositório de arquivos distribuído que pode conter amplos volumes de arquivos grandes em vários formatos.</span><span class="sxs-lookup"><span data-stu-id="6d034-117">**Data storage**: Data for batch processing operations is typically stored in a distributed file store that can hold high volumes of large files in various formats.</span></span> <span data-ttu-id="6d034-118">Esse tipo de repositório geralmente é chamado *data lake*.</span><span class="sxs-lookup"><span data-stu-id="6d034-118">This kind of store is often called a *data lake*.</span></span> <span data-ttu-id="6d034-119">As opções para implementar esse armazenamento incluem contêineres de blobs ou Azure Data Lake Store no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="6d034-119">Options for implementing this storage include Azure Data Lake Store or blob containers in Azure Storage.</span></span>

- <span data-ttu-id="6d034-120">**Processamento em lotes**: Como os conjuntos de dados são muito grandes, geralmente, uma solução de Big Data precisa processar arquivos de dados usando trabalhos em lotes de execução longa para filtrar, agregar e, de outro modo, preparar os dados para análise.</span><span class="sxs-lookup"><span data-stu-id="6d034-120">**Batch processing**: Because the data sets are so large, often a big data solution must process data files using long-running batch jobs to filter, aggregate, and otherwise prepare the data for analysis.</span></span> <span data-ttu-id="6d034-121">Normalmente, esses trabalhos envolvem ler arquivos de origem, processá-los e gravar a saída para novos arquivos.</span><span class="sxs-lookup"><span data-stu-id="6d034-121">Usually these jobs involve reading source files, processing them, and writing the output to new files.</span></span> <span data-ttu-id="6d034-122">Opções incluem executar trabalhos de U-SQL no Azure Data Lake Analytics, usar trabalhos Hive, Pig ou de Mapear/Reduzir personalizados em um cluster HDInsight Hadoop ou usar programas de Java, Scala ou Python em um cluster HDInsight Spark.</span><span class="sxs-lookup"><span data-stu-id="6d034-122">Options include running U-SQL jobs in Azure Data Lake Analytics, using Hive, Pig, or custom Map/Reduce jobs in an HDInsight Hadoop cluster, or using Java, Scala, or Python programs in an HDInsight Spark cluster.</span></span>

- <span data-ttu-id="6d034-123">**Ingestão de mensagens em tempo real**: Se a solução inclui fontes em tempo real, a arquitetura precisa incluir uma maneira de capturar e armazenar mensagens em tempo real para processamento de fluxo.</span><span class="sxs-lookup"><span data-stu-id="6d034-123">**Real-time message ingestion**: If the solution includes real-time sources, the architecture must include a way to capture and store real-time messages for stream processing.</span></span> <span data-ttu-id="6d034-124">Isso pode ser um armazenamento de dados simples, em que as mensagens de entrada são removidas para uma pasta para processamento.</span><span class="sxs-lookup"><span data-stu-id="6d034-124">This might be a simple data store, where incoming messages are dropped into a folder for processing.</span></span> <span data-ttu-id="6d034-125">No entanto, muitas soluções precisam de um repositório de ingestão de mensagens para atuar como buffer de mensagens e dar suporte a processamento de expansão, entrega confiável e outras semânticas de enfileiramento de mensagem.</span><span class="sxs-lookup"><span data-stu-id="6d034-125">However, many solutions need a message ingestion store to act as a buffer for messages, and to support scale-out processing, reliable delivery, and other message queuing semantics.</span></span> <span data-ttu-id="6d034-126">Opções incluem Hubs de Eventos do Azure, Hubs de IoT do Azure e Kafka.</span><span class="sxs-lookup"><span data-stu-id="6d034-126">Options include Azure Event Hubs, Azure IoT Hubs, and Kafka.</span></span>

- <span data-ttu-id="6d034-127">**Processamento de fluxo**: Depois de capturar mensagens em tempo real, a solução precisa processá-las filtrando, agregando e preparando os dados para análise.</span><span class="sxs-lookup"><span data-stu-id="6d034-127">**Stream processing**: After capturing real-time messages, the solution must process them by filtering, aggregating, and otherwise preparing the data for analysis.</span></span> <span data-ttu-id="6d034-128">Os dados de fluxo processados são gravados em um coletor de saída.</span><span class="sxs-lookup"><span data-stu-id="6d034-128">The processed stream data is then written to an output sink.</span></span> <span data-ttu-id="6d034-129">O Azure Stream Analytics oferece um serviço de processamento de fluxo gerenciado baseado em consultas SQL em execução perpétua que operam em fluxos não associados.</span><span class="sxs-lookup"><span data-stu-id="6d034-129">Azure Stream Analytics provides a managed stream processing service based on perpetually running SQL queries that operate on unbounded streams.</span></span> <span data-ttu-id="6d034-130">Você também pode usar tecnologias de streaming Apache de software livre, como Storm e Spark Streaming em um cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="6d034-130">You can also use open source Apache streaming technologies like Storm and Spark Streaming in an HDInsight cluster.</span></span>

- <span data-ttu-id="6d034-131">**Armazenamento de dados analíticos**: Muitas soluções de Big Data preparam dados para análise e então fornecem os dados processados em um formato estruturado que pode ser consultado com ferramentas analíticas.</span><span class="sxs-lookup"><span data-stu-id="6d034-131">**Analytical data store**: Many big data solutions prepare data for analysis and then serve the processed data in a structured format that can be queried using analytical tools.</span></span> <span data-ttu-id="6d034-132">O armazenamento de dados analíticos usado para atender a essas consultas pode ser um data warehouse relacional estilo Kimball, como visto na maioria das soluções de BI (business intelligence) tradicionais.</span><span class="sxs-lookup"><span data-stu-id="6d034-132">The analytical data store used to serve these queries can be a Kimball-style relational data warehouse, as seen in most traditional business intelligence (BI) solutions.</span></span> <span data-ttu-id="6d034-133">Como alternativa, os dados podem ser apresentados por meio de uma tecnologia NoSQL de baixa latência, como HBase ou um banco de dados Hive interativo que oferece uma abstração de metadados sobre arquivos de dados no armazenamento de dados distribuído.</span><span class="sxs-lookup"><span data-stu-id="6d034-133">Alternatively, the data could be presented through a low-latency NoSQL technology such as HBase, or an interactive Hive database that provides a metadata abstraction over data files in the distributed data store.</span></span> <span data-ttu-id="6d034-134">O SQL Data Warehouse do Azure fornece um serviço gerenciado para armazenamento de dados em larga escala baseado em nuvem.</span><span class="sxs-lookup"><span data-stu-id="6d034-134">Azure SQL Data Warehouse provides a managed service for large-scale, cloud-based data warehousing.</span></span> <span data-ttu-id="6d034-135">O HDInsight dá suporte a Hive interativo, HBase e Spark SQL, que também pode ser usado para veicular dados para análise.</span><span class="sxs-lookup"><span data-stu-id="6d034-135">HDInsight supports Interactive Hive, HBase, and Spark SQL, which can also be used to serve data for analysis.</span></span>

- <span data-ttu-id="6d034-136">**Análise e relatórios**: A meta da maioria das soluções de Big Data é gerar insights sobre os dados por meio de análise e relatórios.</span><span class="sxs-lookup"><span data-stu-id="6d034-136">**Analysis and reporting**: The goal of most big data solutions is to provide insights into the data through analysis and reporting.</span></span> <span data-ttu-id="6d034-137">Para capacitar os usuários a analisar os dados, a arquitetura pode incluir uma camada de modelagem de dados, como um cubo OLAP multidimensional ou um modelo de dados tabular no Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="6d034-137">To empower users to analyze the data, the architecture may include a data modeling layer, such as a multidimensional OLAP cube or tabular data model in Azure Analysis Services.</span></span> <span data-ttu-id="6d034-138">Também pode dar suporte a business intelligence de autoatendimento, usando as tecnologias de modelagem e visualização do Microsoft Power BI ou do Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="6d034-138">It might also support self-service BI, using the modeling and visualization technologies in Microsoft Power BI or Microsoft Excel.</span></span> <span data-ttu-id="6d034-139">Análise e relatórios também podem assumir a forma de exploração de dados interativos por cientistas de dados ou analistas de dados.</span><span class="sxs-lookup"><span data-stu-id="6d034-139">Analysis and reporting can also take the form of interactive data exploration by data scientists or data analysts.</span></span> <span data-ttu-id="6d034-140">Para esses cenários, muitos serviços do Azure dão suporte a blocos de anotações analíticos, como Jupyter, permitindo que esses usuários aproveitem suas habilidades existentes com Python ou R. Para exploração de dados em larga escala, você pode usar o Microsoft R Server, seja no modo autônomo ou com Spark.</span><span class="sxs-lookup"><span data-stu-id="6d034-140">For these scenarios, many Azure services support analytical notebooks, such as Jupyter, enabling these users to leverage their existing skills with Python or R. For large-scale data exploration, you can use Microsoft R Server, either standalone or with Spark.</span></span>

- <span data-ttu-id="6d034-141">**Orquestração**: A maioria das soluções de Big Data consiste em operações de processamento de dados repetidas, encapsuladas em fluxos de trabalho, que transformam dados de origem, movem dados entre várias origens e coletores, carregam os dados processados em um armazenamento de dados analíticos ou enviam os resultados por push diretamente para um relatório ou painel.</span><span class="sxs-lookup"><span data-stu-id="6d034-141">**Orchestration**: Most big data solutions consist of repeated data processing operations, encapsulated in workflows, that transform source data, move data between multiple sources and sinks, load the processed data into an analytical data store, or push the results straight to a report or dashboard.</span></span> <span data-ttu-id="6d034-142">Para automatizar esses fluxos de trabalho, você pode usar uma tecnologia de orquestração, como Azure Data Factory ou Apache Oozie e Sqoop.</span><span class="sxs-lookup"><span data-stu-id="6d034-142">To automate these workflows, you can use an orchestration technology such Azure Data Factory or Apache Oozie and Sqoop.</span></span>

<span data-ttu-id="6d034-143">O Azure inclui muitos serviços que podem ser usados em uma arquitetura de Big Data.</span><span class="sxs-lookup"><span data-stu-id="6d034-143">Azure includes many services that can be used in a big data architecture.</span></span> <span data-ttu-id="6d034-144">Eles se enquadram em aproximadamente duas categorias:</span><span class="sxs-lookup"><span data-stu-id="6d034-144">They fall roughly into two categories:</span></span>

- <span data-ttu-id="6d034-145">Serviços gerenciados, incluindo Azure Data Lake Store, Azure Data Lake Analytics, Data Warehouse do Azure, Azure Stream Analytics, Hub de Eventos do Azure, Hub IoT do Azure e Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="6d034-145">Managed services, including Azure Data Lake Store, Azure Data Lake Analytics, Azure Data Warehouse, Azure Stream Analytics, Azure Event Hub, Azure IoT Hub, and Azure Data Factory.</span></span>
- <span data-ttu-id="6d034-146">Tecnologias de software livre baseadas na plataforma Apache Hadoop, incluindo HDFS, HBase, Hive, Pig, Spark, Storm, Oozie, Sqoop e Kafka.</span><span class="sxs-lookup"><span data-stu-id="6d034-146">Open source technologies based on the Apache Hadoop platform, including HDFS, HBase, Hive, Pig, Spark, Storm, Oozie, Sqoop, and Kafka.</span></span> <span data-ttu-id="6d034-147">Essas tecnologias estão disponíveis no Azure no serviço Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="6d034-147">These technologies are available on Azure in the Azure HDInsight service.</span></span>

<span data-ttu-id="6d034-148">Essas opções não se excluem mutuamente e muitas soluções combinam tecnologias de software livre com serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="6d034-148">These options are not mutually exclusive, and many solutions combine open source technologies with Azure services.</span></span>

## <a name="when-to-use-this-architecture"></a><span data-ttu-id="6d034-149">Quando usar esta arquitetura</span><span class="sxs-lookup"><span data-stu-id="6d034-149">When to use this architecture</span></span>

<span data-ttu-id="6d034-150">Considere este estilo de arquitetura quando você precisar:</span><span class="sxs-lookup"><span data-stu-id="6d034-150">Consider this architecture style when you need to:</span></span>

- <span data-ttu-id="6d034-151">Armazenar e processar dados em volumes muito grandes para um banco de dados tradicional.</span><span class="sxs-lookup"><span data-stu-id="6d034-151">Store and process data in volumes too large for a traditional database.</span></span>
- <span data-ttu-id="6d034-152">Transformar dados não estruturados para análise e relatório.</span><span class="sxs-lookup"><span data-stu-id="6d034-152">Transform unstructured data for analysis and reporting.</span></span>
- <span data-ttu-id="6d034-153">Capturar, processar e analisar fluxos não associados de dados em tempo real ou com baixa latência.</span><span class="sxs-lookup"><span data-stu-id="6d034-153">Capture, process, and analyze unbounded streams of data in real time, or with low latency.</span></span>
- <span data-ttu-id="6d034-154">Usar Azure Machine Learning ou Serviços Cognitivos da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6d034-154">Use Azure Machine Learning or Microsoft Cognitive Services.</span></span>

## <a name="benefits"></a><span data-ttu-id="6d034-155">Benefícios</span><span class="sxs-lookup"><span data-stu-id="6d034-155">Benefits</span></span>

- <span data-ttu-id="6d034-156">**Opções de tecnologia**.</span><span class="sxs-lookup"><span data-stu-id="6d034-156">**Technology choices**.</span></span> <span data-ttu-id="6d034-157">Você pode combinar gerenciados serviços do Azure e tecnologias Apache em clusters HDInsight para aproveitar recursos ou investimentos em tecnologia existentes.</span><span class="sxs-lookup"><span data-stu-id="6d034-157">You can mix and match Azure managed services and Apache technologies in HDInsight clusters, to capitalize on existing skills or technology investments.</span></span>
- <span data-ttu-id="6d034-158">**Desempenho por meio de paralelismo**.</span><span class="sxs-lookup"><span data-stu-id="6d034-158">**Performance through parallelism**.</span></span> <span data-ttu-id="6d034-159">Soluções de Big Data aproveitam paralelismo, possibilitando soluções de alto desempenho dimensionadas para grandes volumes de dados.</span><span class="sxs-lookup"><span data-stu-id="6d034-159">Big data solutions take advantage of parallelism, enabling high-performance solutions that scale to large volumes of data.</span></span>
- <span data-ttu-id="6d034-160">**Escala elástica**.</span><span class="sxs-lookup"><span data-stu-id="6d034-160">**Elastic scale**.</span></span> <span data-ttu-id="6d034-161">Todos os componentes da arquitetura de Big Data dão suporte a provisionamento de expansão para que você possa ajustar sua solução para cargas de trabalho grandes ou pequenas e pagar somente pelos recursos que usa.</span><span class="sxs-lookup"><span data-stu-id="6d034-161">All of the components in the big data architecture support scale-out provisioning, so that you can adjust your solution to small or large workloads, and pay only for the resources that you use.</span></span>
- <span data-ttu-id="6d034-162">**Interoperabilidade com soluções existentes**.</span><span class="sxs-lookup"><span data-stu-id="6d034-162">**Interoperability with existing solutions**.</span></span> <span data-ttu-id="6d034-163">Os componentes da arquitetura de Big Data também são usados para processamento IoT e soluções de BI empresariais, permitindo que você crie uma solução integrada entre cargas de trabalho de dados.</span><span class="sxs-lookup"><span data-stu-id="6d034-163">The components of the big data architecture are also used for IoT processing and enterprise BI solutions, enabling you to create an integrated solution across data workloads.</span></span>

## <a name="challenges"></a><span data-ttu-id="6d034-164">Desafios</span><span class="sxs-lookup"><span data-stu-id="6d034-164">Challenges</span></span>

- <span data-ttu-id="6d034-165">**Complexidade**.</span><span class="sxs-lookup"><span data-stu-id="6d034-165">**Complexity**.</span></span> <span data-ttu-id="6d034-166">Soluções de Big Data podem ser extremamente complexas, com vários componentes para lidar com a ingestão de dados de várias fontes de dados.</span><span class="sxs-lookup"><span data-stu-id="6d034-166">Big data solutions can be extremely complex, with numerous components to handle data ingestion from multiple data sources.</span></span> <span data-ttu-id="6d034-167">Pode ser um desafio criar, testar e solucionar problemas de processos de Big Data.</span><span class="sxs-lookup"><span data-stu-id="6d034-167">It can be challenging to build, test, and troubleshoot big data processes.</span></span> <span data-ttu-id="6d034-168">Além disso, pode haver um grande número de definições de configuração em vários sistemas que devem ser usados para otimizar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="6d034-168">Moreover, there may be a large number of configuration settings across multiple systems that must be used in order to optimize performance.</span></span>
- <span data-ttu-id="6d034-169">**Conjunto de qualificações**.</span><span class="sxs-lookup"><span data-stu-id="6d034-169">**Skillset**.</span></span> <span data-ttu-id="6d034-170">Muitas tecnologias de Big Data são altamente especializadas e usam frameworks e idiomas que não são típicos de arquiteturas de aplicativo mais gerais.</span><span class="sxs-lookup"><span data-stu-id="6d034-170">Many big data technologies are highly specialized, and use frameworks and languages that are not typical of more general application architectures.</span></span> <span data-ttu-id="6d034-171">Por outro lado, as tecnologias de Big Data estão gerando novas APIs que se baseiam em linguagens mais estabelecidas.</span><span class="sxs-lookup"><span data-stu-id="6d034-171">On the other hand, big data technologies are evolving new APIs that build on more established languages.</span></span> <span data-ttu-id="6d034-172">Por exemplo, a linguagem U-SQL no Azure Data Lake Analytics baseia-se em uma combinação de Transact-SQL e C#.</span><span class="sxs-lookup"><span data-stu-id="6d034-172">For example, the U-SQL language in Azure Data Lake Analytics is based on a combination of Transact-SQL and C#.</span></span> <span data-ttu-id="6d034-173">Da mesma forma, APIs com base em SQL estão disponíveis para Hive, HBase e Spark.</span><span class="sxs-lookup"><span data-stu-id="6d034-173">Similarly, SQL-based APIs are available for Hive, HBase, and Spark.</span></span>
- <span data-ttu-id="6d034-174">**Maturidade da tecnologia**.</span><span class="sxs-lookup"><span data-stu-id="6d034-174">**Technology maturity**.</span></span> <span data-ttu-id="6d034-175">Muitas das tecnologias usadas em Big Data estão em evolução.</span><span class="sxs-lookup"><span data-stu-id="6d034-175">Many of the technologies used in big data are evolving.</span></span> <span data-ttu-id="6d034-176">Embora tecnologias Hadoop centrais, como Hive e Pig, tenham se estabilizado, tecnologias emergentes, como Spark, apresentam grandes alterações e aprimoramentos a cada nova versão.</span><span class="sxs-lookup"><span data-stu-id="6d034-176">While core Hadoop technologies such as Hive and Pig have stabilized, emerging technologies such as Spark introduce extensive changes and enhancements with each new release.</span></span> <span data-ttu-id="6d034-177">Serviços gerenciados, como Azure Data Lake Analytics e Azure Data Factory, são relativamente jovens em comparação a outros serviços do Azure e provavelmente evoluirão ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="6d034-177">Managed services such as Azure Data Lake Analytics and Azure Data Factory are relatively young, compared with other Azure services, and will likely evolve over time.</span></span>
- <span data-ttu-id="6d034-178">**Segurança**.</span><span class="sxs-lookup"><span data-stu-id="6d034-178">**Security**.</span></span> <span data-ttu-id="6d034-179">Soluções de Big Data normalmente se baseiam em armazenar todos os dados estáticos em um data lake centralizado.</span><span class="sxs-lookup"><span data-stu-id="6d034-179">Big data solutions usually rely on storing all static data in a centralized data lake.</span></span> <span data-ttu-id="6d034-180">Proteger o acesso a esses dados pode ser desafiador, especialmente quando os dados devem ser ingeridos e consumidos por vários aplicativos e plataformas.</span><span class="sxs-lookup"><span data-stu-id="6d034-180">Securing access to this data can be challenging, especially when the data must be ingested and consumed by multiple applications and platforms.</span></span>

## <a name="best-practices"></a><span data-ttu-id="6d034-181">Práticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="6d034-181">Best practices</span></span>

- <span data-ttu-id="6d034-182">**Aproveitar o paralelismo**.</span><span class="sxs-lookup"><span data-stu-id="6d034-182">**Leverage parallelism**.</span></span> <span data-ttu-id="6d034-183">A maioria das tecnologias de processamento de Big Data distribui a carga de trabalho em várias unidades de processamento.</span><span class="sxs-lookup"><span data-stu-id="6d034-183">Most big data processing technologies distribute the workload across multiple processing units.</span></span> <span data-ttu-id="6d034-184">Isso exige que os arquivos de dados estáticos sejam criados e armazenados em um formato divisível.</span><span class="sxs-lookup"><span data-stu-id="6d034-184">This requires that static data files are created and stored in a splittable format.</span></span> <span data-ttu-id="6d034-185">Sistemas de arquivos distribuídos, como HDFS, podem otimizar o desempenho de leitura e gravação, e o processamento real é executado por vários nós de cluster em paralelo, o que reduz o tempo de trabalho geral.</span><span class="sxs-lookup"><span data-stu-id="6d034-185">Distributed file systems such as HDFS can optimize read and write performance, and the actual processing is performed by multiple cluster nodes in parallel, which reduces overall job times.</span></span>

- <span data-ttu-id="6d034-186">**Dados de partição**.</span><span class="sxs-lookup"><span data-stu-id="6d034-186">**Partition data**.</span></span> <span data-ttu-id="6d034-187">Geralmente, o processamento de lote ocorre conforme uma agenda recorrente &mdash; por exemplo, semanal ou mensal.</span><span class="sxs-lookup"><span data-stu-id="6d034-187">Batch processing usually happens on a recurring schedule &mdash; for example, weekly or monthly.</span></span> <span data-ttu-id="6d034-188">Arquivos de dados de partição e estruturas de dados como tabelas, com base em períodos de temporais que correspondem à agenda de processamento.</span><span class="sxs-lookup"><span data-stu-id="6d034-188">Partition data files, and data structures such as tables, based on temporal periods that match the processing schedule.</span></span> <span data-ttu-id="6d034-189">Isso simplifica a ingestão de dados e o agendamento de trabalho, além de tornar mais fácil solucionar problemas de falhas.</span><span class="sxs-lookup"><span data-stu-id="6d034-189">That simplifies data ingestion and job scheduling, and makes it easier to troubleshoot failures.</span></span> <span data-ttu-id="6d034-190">Além disso, o particionamento de tabelas usadas em consultas Hive, U-SQL ou SQL pode melhorar significativamente o desempenho da consulta.</span><span class="sxs-lookup"><span data-stu-id="6d034-190">Also, partitioning tables that are used in Hive, U-SQL, or SQL queries can significantly improve query performance.</span></span>

- <span data-ttu-id="6d034-191">**Aplicar semântica de esquema na leitura**.</span><span class="sxs-lookup"><span data-stu-id="6d034-191">**Apply schema-on-read semantics**.</span></span> <span data-ttu-id="6d034-192">Usar um data lake permite combinar o armazenamento de arquivos em vários formatos, sejam estruturados, semiestruturados ou não estruturados.</span><span class="sxs-lookup"><span data-stu-id="6d034-192">Using a data lake lets you to combine storage for files in multiple formats, whether structured, semi-structured, or unstructured.</span></span> <span data-ttu-id="6d034-193">Use semântica de *esquema na leitura*, que projeta um esquema nos dados quando os dados estão sendo processados, não quando estão armazenados.</span><span class="sxs-lookup"><span data-stu-id="6d034-193">Use *schema-on-read* semantics, which project a schema onto the data when the data is processing, not when the data is stored.</span></span> <span data-ttu-id="6d034-194">Isso integra flexibilidade à solução e evita gargalos durante a ingestão de dados causados pela verificação de tipo e a validação de dados.</span><span class="sxs-lookup"><span data-stu-id="6d034-194">This builds flexibility into the solution, and prevents bottlenecks during data ingestion caused by data validation and type checking.</span></span>

- <span data-ttu-id="6d034-195">**Processar dados no local**.</span><span class="sxs-lookup"><span data-stu-id="6d034-195">**Process data in-place**.</span></span> <span data-ttu-id="6d034-196">Soluções de BI tradicionais geralmente usam um processo ETL (extração, transformação e carregamento) para mover dados para um data warehouse.</span><span class="sxs-lookup"><span data-stu-id="6d034-196">Traditional BI solutions often use an extract, transform, and load (ETL) process to move data into a data warehouse.</span></span> <span data-ttu-id="6d034-197">Com maiores volumes de dados e uma maior variedade de formatos, soluções de Big Data geralmente usam variações de ETL, como TEL (transformação, extração e carregamento).</span><span class="sxs-lookup"><span data-stu-id="6d034-197">With larger volumes data, and a greater variety of formats, big data solutions generally use variations of ETL, such as transform, extract, and load (TEL).</span></span> <span data-ttu-id="6d034-198">Com essa abordagem, os dados são processados no armazenamento de dados distribuídos, transformando-os na estrutura necessária, antes de mover os dados transformados para um armazenamento de dados analíticos.</span><span class="sxs-lookup"><span data-stu-id="6d034-198">With this approach, the data is processed within the distributed data store, transforming it to the required structure, before moving the transformed data into an analytical data store.</span></span>

- <span data-ttu-id="6d034-199">**Equilibrar custos de tempo e utilização**.</span><span class="sxs-lookup"><span data-stu-id="6d034-199">**Balance utilization and time costs**.</span></span> <span data-ttu-id="6d034-200">Para trabalhos de processamento em lotes, é importante considerar dois fatores: o custo unitário de nós de computação e o custo por minuto de usar esses nós para concluir o trabalho.</span><span class="sxs-lookup"><span data-stu-id="6d034-200">For batch processing jobs, it's important to consider two factors: The per-unit cost of the compute nodes, and the per-minute cost of using those nodes to complete the job.</span></span> <span data-ttu-id="6d034-201">Por exemplo, um trabalho em lotes pode levar oito horas com quatro nós de cluster.</span><span class="sxs-lookup"><span data-stu-id="6d034-201">For example, a batch job may take eight hours with four cluster nodes.</span></span> <span data-ttu-id="6d034-202">No entanto, pode ser que o trabalho use todos os quatro nós somente durante as primeiras duas horas, sendo apenas dois nós necessários depois disso.</span><span class="sxs-lookup"><span data-stu-id="6d034-202">However, it might turn out that the job uses all four nodes only during the first two hours, and after that, only two nodes are required.</span></span> <span data-ttu-id="6d034-203">Nesse caso, executar todo o trabalho em dois nós aumentaria o tempo total do trabalho, mas não o duplicaria, de modo que o custo total seria menor.</span><span class="sxs-lookup"><span data-stu-id="6d034-203">In that case, running the entire job on two nodes would increase the total job time, but would not double it, so the total cost would be less.</span></span> <span data-ttu-id="6d034-204">Em alguns cenários de negócios, mais tempo de processamento pode ser preferível ao custo mais alto de usar recursos de cluster subutilizados.</span><span class="sxs-lookup"><span data-stu-id="6d034-204">In some business scenarios, a longer processing time may be preferable to the higher cost of using under-utilized cluster resources.</span></span>

- <span data-ttu-id="6d034-205">**Separar os recursos de cluster**.</span><span class="sxs-lookup"><span data-stu-id="6d034-205">**Separate cluster resources**.</span></span> <span data-ttu-id="6d034-206">Ao implantar clusters HDInsight, você normalmente alcança um melhor desempenho provisionando recursos de cluster separados para cada tipo de carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="6d034-206">When deploying HDInsight clusters, you will normally achieve better performance by provisioning separate cluster resources for each type of workload.</span></span> <span data-ttu-id="6d034-207">Por exemplo, embora clusters do Spark incluam Hive, se você precisar executar amplo processamento com Hive e Spark, deverá considerar implantar clusters Spark e Hadoop dedicados separados.</span><span class="sxs-lookup"><span data-stu-id="6d034-207">For example, although Spark clusters include Hive, if you need to perform extensive processing with both Hive and Spark, you should consider deploying separate dedicated Spark and Hadoop clusters.</span></span> <span data-ttu-id="6d034-208">Da mesma forma, se você estiver usando HBase e Storm para processamento de fluxo de baixa latência e Hive para processamento em lotes, considere clusters separados para Storm, HBase e Hadoop.</span><span class="sxs-lookup"><span data-stu-id="6d034-208">Similarly, if you are using HBase and Storm for low latency stream processing and Hive for batch processing, consider separate clusters for Storm, HBase, and Hadoop.</span></span>

- <span data-ttu-id="6d034-209">**Orquestrar a ingestão de dados**.</span><span class="sxs-lookup"><span data-stu-id="6d034-209">**Orchestrate data ingestion**.</span></span> <span data-ttu-id="6d034-210">Em alguns casos, aplicativos de negócios existentes podem gravar arquivos de dados para processamento em lote diretamente em contêineres do Azure Storage Blob, em que podem ser consumidos pelo HDInsight ou pelo Azure Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="6d034-210">In some cases, existing business applications may write data files for batch processing directly into Azure storage blob containers, where they can be consumed by HDInsight or Azure Data Lake Analytics.</span></span> <span data-ttu-id="6d034-211">No entanto, você geralmente precisará orquestrar a ingestão de dados de fontes de dados externas ou locais para o data lake.</span><span class="sxs-lookup"><span data-stu-id="6d034-211">However, you will often need to orchestrate the ingestion of data from on-premises or external data sources into the data lake.</span></span> <span data-ttu-id="6d034-212">Use um fluxo de trabalho de orquestração ou um pipeline, como aqueles compatíveis com Azure Data Factory ou Oozie, para fazer isso de maneira previsível e gerenciável centralmente.</span><span class="sxs-lookup"><span data-stu-id="6d034-212">Use an orchestration workflow or pipeline, such as those supported by Azure Data Factory or Oozie, to achieve this in a predictable and centrally manageable fashion.</span></span>

- <span data-ttu-id="6d034-213">**Limpar dados confidenciais cedo**.</span><span class="sxs-lookup"><span data-stu-id="6d034-213">**Scrub sensitive data early**.</span></span> <span data-ttu-id="6d034-214">O fluxo de trabalho de ingestão de dados deve remover dados confidenciais no início do processo para evitar armazená-los no data lake.</span><span class="sxs-lookup"><span data-stu-id="6d034-214">The data ingestion workflow should scrub sensitive data early in the process, to avoid storing it in the data lake.</span></span>

## <a name="iot-architecture"></a><span data-ttu-id="6d034-215">Arquitetura do IoT</span><span class="sxs-lookup"><span data-stu-id="6d034-215">IoT architecture</span></span>

<span data-ttu-id="6d034-216">O IoT (Internet das Coisas) é um subconjunto especializado de soluções de big data.</span><span class="sxs-lookup"><span data-stu-id="6d034-216">Internet of Things (IoT) is a specialized subset of big data solutions.</span></span> <span data-ttu-id="6d034-217">O diagrama a seguir mostra uma possível arquitetura lógica de IoT.</span><span class="sxs-lookup"><span data-stu-id="6d034-217">The following diagram shows a possible logical architecture for IoT.</span></span> <span data-ttu-id="6d034-218">O diagrama enfatiza os componentes da arquitetura do streaming de eventos.</span><span class="sxs-lookup"><span data-stu-id="6d034-218">The diagram emphasizes the event-streaming components of the architecture.</span></span>

![Diagrama de uma arquitetura de IoT](./images/iot.png)

<span data-ttu-id="6d034-220">O **gateway de nuvem** consome eventos de dispositivo no limite da nuvem, usando um sistema de mensagens de latência baixa e confiável.</span><span class="sxs-lookup"><span data-stu-id="6d034-220">The **cloud gateway** ingests device events at the cloud boundary, using a reliable, low latency messaging system.</span></span>

<span data-ttu-id="6d034-221">Os dispositivos podem enviar eventos diretamente para o gateway de nuvem, ou por meio de um **gateway de campo**.</span><span class="sxs-lookup"><span data-stu-id="6d034-221">Devices might send events directly to the cloud gateway, or through a **field gateway**.</span></span> <span data-ttu-id="6d034-222">Um gateway de campo é um software ou dispositivo especializado, geralmente colocado com dispositivos, que recebe eventos e os encaminha para o gateway de nuvem.</span><span class="sxs-lookup"><span data-stu-id="6d034-222">A field gateway is a specialized device or software, usually colocated with the devices, that receives events and forwards them to the cloud gateway.</span></span> <span data-ttu-id="6d034-223">O gateway de campo também pode pré-processar os eventos de dispositivo brutos executando funções, como filtragem, agregação ou transformação de protocolo.</span><span class="sxs-lookup"><span data-stu-id="6d034-223">The field gateway might also preprocess the raw device events, performing functions such as filtering, aggregation, or protocol transformation.</span></span>

<span data-ttu-id="6d034-224">Após a ingestão, os eventos passam por um ou mais **processadores de fluxo** que podem encaminhar os dados (por exemplo, para armazenamento) ou executar análise e outros tipos de processamento.</span><span class="sxs-lookup"><span data-stu-id="6d034-224">After ingestion, events go through one or more **stream processors** that can route the data (for example, to storage) or perform analytics and other processing.</span></span>

<span data-ttu-id="6d034-225">A seguir estão alguns tipos comuns de processamento.</span><span class="sxs-lookup"><span data-stu-id="6d034-225">The following are some common types of processing.</span></span> <span data-ttu-id="6d034-226">(Esta lista certamente não é exaustiva.)</span><span class="sxs-lookup"><span data-stu-id="6d034-226">(This list is certainly not exhaustive.)</span></span>

- <span data-ttu-id="6d034-227">Gravando os dados de evento para armazenamento menos acessado, para arquivamento ou análise de processo em lote.</span><span class="sxs-lookup"><span data-stu-id="6d034-227">Writing event data to cold storage, for archiving or batch analytics.</span></span>

- <span data-ttu-id="6d034-228">Análise de caminho mais acessado, analisando o fluxo de eventos (quase) em tempo real, para detectar anomalias, reconhecer padrões em janelas de tempo ou disparar alertas quando ocorre uma condição específica no fluxo.</span><span class="sxs-lookup"><span data-stu-id="6d034-228">Hot path analytics, analyzing the event stream in (near) real time, to detect anomalies, recognize patterns over rolling time windows, or trigger alerts when a specific condition occurs in the stream.</span></span>

- <span data-ttu-id="6d034-229">Tratamento de tipos especiais de mensagens que não são de telemetria de dispositivos, como notificações e alarmes.</span><span class="sxs-lookup"><span data-stu-id="6d034-229">Handling special types of non-telemetry messages from devices, such as notifications and alarms.</span></span>

- <span data-ttu-id="6d034-230">Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="6d034-230">Machine learning.</span></span>

<span data-ttu-id="6d034-231">As caixas destacadas em cinza mostram os componentes de um sistema de IoT que não estão diretamente relacionadas ao streaming de evento, mas são incluídos aqui para fins de integridade.</span><span class="sxs-lookup"><span data-stu-id="6d034-231">The boxes that are shaded gray show components of an IoT system that are not directly related to event streaming, but are included here for completeness.</span></span>

- <span data-ttu-id="6d034-232">O **registro do dispositivo** é um banco de dados dos dispositivos provisionados, incluindo os IDs de dispositivo e metadados do dispositivo, como localização.</span><span class="sxs-lookup"><span data-stu-id="6d034-232">The **device registry** is a database of the provisioned devices, including the device IDs and usually device metadata, such as location.</span></span>

- <span data-ttu-id="6d034-233">A **API de provisionamento** é uma interface externa comum para provisionar e registrar dispositivos novos.</span><span class="sxs-lookup"><span data-stu-id="6d034-233">The **provisioning API** is a common external interface for provisioning and registering new devices.</span></span>

- <span data-ttu-id="6d034-234">Algumas soluções IoT permitem que **mensagens de comando e controle** sejam enviadas aos dispositivos.</span><span class="sxs-lookup"><span data-stu-id="6d034-234">Some IoT solutions allow **command and control messages** to be sent to devices.</span></span>

> <span data-ttu-id="6d034-235">Esta seção apresentou uma exibição de altíssimo nível do IoT e há muitas sutilezas e desafios a serem considerados.</span><span class="sxs-lookup"><span data-stu-id="6d034-235">This section has presented a very high-level view of IoT, and there are many subtleties and challenges to consider.</span></span> <span data-ttu-id="6d034-236">Para obter mais detalhes e discussões sobre a arquitetura de referência, confira [Arquitetura de Referência do Microsoft Azure IoT][iot-ref-arch] (download do PDF).</span><span class="sxs-lookup"><span data-stu-id="6d034-236">For a more detailed reference architecture and discussion, see the [Microsoft Azure IoT Reference Architecture][iot-ref-arch] (PDF download).</span></span>

## <a name="next-steps"></a><span data-ttu-id="6d034-237">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="6d034-237">Next steps</span></span>

- <span data-ttu-id="6d034-238">Saiba mais sobre [arquiteturas de big data](../../data-guide/big-data/index.md).</span><span class="sxs-lookup"><span data-stu-id="6d034-238">Learn more about [big data architectures](../../data-guide/big-data/index.md).</span></span>

 <!-- links -->

[iot-ref-arch]: https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/
