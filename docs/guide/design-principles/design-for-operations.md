---
title: Design para operações
titleSuffix: Azure Application Architecture Guide
description: Crie um aplicativo para que a equipe de operações tenha as ferramentas necessárias.
author: MikeWasson
ms.date: 08/30/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: seojan19
ms.openlocfilehash: 75eaa7f8e322c66a83d2b43d180780a2fdcd745b
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54480477"
---
# <a name="design-for-operations"></a><span data-ttu-id="2fb30-103">Design para operações</span><span class="sxs-lookup"><span data-stu-id="2fb30-103">Design for operations</span></span>

## <a name="design-an-application-so-that-the-operations-team-has-the-tools-they-need"></a><span data-ttu-id="2fb30-104">Projetar um aplicativo para que a equipe de operações tenha as ferramentas necessárias</span><span class="sxs-lookup"><span data-stu-id="2fb30-104">Design an application so that the operations team has the tools they need</span></span>

<span data-ttu-id="2fb30-105">A nuvem mudou significativamente a função da equipe de operações.</span><span class="sxs-lookup"><span data-stu-id="2fb30-105">The cloud has dramatically changed the role of the operations team.</span></span> <span data-ttu-id="2fb30-106">Eles não são mais responsáveis por gerenciar o hardware e a infraestrutura que hospeda o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2fb30-106">They are no longer responsible for managing the hardware and infrastructure that hosts the application.</span></span>  <span data-ttu-id="2fb30-107">Dito isso, as operações ainda são uma parte crítica da execução bem-sucedida de um aplicativo em nuvem.</span><span class="sxs-lookup"><span data-stu-id="2fb30-107">That said, operations is still a critical part of running a successful cloud application.</span></span> <span data-ttu-id="2fb30-108">Algumas das funções importantes da equipe de operações incluem:</span><span class="sxs-lookup"><span data-stu-id="2fb30-108">Some of the important functions of the operations team include:</span></span>

- <span data-ttu-id="2fb30-109">Implantação</span><span class="sxs-lookup"><span data-stu-id="2fb30-109">Deployment</span></span>
- <span data-ttu-id="2fb30-110">Monitoramento</span><span class="sxs-lookup"><span data-stu-id="2fb30-110">Monitoring</span></span>
- <span data-ttu-id="2fb30-111">Escalonamento</span><span class="sxs-lookup"><span data-stu-id="2fb30-111">Escalation</span></span>
- <span data-ttu-id="2fb30-112">Resposta a incidentes</span><span class="sxs-lookup"><span data-stu-id="2fb30-112">Incident response</span></span>
- <span data-ttu-id="2fb30-113">Auditoria de segurança</span><span class="sxs-lookup"><span data-stu-id="2fb30-113">Security auditing</span></span>

<span data-ttu-id="2fb30-114">O rastreamento e o registro robustos são particularmente importantes em aplicativos de nuvem.</span><span class="sxs-lookup"><span data-stu-id="2fb30-114">Robust logging and tracing are particularly important in cloud applications.</span></span> <span data-ttu-id="2fb30-115">Envolva a equipe de operações no design e no planejamento, para garantir que o aplicativo ofereça os dados e as informações que precisam ser bem-sucedidas.</span><span class="sxs-lookup"><span data-stu-id="2fb30-115">Involve the operations team in design and planning, to ensure the application gives them the data and insight thay need to be successful.</span></span>  <!-- to do: Link to DevOps checklist -->

## <a name="recommendations"></a><span data-ttu-id="2fb30-116">Recomendações</span><span class="sxs-lookup"><span data-stu-id="2fb30-116">Recommendations</span></span>

<span data-ttu-id="2fb30-117">**Torne todas as coisas observáveis**.</span><span class="sxs-lookup"><span data-stu-id="2fb30-117">**Make all things observable**.</span></span> <span data-ttu-id="2fb30-118">Depois que uma solução é implantado e está em execução, os logs e os rastreamentos são suas informações primárias do sistema.</span><span class="sxs-lookup"><span data-stu-id="2fb30-118">Once a solution is deployed and running, logs and traces are your primary insight into the system.</span></span> <span data-ttu-id="2fb30-119">*Rastreamento* registra um caminho através do sistema e é útil para identificar afunilamentos, problemas de desempenho e pontos de falha.</span><span class="sxs-lookup"><span data-stu-id="2fb30-119">*Tracing* records a path through the system, and is useful to pinpoint bottlenecks, performance issues, and failure points.</span></span> <span data-ttu-id="2fb30-120">O *registro em log* captura eventos individuais, como alterações de estado, erros e exceções do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2fb30-120">*Logging* captures individual events such as application state changes, errors, and exceptions.</span></span> <span data-ttu-id="2fb30-121">Faça logon em produção, caso contrário, você perderá informações nos momentos em que mais precisará delas.</span><span class="sxs-lookup"><span data-stu-id="2fb30-121">Log in production, or else you lose insight at the very times when you need it the most.</span></span>

<span data-ttu-id="2fb30-122">**Instrumente para monitoramento**.</span><span class="sxs-lookup"><span data-stu-id="2fb30-122">**Instrument for monitoring**.</span></span> <span data-ttu-id="2fb30-123">O monitoramento oferece informações sobre o desempenho do aplicativo, bom ou ruim, em termos de disponibilidade, desempenho e integridade do sistema.</span><span class="sxs-lookup"><span data-stu-id="2fb30-123">Monitoring gives insight into how well (or poorly) an application is performing, in terms of availability, performance, and system health.</span></span> <span data-ttu-id="2fb30-124">Por exemplo, o monitoramento informa se você está atendendo ao seu SLA.</span><span class="sxs-lookup"><span data-stu-id="2fb30-124">For example, monitoring tells you whether you are meeting your SLA.</span></span> <span data-ttu-id="2fb30-125">O monitoramento ocorre durante a operação normal do sistema.</span><span class="sxs-lookup"><span data-stu-id="2fb30-125">Monitoring happens during the normal operation of the system.</span></span> <span data-ttu-id="2fb30-126">Ele deve ser o mais próximo possível ao tempo real para que a equipe de operações possa reagir rapidamente aos problemas.</span><span class="sxs-lookup"><span data-stu-id="2fb30-126">It should be as close to real-time as possible, so that the operations staff can react to issues quickly.</span></span> <span data-ttu-id="2fb30-127">Idealmente, o monitoramento pode ajudar a impedir problemas que antes levavam a uma falha crítica.</span><span class="sxs-lookup"><span data-stu-id="2fb30-127">Ideally, monitoring can help avert problems before they lead to a critical failure.</span></span> <span data-ttu-id="2fb30-128">Para saber mais, confira [Monitoramento e diagnóstico][monitoring].</span><span class="sxs-lookup"><span data-stu-id="2fb30-128">For more information, see [Monitoring and diagnostics][monitoring].</span></span>

<span data-ttu-id="2fb30-129">**Instrumente para análise da causa raiz**.</span><span class="sxs-lookup"><span data-stu-id="2fb30-129">**Instrument for root cause analysis**.</span></span> <span data-ttu-id="2fb30-130">A análise da causa raiz é o processo de encontrar a causa de falhas.</span><span class="sxs-lookup"><span data-stu-id="2fb30-130">Root cause analysis is the process of finding the underlying cause of failures.</span></span> <span data-ttu-id="2fb30-131">Isso ocorre quando a falha já aconteceu.</span><span class="sxs-lookup"><span data-stu-id="2fb30-131">It occurs after a failure has already happened.</span></span>

<span data-ttu-id="2fb30-132">**Use o rastreamento distribuído**.</span><span class="sxs-lookup"><span data-stu-id="2fb30-132">**Use distributed tracing**.</span></span> <span data-ttu-id="2fb30-133">Use um sistema de rastreamento distribuído projetado para simultaneidade, assincronia e escala de nuvem.</span><span class="sxs-lookup"><span data-stu-id="2fb30-133">Use a distributed tracing system that is designed for concurrency, asynchrony, and cloud scale.</span></span> <span data-ttu-id="2fb30-134">Os rastreamentos devem incluir uma ID de correlação que flua entre os limites dos serviços.</span><span class="sxs-lookup"><span data-stu-id="2fb30-134">Traces should include a correlation ID that flows across service boundaries.</span></span> <span data-ttu-id="2fb30-135">Uma única operação pode envolver a chamadas para vários serviços de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2fb30-135">A single operation may involve calls to multiple application services.</span></span> <span data-ttu-id="2fb30-136">Se uma operação falhar, a ID de correlação ajuda a identificar a causa da falha.</span><span class="sxs-lookup"><span data-stu-id="2fb30-136">If an operation fails, the correlation ID helps to pinpoint the cause of the failure.</span></span>

<span data-ttu-id="2fb30-137">**Padronize logs e métricas**.</span><span class="sxs-lookup"><span data-stu-id="2fb30-137">**Standardize logs and metrics**.</span></span> <span data-ttu-id="2fb30-138">A equipe de operações precisará agregar logs entre vários serviços em sua solução.</span><span class="sxs-lookup"><span data-stu-id="2fb30-138">The operations team will need to aggregate logs from across the various services in your solution.</span></span> <span data-ttu-id="2fb30-139">Se cada serviço usar seu próprio formato de log, fica difícil ou impossível obter informações úteis deles.</span><span class="sxs-lookup"><span data-stu-id="2fb30-139">If every service uses its own logging format, it becomes difficult or impossible to get useful information from them.</span></span> <span data-ttu-id="2fb30-140">Defina um esquema comum que inclua campos como a ID de correlação, o nome do evento, o endereço IP do remetente e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="2fb30-140">Define a common schema that includes fields such as correlation ID, event name, IP address of the sender, and so forth.</span></span> <span data-ttu-id="2fb30-141">Os serviços individuais podem derivar esquemas personalizados que herdam o esquema base e contêm campos adicionais.</span><span class="sxs-lookup"><span data-stu-id="2fb30-141">Individual services can derive custom schemas that inherit the base schema, and contain additional fields.</span></span>

<span data-ttu-id="2fb30-142">**Automatize tarefas de gerenciamento**, incluindo provisionamento, implantação e monitoramento.</span><span class="sxs-lookup"><span data-stu-id="2fb30-142">**Automate management tasks**, including provisioning, deployment, and monitoring.</span></span> <span data-ttu-id="2fb30-143">A automação de uma tarefa a torna repetível e menos propensa a erros humanos.</span><span class="sxs-lookup"><span data-stu-id="2fb30-143">Automating a task makes it repeatable and less prone to human errors.</span></span>

<span data-ttu-id="2fb30-144">**Trate a configuração como código**.</span><span class="sxs-lookup"><span data-stu-id="2fb30-144">**Treat configuration as code**.</span></span> <span data-ttu-id="2fb30-145">Verifique os arquivos de configuração em um sistema de controle de versão, para que você possa rastrear e controlar a versão das alterações e reverter, se necessário.</span><span class="sxs-lookup"><span data-stu-id="2fb30-145">Check configuration files into a version control system, so that you can track and version your changes, and roll back if needed.</span></span>

<!-- links -->

[monitoring]: ../../best-practices/monitoring.md
