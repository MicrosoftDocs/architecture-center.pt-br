---
title: "Recuperação de perda de uma região do Azure"
description: "Artigo sobre compreensão e design de aplicativos resilientes, altamente disponíveis e tolerante a falhas, bem como planejamento de recuperação de desastre"
author: adamglick
ms.date: 08/18/2016
ms.openlocfilehash: 42a7d865e101b43279f3198f3dd75df1b15a8565
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/14/2017
---
[!INCLUDE [header](../_includes/header.md)]
# <a name="azure-resiliency-technical-guidance-recovery-from-a-region-wide-service-disruption"></a><span data-ttu-id="f694a-103">Orientações técnicas de resiliência do Azure: recuperação de uma interrupção de serviço em toda a região</span><span class="sxs-lookup"><span data-stu-id="f694a-103">Azure resiliency technical guidance: recovery from a region-wide service disruption</span></span>
<span data-ttu-id="f694a-104">O Azure é dividido fisicamente e logicamente em unidades chamadas de regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-104">Azure is divided physically and logically into units called regions.</span></span> <span data-ttu-id="f694a-105">Uma região consiste em um ou mais datacenters nas proximidades.</span><span class="sxs-lookup"><span data-stu-id="f694a-105">A region consists of one or more datacenters in close proximity.</span></span> 

<span data-ttu-id="f694a-106">Em raras circunstâncias é possível que instalações em toda a região se tornem inacessíveis, por exemplo, devido a falhas de rede.</span><span class="sxs-lookup"><span data-stu-id="f694a-106">Under rare circumstances, it is possible that facilities in an entire region can become inaccessible, for example due to network failures.</span></span> <span data-ttu-id="f694a-107">Ou instalações podem ser inteiramente perdidas, por exemplo, devido a um desastre natural.</span><span class="sxs-lookup"><span data-stu-id="f694a-107">Or facilities can be lost entirely, for example due to a natural disaster.</span></span> <span data-ttu-id="f694a-108">Esta seção explica os recursos do Azure para criar aplicativos que são distribuídos entre regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-108">This section explains the capabilities of Azure for creating applications that are distributed across regions.</span></span> <span data-ttu-id="f694a-109">Essa distribuição ajuda a minimizar a possibilidade de que uma falha em uma região afete outras regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-109">Such distribution helps to minimize the possibility that a failure in one region could affect other regions.</span></span>

## <a name="cloud-services"></a><span data-ttu-id="f694a-110">Serviços de Nuvem</span><span class="sxs-lookup"><span data-stu-id="f694a-110">Cloud services</span></span>
### <a name="resource-management"></a><span data-ttu-id="f694a-111">Gerenciamento de recursos</span><span class="sxs-lookup"><span data-stu-id="f694a-111">Resource management</span></span>
<span data-ttu-id="f694a-112">Você pode distribuir as instâncias de computação entre regiões criando um serviço de nuvem separado em cada região de destino e publicando o pacote de implantação em cada serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="f694a-112">You can distribute compute instances across regions by creating a separate cloud service in each target region, and then publishing the deployment package to each cloud service.</span></span> <span data-ttu-id="f694a-113">No entanto, observe que a distribuição de tráfego pelos serviços de nuvem em diferentes regiões deve ser implementado pelo desenvolvedor do aplicativo ou com um serviço de gerenciamento de tráfego.</span><span class="sxs-lookup"><span data-stu-id="f694a-113">However, note that distributing traffic across cloud services in different regions must be implemented by the application developer or with a traffic management service.</span></span>

<span data-ttu-id="f694a-114">Determinar o número de instâncias de função de reposição a implantar com antecedência para recuperação de desastre é um aspecto importante do planejamento de capacidade.</span><span class="sxs-lookup"><span data-stu-id="f694a-114">Determining the number of spare role instances to deploy in advance for disaster recovery is an important aspect of capacity planning.</span></span> <span data-ttu-id="f694a-115">Ter uma implantação secundária completa garante que a capacidade esteja disponível quando necessário; no entanto, isso dobra efetivamente o custo.</span><span class="sxs-lookup"><span data-stu-id="f694a-115">Having a full-scale secondary deployment ensures that capacity is already available when needed; however, this effectively doubles the cost.</span></span> <span data-ttu-id="f694a-116">Um padrão comum é ter uma implantação secundária pequena, mas grande o suficiente para executar serviços críticos.</span><span class="sxs-lookup"><span data-stu-id="f694a-116">A common pattern is to have a small, secondary deployment, just large enough to run critical services.</span></span> <span data-ttu-id="f694a-117">Essa implantação secundária pequena é uma boa ideia, para reservar capacidade e para testar a configuração do ambiente secundário.</span><span class="sxs-lookup"><span data-stu-id="f694a-117">This small secondary deployment is a good idea, both to reserve capacity, and for testing the configuration of the secondary environment.</span></span>

> [!NOTE]
> <span data-ttu-id="f694a-118">A cota da assinatura não é uma garantia de capacidade.</span><span class="sxs-lookup"><span data-stu-id="f694a-118">The subscription quota is not a capacity guarantee.</span></span> <span data-ttu-id="f694a-119">A cota é simplesmente um limite de crédito.</span><span class="sxs-lookup"><span data-stu-id="f694a-119">The quota is simply a credit limit.</span></span> <span data-ttu-id="f694a-120">Para garantir a capacidade, o número necessário de funções deve ser definido no modelo de serviço, e as funções devem ser implantadas.</span><span class="sxs-lookup"><span data-stu-id="f694a-120">To guarantee capacity, the required number of roles must be defined in the service model, and the roles must be deployed.</span></span>
> 
> 

### <a name="load-balancing"></a><span data-ttu-id="f694a-121">Balanceamento de Carga</span><span class="sxs-lookup"><span data-stu-id="f694a-121">Load Balancing</span></span>
<span data-ttu-id="f694a-122">Balancear a carga de tráfego entre regiões requer uma solução de gerenciamento de tráfego.</span><span class="sxs-lookup"><span data-stu-id="f694a-122">To load balance traffic across regions requires a traffic management solution.</span></span> <span data-ttu-id="f694a-123">O Azure oferece o [Gerenciador de Tráfego do Azure](https://azure.microsoft.com/services/traffic-manager/).</span><span class="sxs-lookup"><span data-stu-id="f694a-123">Azure provides [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span></span> <span data-ttu-id="f694a-124">Você também pode tirar proveito dos serviços de terceiros que fornecem recursos de gerenciamento de tráfego semelhantes.</span><span class="sxs-lookup"><span data-stu-id="f694a-124">You can also take advantage of third-party services that provide similar traffic management capabilities.</span></span>

### <a name="strategies"></a><span data-ttu-id="f694a-125">Estratégias</span><span class="sxs-lookup"><span data-stu-id="f694a-125">Strategies</span></span>
<span data-ttu-id="f694a-126">Muitas estratégias alternativas estão disponíveis para implementação de computação distribuída entre regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-126">Many alternative strategies are available for implementing distributed compute across regions.</span></span> <span data-ttu-id="f694a-127">Essas estratégias devem ser personalizadas segundo os requisitos específicos de negócios e as circunstâncias do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f694a-127">These must be tailored to the specific business requirements and circumstances of the application.</span></span> <span data-ttu-id="f694a-128">Em um nível elevado, as abordagens podem ser divididas nas seguintes categorias:</span><span class="sxs-lookup"><span data-stu-id="f694a-128">At a high level, the approaches can be divided into the following categories:</span></span>

* <span data-ttu-id="f694a-129">**Reimplantar em caso de desastre**: nessa abordagem, o aplicativo é reimplantado do zero no momento do desastre.</span><span class="sxs-lookup"><span data-stu-id="f694a-129">**Redeploy on disaster**: In this approach the application is redeployed from scratch at the time of disaster.</span></span> <span data-ttu-id="f694a-130">Isso é adequado para aplicativos não críticos, que não exigem um tempo de recuperação garantido.</span><span class="sxs-lookup"><span data-stu-id="f694a-130">This is appropriate for non-critical applications that don’t require a guaranteed recovery time.</span></span>
* <span data-ttu-id="f694a-131">**Reposição morna (ativo/passivo)**: um serviço hospedado secundário é criado em uma região alternativa e funções são implantadas para garantir a capacidade mínima; no entanto, as funções não recebem tráfego de produção.</span><span class="sxs-lookup"><span data-stu-id="f694a-131">**Warm Spare (Active/Passive)**: A secondary hosted service is created in an alternate region, and roles are deployed to guarantee minimal capacity; however, the roles don’t receive production traffic.</span></span> <span data-ttu-id="f694a-132">Essa abordagem é útil para aplicativos que não foram projetados para distribuir tráfego entre regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-132">This approach is useful for applications that have not been designed to distribute traffic across regions.</span></span>
* <span data-ttu-id="f694a-133">**Reposição quente (ativo/ativo)**: o aplicativo foi projetado para receber a carga de produção em várias regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-133">**Hot Spare (Active/Active)**: The application is designed to receive production load in multiple regions.</span></span> <span data-ttu-id="f694a-134">Os serviços de nuvem em cada região podem ser configurados para capacidade maior do que o necessário para fins de recuperação de desastre.</span><span class="sxs-lookup"><span data-stu-id="f694a-134">The cloud services in each region might be configured for higher capacity than required for disaster recovery purposes.</span></span> <span data-ttu-id="f694a-135">Como alternativa, os serviços de nuvem podem escalar horizontalmente conforme o necessário no momento de um desastre e failover.</span><span class="sxs-lookup"><span data-stu-id="f694a-135">Alternatively, the cloud services might scale out as necessary at the time of a disaster and failover.</span></span> <span data-ttu-id="f694a-136">Essa abordagem exige um investimento substancial no design do aplicativo, mas tem benefícios significativos.</span><span class="sxs-lookup"><span data-stu-id="f694a-136">This approach requires substantial investment in application design, but it has significant benefits.</span></span> <span data-ttu-id="f694a-137">Isso inclui tempo de recuperação baixo e garantido, testes contínuos de todos os locais de recuperação e uso eficiente da capacidade.</span><span class="sxs-lookup"><span data-stu-id="f694a-137">These include low and guaranteed recovery time, continuous testing of all recovery locations, and efficient usage of capacity.</span></span>

<span data-ttu-id="f694a-138">Uma discussão completa sobre design distribuído está fora do escopo deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-138">A complete discussion of distributed design is outside the scope of this document.</span></span> <span data-ttu-id="f694a-139">Para saber mais, confira [Recuperação de Desastre e Alta Disponibilidade para Aplicativos do Azure](https://aka.ms/drtechguide).</span><span class="sxs-lookup"><span data-stu-id="f694a-139">For further information, see [Disaster Recovery and High Availability for Azure Applications](https://aka.ms/drtechguide).</span></span>

## <a name="virtual-machines"></a><span data-ttu-id="f694a-140">Máquinas Virtuais</span><span class="sxs-lookup"><span data-stu-id="f694a-140">Virtual Machines</span></span>
<span data-ttu-id="f694a-141">A recuperação de VMs (máquinas virtuais) de IaaS (infraestrutura como um serviço) é semelhante à recuperação de computação de PaaS (plataforma como serviço) em muitos aspectos.</span><span class="sxs-lookup"><span data-stu-id="f694a-141">Recovery of infrastructure as a service (IaaS) virtual machines (VMs) is similar to platform as a service (PaaS) compute recovery in many respects.</span></span> <span data-ttu-id="f694a-142">No entanto, há diferenças importantes, pois uma VM IaaS consiste na VM e no disco de VM.</span><span class="sxs-lookup"><span data-stu-id="f694a-142">There are important differences, however, due to the fact that an IaaS VM consists of both the VM and the VM disk.</span></span>

* <span data-ttu-id="f694a-143">**Use o Backup do Azure para criar backups entre regiões consistentes com aplicativos**.</span><span class="sxs-lookup"><span data-stu-id="f694a-143">**Use Azure Backup to create cross region backups that are application consistent**.</span></span>
  <span data-ttu-id="f694a-144">[Backup do Azure](https://azure.microsoft.com/services/backup/) habilita os clientes a criar backups consistentes com aplicativos em vários discos de VM e dar suporte à replicação de backups entre regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-144">[Azure Backup](https://azure.microsoft.com/services/backup/) enables customers to create application consistent backups across multiple VM disks, and support replication of backups across regions.</span></span> <span data-ttu-id="f694a-145">Você pode fazer isso optando por replicar geograficamente o cofre de backup no momento da criação.</span><span class="sxs-lookup"><span data-stu-id="f694a-145">You can do this by choosing to geo-replicate the backup vault at the time of creation.</span></span> <span data-ttu-id="f694a-146">Observe que a replicação do cofre de backup deve ser configurada no momento da criação.</span><span class="sxs-lookup"><span data-stu-id="f694a-146">Note that replication of the backup vault must be configured at the time of creation.</span></span> <span data-ttu-id="f694a-147">Ele não pode ser definido mais tarde.</span><span class="sxs-lookup"><span data-stu-id="f694a-147">It can't be set later.</span></span> <span data-ttu-id="f694a-148">Se uma região for perdida, a Microsoft disponibilizará os backups para os clientes.</span><span class="sxs-lookup"><span data-stu-id="f694a-148">If a region is lost, Microsoft will make the backups available to customers.</span></span> <span data-ttu-id="f694a-149">Os clientes poderão restaurar para qualquer um dos seus pontos de restauração configurados.</span><span class="sxs-lookup"><span data-stu-id="f694a-149">Customers will be able to restore to any of their configured restore points.</span></span>
* <span data-ttu-id="f694a-150">**Separar os discos de dados do disco do sistema operacional**.</span><span class="sxs-lookup"><span data-stu-id="f694a-150">**Separate the data disk from the operating system disk**.</span></span> <span data-ttu-id="f694a-151">Uma consideração importante para VMs IaaS é que você não pode alterar o disco do sistema operacional sem recriar a VM.</span><span class="sxs-lookup"><span data-stu-id="f694a-151">An important consideration for IaaS VMs is that you cannot change the operating system disk without re-creating the VM.</span></span> <span data-ttu-id="f694a-152">Isso não será um problema se sua estratégia de recuperação for a de reimplantar após desastre.</span><span class="sxs-lookup"><span data-stu-id="f694a-152">This is not a problem if your recovery strategy is to redeploy after disaster.</span></span> <span data-ttu-id="f694a-153">No entanto, poderá ser um problema se você estiver usando a abordagem de reposição morna para capacidade reserva.</span><span class="sxs-lookup"><span data-stu-id="f694a-153">However, it might be a problem if you are using the Warm Spare approach to reserve capacity.</span></span> <span data-ttu-id="f694a-154">Para implementar isso adequadamente, você deve ter o disco de sistema operacional correto implantado nos locais primário e secundário, e os dados de aplicativos devem ser armazenados em uma unidade separada.</span><span class="sxs-lookup"><span data-stu-id="f694a-154">To implement this properly, you must have the correct operating system disk deployed to both the primary and secondary locations, and the application data must be stored on a separate drive.</span></span> <span data-ttu-id="f694a-155">Se possível, use uma configuração de sistema operacional padrão, que possa ser fornecida em ambos os locais.</span><span class="sxs-lookup"><span data-stu-id="f694a-155">If possible, use a standard operating system configuration that can be provided on both locations.</span></span> <span data-ttu-id="f694a-156">Após um failover, você deve anexar a unidade de dados às VMs IaaS existentes no controlador de domínio secundário.</span><span class="sxs-lookup"><span data-stu-id="f694a-156">After a failover, you must then attach the data drive to your existing IaaS VMs in the secondary DC.</span></span> <span data-ttu-id="f694a-157">Use o AzCopy para copiar instantâneos dos discos de dados para um site remoto.</span><span class="sxs-lookup"><span data-stu-id="f694a-157">Use AzCopy to copy snapshots of the data disk(s) to a remote site.</span></span>
* <span data-ttu-id="f694a-158">**Estar ciente dos possíveis problemas de consistência após um failover geográfico de vários Discos de VM**.</span><span class="sxs-lookup"><span data-stu-id="f694a-158">**Be aware of potential consistency issues after a geo-failover of multiple VM Disks**.</span></span> <span data-ttu-id="f694a-159">Os Discos de VM são implementados como blobs de Armazenamento do Azure e têm a mesma característica de replicação geográfica.</span><span class="sxs-lookup"><span data-stu-id="f694a-159">VM Disks are implemented as Azure Storage blobs, and have the same geo-replication characteristic.</span></span> <span data-ttu-id="f694a-160">A menos que o [Backup do Azure](https://azure.microsoft.com/services/backup/) seja usado, não há garantia de consistência entre discos, pois a replicação geográfica é assíncrona e é replicada de maneira independente.</span><span class="sxs-lookup"><span data-stu-id="f694a-160">Unless [Azure Backup](https://azure.microsoft.com/services/backup/) is used, there are no guarantees of consistency across disks, because geo-replication is asynchronous and replicates independently.</span></span> <span data-ttu-id="f694a-161">Discos de VM individuais têm a garantia de estar em um estado com controle de falhas após um failover geográfico, mas não consistente entre discos.</span><span class="sxs-lookup"><span data-stu-id="f694a-161">Individual VM disks are guaranteed to be in a crash consistent state after a geo-failover, but not consistent across disks.</span></span> <span data-ttu-id="f694a-162">Isso pode causar problemas em alguns casos (por exemplo, no caso de divisão entre discos).</span><span class="sxs-lookup"><span data-stu-id="f694a-162">This could cause problems in some cases (for example, in the case of disk striping).</span></span>

## <a name="storage"></a><span data-ttu-id="f694a-163">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="f694a-163">Storage</span></span>
### <a name="recovery-by-using-geo-redundant-storage-of-blob-table-queue-and-vm-disk-storage"></a><span data-ttu-id="f694a-164">Recuperação usando armazenamento com Redundância Geográfica de blob, tabela, fila e armazenamento em disco de VM</span><span class="sxs-lookup"><span data-stu-id="f694a-164">Recovery by using Geo-Redundant Storage of blob, table, queue and VM disk storage</span></span>
<span data-ttu-id="f694a-165">Em blobs do Azure, tabelas, filas e discos de VM são todos replicados geograficamente por padrão.</span><span class="sxs-lookup"><span data-stu-id="f694a-165">In Azure, blobs, tables, queues, and VM disks are all geo-replicated by default.</span></span> <span data-ttu-id="f694a-166">Isso é conhecido como GRS (armazenamento com redundância geográfica).</span><span class="sxs-lookup"><span data-stu-id="f694a-166">This is referred to as Geo-Redundant Storage (GRS).</span></span> <span data-ttu-id="f694a-167">O GRS replica dados de armazenamento para um datacenter emparelhado a centenas de milhas de distância dentro de uma região geográfica específica.</span><span class="sxs-lookup"><span data-stu-id="f694a-167">GRS replicates storage data to a paired datacenter hundreds of miles apart within a specific geographic region.</span></span> <span data-ttu-id="f694a-168">O GRS é destinado a fornecer durabilidade adicional caso ocorra um desastre de grandes proporções no datacenter.</span><span class="sxs-lookup"><span data-stu-id="f694a-168">GRS is designed to provide additional durability in case there is a major datacenter disaster.</span></span> <span data-ttu-id="f694a-169">A Microsoft controla quando ocorre o failover, que se limita a grandes desastres em que o local principal de origem é considerado irrecuperável em um período de tempo razoável.</span><span class="sxs-lookup"><span data-stu-id="f694a-169">Microsoft controls when failover occurs, and failover is limited to major disasters in which the original primary location is deemed unrecoverable in a reasonable amount of time.</span></span> <span data-ttu-id="f694a-170">Em alguns cenários, isso pode consistir em vários dias.</span><span class="sxs-lookup"><span data-stu-id="f694a-170">Under some scenarios, this can be several days.</span></span> <span data-ttu-id="f694a-171">Os dados normalmente são replicados em poucos minutos, embora o intervalo de sincronização ainda não seja coberto por um contrato de nível de serviço.</span><span class="sxs-lookup"><span data-stu-id="f694a-171">Data is typically replicated within a few minutes, although synchronization interval is not yet covered by a service level agreement.</span></span>

<span data-ttu-id="f694a-172">No caso de um failover geográfico, não haverá alteração na maneira como a conta é acessada (a URL e a chave da conta não serão alteradas).</span><span class="sxs-lookup"><span data-stu-id="f694a-172">In the event of a geo-failover, there will be no change to how the account is accessed (the URL and account key will not change).</span></span> <span data-ttu-id="f694a-173">No entanto, a conta de armazenamento estará em uma região diferente após o failover.</span><span class="sxs-lookup"><span data-stu-id="f694a-173">The storage account will, however, be in a different region after failover.</span></span> <span data-ttu-id="f694a-174">Isso pode afetar aplicativos que exigem afinidade regional com sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f694a-174">This could impact applications that require regional affinity with their storage account.</span></span> <span data-ttu-id="f694a-175">Mesmo para serviços e aplicativos que não exigem uma conta de armazenamento no mesmo datacenter, os encargos de largura de banda e a latência entre datacenters podem ser motivos convincentes para mover temporariamente o tráfego para a região de failover.</span><span class="sxs-lookup"><span data-stu-id="f694a-175">Even for services and applications that do not require a storage account in the same datacenter, the cross-datacenter latency and bandwidth charges might be compelling reasons to move traffic to the failover region temporarily.</span></span> <span data-ttu-id="f694a-176">Isso pode influenciar uma estratégia geral de recuperação de desastre.</span><span class="sxs-lookup"><span data-stu-id="f694a-176">This could factor into an overall disaster recovery strategy.</span></span>

<span data-ttu-id="f694a-177">Além do failover automático fornecido pelo GRS, o Azure introduziu um serviço que fornece a você acesso de leitura à cópia dos dados no local de armazenamento secundário.</span><span class="sxs-lookup"><span data-stu-id="f694a-177">In addition to automatic failover provided by GRS, Azure has introduced a service that gives you read access to the copy of your data in the secondary storage location.</span></span> <span data-ttu-id="f694a-178">Isso é chamado de RA-GRS (armazenamento com redundância geográfica com acesso de leitura).</span><span class="sxs-lookup"><span data-stu-id="f694a-178">This is called Read-Access Geo-Redundant Storage (RA-GRS).</span></span>

<span data-ttu-id="f694a-179">Para saber mais sobre as opções de armazenamento GRS e RA-GRS, confira [Replicação do Armazenamento do Azure](/azure/storage/storage-redundancy/).</span><span class="sxs-lookup"><span data-stu-id="f694a-179">For more information about both GRS and RA-GRS storage, see [Azure Storage replication](/azure/storage/storage-redundancy/).</span></span>

### <a name="geo-replication-region-mappings"></a><span data-ttu-id="f694a-180">Mapeamentos de região de Replicação Geográfica:</span><span class="sxs-lookup"><span data-stu-id="f694a-180">Geo-Replication region mappings:</span></span>
<span data-ttu-id="f694a-181">É importante saber onde os dados são replicados geograficamente para saber onde implantar as outras instâncias de dados que exigem afinidade regional com o armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f694a-181">It is important to know where your data is geo-replicated, in order to know where to deploy the other instances of your data that require regional affinity with your storage.</span></span> <span data-ttu-id="f694a-182">Para obter mais informações, consulte [Regiões emparelhadas do Azure](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="f694a-182">For more information see [Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

### <a name="geo-replication-pricing"></a><span data-ttu-id="f694a-183">Preços da Replicação Geográfica:</span><span class="sxs-lookup"><span data-stu-id="f694a-183">Geo-Replication pricing:</span></span>
<span data-ttu-id="f694a-184">A replicação geográfica está incluída no preço atual do Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-184">Geo-replication is included in current pricing for Azure Storage.</span></span> <span data-ttu-id="f694a-185">Isso se chama GRS (Armazenamento com Redundância Geográfica).</span><span class="sxs-lookup"><span data-stu-id="f694a-185">This is called Geo-Redundant Storage (GRS).</span></span> <span data-ttu-id="f694a-186">Se não quiser que os dados sejam replicados geograficamente, você poderá desabilitar a replicação geográfica para sua conta.</span><span class="sxs-lookup"><span data-stu-id="f694a-186">If you do not want your data geo-replicated you can disable geo-replication for your account.</span></span> <span data-ttu-id="f694a-187">Isso é chamado de Armazenamento com Redundância Local e é cobrado com um preço com desconto em comparação com o GRS.</span><span class="sxs-lookup"><span data-stu-id="f694a-187">This is called Locally Redundant Storage, and it is charged at a discounted price compared to GRS.</span></span>

### <a name="determining-if-a-geo-failover-has-occurred"></a><span data-ttu-id="f694a-188">Determinando se um failover geográfico ocorreu</span><span class="sxs-lookup"><span data-stu-id="f694a-188">Determining if a geo-failover has occurred</span></span>
<span data-ttu-id="f694a-189">Se ocorrer um failover geográfico, isso será postado no [Painel de Integridade de Serviço do Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="f694a-189">If a geo-failover occurs, this will be posted to the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span> <span data-ttu-id="f694a-190">No entanto, os aplicativos podem implementar um meio automatizado de detectar isso monitorando a região geográfica da conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f694a-190">Applications can implement an automated means of detecting this, however, by monitoring the geo-region for their storage account.</span></span> <span data-ttu-id="f694a-191">Isso pode ser usado para disparar outras operações de recuperação, como a ativação de recursos de computação na região geográfica para a qual o armazenamento foi movido.</span><span class="sxs-lookup"><span data-stu-id="f694a-191">This can be used to trigger other recovery operations, such as activation of compute resources in the geo-region where their storage moved to.</span></span> <span data-ttu-id="f694a-192">Você pode executar uma consulta para isso da API de gerenciamento de serviços, usando [Obter Propriedades de Conta de Armazenamento](https://msdn.microsoft.com/library/ee460802.aspx).</span><span class="sxs-lookup"><span data-stu-id="f694a-192">You can perform a query for this from the service management API, by using [Get Storage Account Properties](https://msdn.microsoft.com/library/ee460802.aspx).</span></span> <span data-ttu-id="f694a-193">As propriedades relevantes são:</span><span class="sxs-lookup"><span data-stu-id="f694a-193">The relevant properties are:</span></span>

    <GeoPrimaryRegion>primary-region</GeoPrimaryRegion>
    <StatusOfPrimary>[Available|Unavailable]</StatusOfPrimary>
    <LastGeoFailoverTime>DateTime</LastGeoFailoverTime>
    <GeoSecondaryRegion>secondary-region</GeoSecondaryRegion>
    <StatusOfSecondary>[Available|Unavailable]</StatusOfSecondary>

### <a name="vm-disks-and-geo-failover"></a><span data-ttu-id="f694a-194">Discos de VM e failover geográfico</span><span class="sxs-lookup"><span data-stu-id="f694a-194">VM disks and geo-failover</span></span>
<span data-ttu-id="f694a-195">Conforme discutido na seção sobre discos de VM, não há garantias de consistência de dados entre discos de VM após um failover.</span><span class="sxs-lookup"><span data-stu-id="f694a-195">As discussed in the section on VM disks, there are no guarantees for data consistency across VM disks after a failover.</span></span> <span data-ttu-id="f694a-196">Para garantir a exatidão de backups, um produto de backup como o Data Protection Manager deve ser usado para fazer backup de dados de aplicativos e restaurá-los.</span><span class="sxs-lookup"><span data-stu-id="f694a-196">To ensure correctness of backups, a backup product such as Data Protection Manager should be used to back up and restore application data.</span></span>

## <a name="database"></a><span data-ttu-id="f694a-197">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="f694a-197">Database</span></span>
### <a name="sql-database"></a><span data-ttu-id="f694a-198">Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="f694a-198">SQL Database</span></span>
<span data-ttu-id="f694a-199">O Banco de Dados SQL do Azure fornece dois tipos de recuperação: Restauração Geográfica e Replicação Geográfica Ativa.</span><span class="sxs-lookup"><span data-stu-id="f694a-199">Azure SQL Database provides two types of recovery: Geo-Restore and Active Geo-Replication.</span></span>

#### <a name="geo-restore"></a><span data-ttu-id="f694a-200">Restauração geográfica</span><span class="sxs-lookup"><span data-stu-id="f694a-200">Geo-Restore</span></span>
<span data-ttu-id="f694a-201">[Restauração geográfica](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) também está disponível para bancos de dados Basic, Standard e Premium.</span><span class="sxs-lookup"><span data-stu-id="f694a-201">[Geo-Restore](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) is also available with Basic, Standard, and Premium databases.</span></span> <span data-ttu-id="f694a-202">Ele fornece a opção de recuperação padrão quando o banco de dados está indisponível devido a um incidente na região em que o banco de dados está hospedado.</span><span class="sxs-lookup"><span data-stu-id="f694a-202">It provides the default recovery option when the database is unavailable because of an incident in the region where your database is hosted.</span></span> <span data-ttu-id="f694a-203">De forma semelhante à Recuperação Pontual, a Restauração Geográfica conta com backups de banco de dados no armazenamento do Azure com redundância geográfica.</span><span class="sxs-lookup"><span data-stu-id="f694a-203">Similar to Point-In-Time Restore, Geo-Restore relies on database backups in geo-redundant Azure storage.</span></span> <span data-ttu-id="f694a-204">Ele restaura da cópia de backup replicado geograficamente e, assim, é resistente a falhas de armazenamento na região primária.</span><span class="sxs-lookup"><span data-stu-id="f694a-204">It restores from the geo-replicated backup copy, and therefore is resilient to the storage outages in the primary region.</span></span> <span data-ttu-id="f694a-205">Para obter mais detalhes, consulte [Restaurar um banco de dados SQL ou fazer failover para um secundário](/azure/sql-database/sql-database-disaster-recovery/).</span><span class="sxs-lookup"><span data-stu-id="f694a-205">For more details, see [Restore an Azure SQL Database or failover to a secondary](/azure/sql-database/sql-database-disaster-recovery/).</span></span>

#### <a name="active-geo-replication"></a><span data-ttu-id="f694a-206">Replicação geográfica ativa</span><span class="sxs-lookup"><span data-stu-id="f694a-206">Active Geo-Replication</span></span>
<span data-ttu-id="f694a-207">[Replicação geográfica ativa](/azure/sql-database/sql-database-geo-replication-overview/) está disponível para todas as camadas de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="f694a-207">[Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) is available for all database tiers.</span></span> <span data-ttu-id="f694a-208">Ela foi criada para aplicativos que têm requisitos de recuperação mais agressivos do que a Restauração Geográfica pode oferecer.</span><span class="sxs-lookup"><span data-stu-id="f694a-208">It’s designed for applications that have more aggressive recovery requirements than Geo-Restore can offer.</span></span> <span data-ttu-id="f694a-209">Com a replicação geográfica ativa, você pode criar até quatro secundários legíveis nos servidores em regiões diferentes.</span><span class="sxs-lookup"><span data-stu-id="f694a-209">Using Active Geo-Replication, you can create up to four readable secondaries on servers in different regions.</span></span> <span data-ttu-id="f694a-210">Você pode iniciar o failover para qualquer um dos secundários.</span><span class="sxs-lookup"><span data-stu-id="f694a-210">You can initiate failover to any of the secondaries.</span></span> <span data-ttu-id="f694a-211">Além disso, a replicação geográfica ativa pode ser usada para suportar a atualização do aplicativo ou os cenários de realocação, bem como o balanceamento de carga para cargas de trabalho somente leitura.</span><span class="sxs-lookup"><span data-stu-id="f694a-211">In addition, Active Geo-Replication can be used to support the application upgrade or relocation scenarios, as well as load balancing for read-only workloads.</span></span> <span data-ttu-id="f694a-212">Para obter detalhes, veja [configurar a Replicação Geográfica](/azure/sql-database/sql-database-geo-replication-portal/) e [failover para o banco de dados secundário](/azure/sql-database/sql-database-geo-replication-failover-portal/).</span><span class="sxs-lookup"><span data-stu-id="f694a-212">For details, see [configure Geo-Replication](/azure/sql-database/sql-database-geo-replication-portal/) and to [fail over to the secondary database](/azure/sql-database/sql-database-geo-replication-failover-portal/).</span></span> <span data-ttu-id="f694a-213">Confira [Criar um aplicativo para recuperação de desastre na nuvem usando a Replicação Geográfica ativa no Banco de Dados SQL](/azure/sql-database/sql-database-designing-cloud-solutions-for-disaster-recovery/) e [Gerenciando as atualizações sem interrupção de aplicativos na nuvem usando a Replicação Geográfica Ativa do Banco de Dados SQL](/azure/sql-database/sql-database-manage-application-rolling-upgrade/) para obter detalhes sobre como criar e implementar aplicativos e a atualização de aplicativos sem tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="f694a-213">Refer to [Design an application for cloud disaster recovery using Active Geo-Replication in SQL Database](/azure/sql-database/sql-database-designing-cloud-solutions-for-disaster-recovery/) and [Managing rolling upgrades of cloud applications using SQL Database Active Geo-Replication](/azure/sql-database/sql-database-manage-application-rolling-upgrade/) for details on how to design and implement applications and applications upgrade without downtime.</span></span>

### <a name="sql-server-on-virtual-machines"></a><span data-ttu-id="f694a-214">SQL Server em máquinas virtuais</span><span class="sxs-lookup"><span data-stu-id="f694a-214">SQL Server on Virtual Machines</span></span>
<span data-ttu-id="f694a-215">Várias opções estão disponíveis para recuperação e alta disponibilidade para o SQL Server 2012 (e posterior) em execução em Máquinas Virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-215">A variety of options are available for recovery and high availability for SQL Server 2012 (and later) running in Azure Virtual Machines.</span></span> <span data-ttu-id="f694a-216">Para saber mais, confira [Alta disponibilidade e recuperação de desastres para o SQL Server em Máquinas Virtuais do Azure](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/).</span><span class="sxs-lookup"><span data-stu-id="f694a-216">For more information, see [High availability and disaster recovery for SQL Server in Azure Virtual Machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/).</span></span>

## <a name="other-azure-platform-services"></a><span data-ttu-id="f694a-217">Outros serviços da plataforma Azure</span><span class="sxs-lookup"><span data-stu-id="f694a-217">Other Azure platform services</span></span>
<span data-ttu-id="f694a-218">Ao tentar executar seu serviço de nuvem em várias regiões do Azure, você deve considerar as implicações para cada uma de suas dependências.</span><span class="sxs-lookup"><span data-stu-id="f694a-218">When attempting to run your cloud service in multiple Azure regions, you must consider the implications for each of your dependencies.</span></span> <span data-ttu-id="f694a-219">Nas seções a seguir, as diretrizes específicas do serviço pressupõem que você deve usar o mesmo serviço do Azure em um datacenter alternativo do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-219">In the following sections, the service-specific guidance assumes that you must use the same Azure service in an alternate Azure datacenter.</span></span> <span data-ttu-id="f694a-220">Isso envolve tanto tarefas de configuração quanto de replicação de dados.</span><span class="sxs-lookup"><span data-stu-id="f694a-220">This involves both configuration and data-replication tasks.</span></span>

> [!NOTE]
> <span data-ttu-id="f694a-221">Em alguns casos, essas etapas podem ajudar a atenuar uma interrupção de serviço específico no lugar de um evento no datacenter inteiro.</span><span class="sxs-lookup"><span data-stu-id="f694a-221">In some cases, these steps can help to mitigate a service-specific outage rather than an entire datacenter event.</span></span> <span data-ttu-id="f694a-222">Da perspectiva do aplicativo, uma interrupção de serviço específico pode ser igualmente limitadora e exigiria a migração temporária do serviço para uma região alternativa do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-222">From the application perspective, a service-specific outage might be just as limiting and would require temporarily migrating the service to an alternate Azure region.</span></span>
> 
> 

### <a name="service-bus"></a><span data-ttu-id="f694a-223">Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="f694a-223">Service Bus</span></span>
<span data-ttu-id="f694a-224">O Barramento de Serviço do Azure usa um namespace exclusivo que não abrange regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-224">Azure Service Bus uses a unique namespace that does not span Azure regions.</span></span> <span data-ttu-id="f694a-225">Portanto, o primeiro requisito é configurar os namespaces do barramento de serviço necessários na região alternativa.</span><span class="sxs-lookup"><span data-stu-id="f694a-225">So the first requirement is to setup the necessary service bus namespaces in the alternate region.</span></span> <span data-ttu-id="f694a-226">No entanto, também há considerações sobre a durabilidade das mensagens na fila.</span><span class="sxs-lookup"><span data-stu-id="f694a-226">However, there are also considerations for the durability of the queued messages.</span></span> <span data-ttu-id="f694a-227">Há várias estratégias para replicar mensagens entre regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-227">There are several strategies for replicating messages across Azure regions.</span></span> <span data-ttu-id="f694a-228">Para obter detalhes sobre essas estratégias de replicação e outras estratégias de recuperação de desastre, confira [Práticas recomendadas para isolar aplicativos contra interrupções e desastres do Barramento de Serviço](/azure/service-bus-messaging/service-bus-outages-disasters/).</span><span class="sxs-lookup"><span data-stu-id="f694a-228">For the details on these replication strategies and other disaster recovery strategies, see [Best practices for insulating applications against Service Bus outages and disasters](/azure/service-bus-messaging/service-bus-outages-disasters/).</span></span> <span data-ttu-id="f694a-229">Para obter outras considerações sobre disponibilidade, confira [Barramento de Serviço (Disponibilidade)](recovery-local-failures.md#other-azure-platform-services).</span><span class="sxs-lookup"><span data-stu-id="f694a-229">For other availability considerations, see [Service Bus (Availability)](recovery-local-failures.md#other-azure-platform-services).</span></span>

### <a name="app-service"></a><span data-ttu-id="f694a-230">Serviço de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="f694a-230">App Service</span></span>
<span data-ttu-id="f694a-231">Para migrar um aplicativo do Serviço de Aplicativo do Azure, como Aplicativos Web ou Aplicativos Móveis, para uma região do Azure secundária, você deve ter um backup do site disponível para publicação.</span><span class="sxs-lookup"><span data-stu-id="f694a-231">To migrate an Azure App Service application, such as Web Apps or Mobile Apps, to a secondary Azure region, you must have a backup of the website available for publishing.</span></span> <span data-ttu-id="f694a-232">Se a interrupção não envolver todo o datacenter do Azure, talvez seja possível usar o FTP para baixar um backup recente do conteúdo do site.</span><span class="sxs-lookup"><span data-stu-id="f694a-232">If the outage does not involve the entire Azure datacenter, it might be possible to use FTP to download a recent backup of the site content.</span></span> <span data-ttu-id="f694a-233">Em seguida, crie um novo aplicativo na região alternativa, a menos que você tenha feito isso anteriormente para a capacidade reserva.</span><span class="sxs-lookup"><span data-stu-id="f694a-233">Then create a new app in the alternate region, unless you have previously done this to reserve capacity.</span></span> <span data-ttu-id="f694a-234">Publique o site na nova região e faça quaisquer alterações de configuração necessárias.</span><span class="sxs-lookup"><span data-stu-id="f694a-234">Publish the site to the new region, and make any necessary configuration changes.</span></span> <span data-ttu-id="f694a-235">Essas alterações podem incluir cadeias de conexão de banco de dados ou outras configurações específicas de região.</span><span class="sxs-lookup"><span data-stu-id="f694a-235">These changes could include database connection strings or other region-specific settings.</span></span> <span data-ttu-id="f694a-236">Se necessário, adicione o certificado SSL do site e altere o registro DNS CNAME para que o nome de domínio personalizado aponte para a URL do aplicativo Web do Azure reimplantado.</span><span class="sxs-lookup"><span data-stu-id="f694a-236">If necessary, add the site’s SSL certificate and change the DNS CNAME record so that the custom domain name points to the redeployed Azure Web App URL.</span></span>

### <a name="hdinsight"></a><span data-ttu-id="f694a-237">HDInsight</span><span class="sxs-lookup"><span data-stu-id="f694a-237">HDInsight</span></span>
<span data-ttu-id="f694a-238">Os dados associados ao HDInsight são armazenados por padrão no armazenamento de Blobs do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-238">The data associated with HDInsight is stored by default in Azure Blob Storage.</span></span> <span data-ttu-id="f694a-239">O HDInsight requer que um cluster Hadoop processando trabalhos de MapReduce esteja colocalizado na mesma região da conta de armazenamento que contém os dados sendo analisados.</span><span class="sxs-lookup"><span data-stu-id="f694a-239">HDInsight requires that a Hadoop cluster processing MapReduce jobs must be co-located in the same region as the storage account that contains the data being analyzed.</span></span> <span data-ttu-id="f694a-240">Desde que você use o recurso de replicação geográfica disponível para o Armazenamento do Azure, você poderá acessar os dados na região secundária onde os dados foram replicados se, por algum motivo, a região primária não estiver mais disponível.</span><span class="sxs-lookup"><span data-stu-id="f694a-240">Provided you use the geo-replication feature available to Azure Storage, you can access your data in the secondary region where the data was replicated if for some reason the primary region is no longer available.</span></span> <span data-ttu-id="f694a-241">Você pode criar um novo cluster Hadoop na região em que os dados foram replicados e continuar processando-os.</span><span class="sxs-lookup"><span data-stu-id="f694a-241">You can create a new Hadoop cluster in the region where the data has been replicated and continue processing it.</span></span> <span data-ttu-id="f694a-242">Para obter outras considerações sobre disponibilidade, confira [HDInsight (Disponibilidade)](recovery-local-failures.md#other-azure-platform-services).</span><span class="sxs-lookup"><span data-stu-id="f694a-242">For other availability considerations, see [HDInsight (Availability)](recovery-local-failures.md#other-azure-platform-services).</span></span>

### <a name="sql-reporting"></a><span data-ttu-id="f694a-243">Relatórios SQL</span><span class="sxs-lookup"><span data-stu-id="f694a-243">SQL Reporting</span></span>
<span data-ttu-id="f694a-244">Neste momento, a recuperação da perda de uma região do Azure exige várias instâncias de Relatórios SQL em diferentes regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-244">At this time, recovering from the loss of an Azure region requires multiple SQL Reporting instances in different Azure regions.</span></span> <span data-ttu-id="f694a-245">Essas instâncias de Relatórios SQL devem acessar os mesmos dados, e esses dados devem ter seu próprio plano de recuperação em caso de desastre.</span><span class="sxs-lookup"><span data-stu-id="f694a-245">These SQL Reporting instances should access the same data, and that data should have its own recovery plan in the event of a disaster.</span></span> <span data-ttu-id="f694a-246">Você também pode manter cópias de backup externas do arquivo RDL para cada relatório.</span><span class="sxs-lookup"><span data-stu-id="f694a-246">You can also maintain external backup copies of the RDL file for each report.</span></span>

### <a name="media-services"></a><span data-ttu-id="f694a-247">Serviços de mídia</span><span class="sxs-lookup"><span data-stu-id="f694a-247">Media Services</span></span>
<span data-ttu-id="f694a-248">Os Serviços de Mídia do Azure têm abordagens de recuperação diferentes para codificação e streaming.</span><span class="sxs-lookup"><span data-stu-id="f694a-248">Azure Media Services has a different recovery approach for encoding and streaming.</span></span> <span data-ttu-id="f694a-249">Normalmente, a transmissão é mais crítica durante uma interrupção regional.</span><span class="sxs-lookup"><span data-stu-id="f694a-249">Typically, streaming is more critical during a regional outage.</span></span> <span data-ttu-id="f694a-250">Para se preparar para isso, você deve ter uma conta de Serviços de Mídia em duas regiões do Azure diferentes.</span><span class="sxs-lookup"><span data-stu-id="f694a-250">To prepare for this, you should have a Media Services account in two different Azure regions.</span></span> <span data-ttu-id="f694a-251">O conteúdo codificado deve estar localizado em ambas as regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-251">The encoded content should be located in both regions.</span></span> <span data-ttu-id="f694a-252">Durante uma falha, você pode redirecionar o tráfego de streaming para a região alternativa.</span><span class="sxs-lookup"><span data-stu-id="f694a-252">During a failure, you can redirect the streaming traffic to the alternate region.</span></span> <span data-ttu-id="f694a-253">A codificação pode ser executada em qualquer região do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-253">Encoding can be performed in any Azure region.</span></span> <span data-ttu-id="f694a-254">Se a codificação for sensível ao tempo, por exemplo, durante o processamento de eventos ao vivo, você deverá estar preparado para enviar trabalhos para um datacenter alternativo durante eventuais falhas.</span><span class="sxs-lookup"><span data-stu-id="f694a-254">If encoding is time-sensitive, for example during live event processing, you must be prepared to submit jobs to an alternate datacenter during failures.</span></span>

### <a name="virtual-network"></a><span data-ttu-id="f694a-255">Rede virtual</span><span class="sxs-lookup"><span data-stu-id="f694a-255">Virtual network</span></span>
<span data-ttu-id="f694a-256">Os arquivos de configuração fornecem a maneira mais rápida de configurar uma rede virtual em uma região alternativa do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-256">Configuration files provide the quickest way to set up a virtual network in an alternate Azure region.</span></span> <span data-ttu-id="f694a-257">Após configurar a rede virtual na região primária do Azure, [exporte as configurações de rede virtual](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) da rede atual para um arquivo de configuração de rede.</span><span class="sxs-lookup"><span data-stu-id="f694a-257">After configuring the virtual network in the primary Azure region, [export the virtual network settings](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) for the current network to a network configuration file.</span></span> <span data-ttu-id="f694a-258">Caso ocorra uma interrupção na região primária, [restaure a rede virtual](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) usando o arquivo de configuração armazenado.</span><span class="sxs-lookup"><span data-stu-id="f694a-258">In the event of an outage in the primary region, [restore the virtual network](/azure/virtual-network/virtual-networks-create-vnet-classic-portal/) from the stored configuration file.</span></span> <span data-ttu-id="f694a-259">Em seguida, configure outros serviços de nuvem, máquinas virtuais ou configurações entre locais para trabalhar com a nova rede virtual.</span><span class="sxs-lookup"><span data-stu-id="f694a-259">Then configure other cloud services, virtual machines, or cross-premises settings to work with the new virtual network.</span></span>

## <a name="checklists-for-disaster-recovery"></a><span data-ttu-id="f694a-260">Listas de verificação para recuperação de desastre</span><span class="sxs-lookup"><span data-stu-id="f694a-260">Checklists for disaster recovery</span></span>
## <a name="cloud-services-checklist"></a><span data-ttu-id="f694a-261">Lista de verificação de Serviços de Nuvem</span><span class="sxs-lookup"><span data-stu-id="f694a-261">Cloud Services checklist</span></span>
1. <span data-ttu-id="f694a-262">Examinar a seção Serviços de Nuvem deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-262">Review the Cloud Services section of this document.</span></span>
2. <span data-ttu-id="f694a-263">Criar uma estratégia de recuperação de desastre entre regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-263">Create a cross-region disaster recovery strategy.</span></span>
3. <span data-ttu-id="f694a-264">Compreender as compensações em reservar capacidade em regiões alternativas.</span><span class="sxs-lookup"><span data-stu-id="f694a-264">Understand trade-offs in reserving capacity in alternate regions.</span></span>
4. <span data-ttu-id="f694a-265">Usar ferramentas de roteamento de tráfego, como o Gerenciador de Tráfego do Azure.</span><span class="sxs-lookup"><span data-stu-id="f694a-265">Use traffic routing tools, such as Azure Traffic Manager.</span></span>

## <a name="virtual-machines-checklist"></a><span data-ttu-id="f694a-266">Lista de verificação de Máquinas Virtuais</span><span class="sxs-lookup"><span data-stu-id="f694a-266">Virtual Machines checklist</span></span>
1. <span data-ttu-id="f694a-267">Examinar a seção Máquinas Virtuais deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-267">Review the Virtual Machines section of this document.</span></span>
2. <span data-ttu-id="f694a-268">Usar [Backup do Azure](https://azure.microsoft.com/services/backup/) para criar backups consistentes com aplicativos em regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-268">Use [Azure Backup](https://azure.microsoft.com/services/backup/) to create application consistent backups across regions.</span></span>

## <a name="storage-checklist"></a><span data-ttu-id="f694a-269">Lista de verificação de armazenamento</span><span class="sxs-lookup"><span data-stu-id="f694a-269">Storage checklist</span></span>
1. <span data-ttu-id="f694a-270">Examinar a seção Armazenamento deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-270">Review the Storage section of this document.</span></span>
2. <span data-ttu-id="f694a-271">Não desabilitar a replicação geográfica dos recursos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="f694a-271">Do not disable geo-replication of storage resources.</span></span>
3. <span data-ttu-id="f694a-272">Compreender a região alternativa para a replicação geográfica em caso de failover.</span><span class="sxs-lookup"><span data-stu-id="f694a-272">Understand alternate region for geo-replication in the event of failover.</span></span>
4. <span data-ttu-id="f694a-273">Criar estratégias de backup personalizadas para estratégias de failover controlado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="f694a-273">Create custom backup strategies for user-controlled failover strategies.</span></span>

## <a name="sql-database-checklist"></a><span data-ttu-id="f694a-274">Lista de verificação de Banco de Dados SQL</span><span class="sxs-lookup"><span data-stu-id="f694a-274">SQL Database checklist</span></span>
1. <span data-ttu-id="f694a-275">Examinar a seção Banco de Dados SQL deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-275">Review the SQL Database section of this document.</span></span>
2. <span data-ttu-id="f694a-276">Usar a [Restauração Geográfica](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) ou a [Replicação Geográfica](/azure/sql-database/sql-database-geo-replication-overview/) conforme apropriado.</span><span class="sxs-lookup"><span data-stu-id="f694a-276">Use [Geo-Restore](/azure/sql-database/sql-database-recovery-using-backups/#geo-restore) or [Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) as appropriate.</span></span>

## <a name="sql-server-on-virtual-machines-checklist"></a><span data-ttu-id="f694a-277">Lista de verificação do SQL Server em Máquinas Virtuais</span><span class="sxs-lookup"><span data-stu-id="f694a-277">SQL Server on Virtual Machines checklist</span></span>
1. <span data-ttu-id="f694a-278">Examinar a seção SQL Server em máquinas virtuais deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-278">Review the SQL Server on Virtual Machines section of this document.</span></span>
2. <span data-ttu-id="f694a-279">Usar Grupos de Disponibilidade AlwaysOn entre regiões ou o espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="f694a-279">Use cross-region AlwaysOn Availability Groups or database mirroring.</span></span>
3. <span data-ttu-id="f694a-280">Como alternativa, usar o backup e restauração para o armazenamento de blobs.</span><span class="sxs-lookup"><span data-stu-id="f694a-280">Alternately use backup and restore to blob storage.</span></span>

## <a name="service-bus-checklist"></a><span data-ttu-id="f694a-281">Lista de verificação do Barramento de Serviço</span><span class="sxs-lookup"><span data-stu-id="f694a-281">Service Bus checklist</span></span>
1. <span data-ttu-id="f694a-282">Examinar a seção Barramento de Serviço deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-282">Review the Service Bus section of this document.</span></span>
2. <span data-ttu-id="f694a-283">Configurar um namespace do Barramento de Serviço em uma região alternativa.</span><span class="sxs-lookup"><span data-stu-id="f694a-283">Configure a Service Bus namespace in an alternate region.</span></span>
3. <span data-ttu-id="f694a-284">Considerar estratégias de replicação personalizadas para mensagens entre regiões.</span><span class="sxs-lookup"><span data-stu-id="f694a-284">Consider custom replication strategies for messages across regions.</span></span>

## <a name="app-service-checklist"></a><span data-ttu-id="f694a-285">Lista de verificação do Serviço de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="f694a-285">App Service checklist</span></span>
1. <span data-ttu-id="f694a-286">Examinar a seção de Serviço de Aplicativo deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-286">Review the App Service section of this document.</span></span>
2. <span data-ttu-id="f694a-287">Manter os backups de sites fora da região primária.</span><span class="sxs-lookup"><span data-stu-id="f694a-287">Maintain site backups outside of the primary region.</span></span>
3. <span data-ttu-id="f694a-288">Se a interrupção for parcial, tentar recuperar o site atual com FTP.</span><span class="sxs-lookup"><span data-stu-id="f694a-288">If outage is partial, attempt to retrieve current site with FTP.</span></span>
4. <span data-ttu-id="f694a-289">Planejar implantar o site em um site novo ou existente em uma região alternativa.</span><span class="sxs-lookup"><span data-stu-id="f694a-289">Plan to deploy the site to new or existing site in an alternate region.</span></span>
5. <span data-ttu-id="f694a-290">Planejar alterações de configuração tanto de aplicativo quanto dos registros DNS CNAME.</span><span class="sxs-lookup"><span data-stu-id="f694a-290">Plan configuration changes for both application and DNS CNAME records.</span></span>

## <a name="hdinsight-checklist"></a><span data-ttu-id="f694a-291">Lista de verificação do HDInsight</span><span class="sxs-lookup"><span data-stu-id="f694a-291">HDInsight checklist</span></span>
1. <span data-ttu-id="f694a-292">Examinar a seção HDInsight deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-292">Review the HDInsight section of this document.</span></span>
2. <span data-ttu-id="f694a-293">Criar um novo cluster Hadoop na região com dados replicados.</span><span class="sxs-lookup"><span data-stu-id="f694a-293">Create a new Hadoop cluster in the region with replicated data.</span></span>

## <a name="sql-reporting-checklist"></a><span data-ttu-id="f694a-294">Lista de verificação de Relatórios SQL</span><span class="sxs-lookup"><span data-stu-id="f694a-294">SQL Reporting checklist</span></span>
1. <span data-ttu-id="f694a-295">Examinar a seção Relatórios SQL deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-295">Review the SQL Reporting section of this document.</span></span>
2. <span data-ttu-id="f694a-296">Manter uma instância de Relatórios SQL alternativa em uma região diferente.</span><span class="sxs-lookup"><span data-stu-id="f694a-296">Maintain an alternate SQL Reporting instance in a different region.</span></span>
3. <span data-ttu-id="f694a-297">Manter um plano separado para replicar o destino para essa região.</span><span class="sxs-lookup"><span data-stu-id="f694a-297">Maintain a separate plan to replicate the target to that region.</span></span>

## <a name="media-services-checklist"></a><span data-ttu-id="f694a-298">Lista de verificação de Serviços de Mídia</span><span class="sxs-lookup"><span data-stu-id="f694a-298">Media Services checklist</span></span>
1. <span data-ttu-id="f694a-299">Examinar a seção Serviços de Mídia deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-299">Review the Media Services section of this document.</span></span>
2. <span data-ttu-id="f694a-300">Criar uma conta de Serviços de Mídia em uma região alternativa.</span><span class="sxs-lookup"><span data-stu-id="f694a-300">Create a Media Services account in an alternate region.</span></span>
3. <span data-ttu-id="f694a-301">Codificar o mesmo conteúdo em ambas as regiões para dar suporte a failover de streaming.</span><span class="sxs-lookup"><span data-stu-id="f694a-301">Encode the same content in both regions to support streaming failover.</span></span>
4. <span data-ttu-id="f694a-302">Enviar trabalhos de codificação para uma região alternativa no caso de uma interrupção do serviço.</span><span class="sxs-lookup"><span data-stu-id="f694a-302">Submit encoding jobs to an alternate region in the event of a service disruption.</span></span>

## <a name="virtual-network-checklist"></a><span data-ttu-id="f694a-303">Lista de verificação de Rede Virtual</span><span class="sxs-lookup"><span data-stu-id="f694a-303">Virtual Network checklist</span></span>
1. <span data-ttu-id="f694a-304">Examinar a seção Rede Virtual deste documento.</span><span class="sxs-lookup"><span data-stu-id="f694a-304">Review the Virtual Network section of this document.</span></span>
2. <span data-ttu-id="f694a-305">Usar as configurações da rede virtual exportadas para recriá-la em outra região.</span><span class="sxs-lookup"><span data-stu-id="f694a-305">Use exported virtual network settings to re-create it in another region.</span></span>

