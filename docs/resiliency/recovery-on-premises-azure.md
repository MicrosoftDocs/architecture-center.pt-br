---
title: 'Orientação técnica: recuperação do local para o Azure'
description: Artigo sobre a compreensão e criação de sistemas de recuperação da infraestrutura local para o Azure
author: adamglick
ms.date: 08/18/2016
ms.openlocfilehash: 6992e27d148074b3d60c282318741f45974d1afd
ms.sourcegitcommit: e67b751f230792bba917754d67789a20810dc76b
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/06/2018
ms.locfileid: "30847808"
---
[!INCLUDE [header](../_includes/header.md)]

# <a name="azure-resiliency-technical-guidance-recovery-from-on-premises-to-azure"></a><span data-ttu-id="637c3-103">Orientações técnicas de resiliência do Azure: recuperação do local para o Azure</span><span class="sxs-lookup"><span data-stu-id="637c3-103">Azure resiliency technical guidance: Recovery from on-premises to Azure</span></span>
<span data-ttu-id="637c3-104">O Azure fornece um conjunto abrangente de serviços para habilitar a extensão de um datacenter local para o Azure para fins de recuperação de desastre e alta disponibilidade:</span><span class="sxs-lookup"><span data-stu-id="637c3-104">Azure provides a comprehensive set of services for enabling the extension of an on-premises datacenter to Azure for high availability and disaster recovery purposes:</span></span>

* <span data-ttu-id="637c3-105">**Rede**: com uma rede virtual privada, você estende sua rede local com segurança à nuvem.</span><span class="sxs-lookup"><span data-stu-id="637c3-105">**Networking**: With a virtual private network, you securely extend your on-premises network to the cloud.</span></span>
* <span data-ttu-id="637c3-106">**Computação**: os clientes usando o Hyper-V local podem "trocar de posição" VMs (máquinas virtuais) existentes no Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-106">**Compute**: Customers using Hyper-V on-premises can “lift and shift” existing virtual machines (VMs) to Azure.</span></span>
* <span data-ttu-id="637c3-107">**Armazenamento**: o StorSimple estende o sistema de arquivos para o Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-107">**Storage**: StorSimple extends your file system to Azure Storage.</span></span> <span data-ttu-id="637c3-108">O serviço de Backup do Azure fornece backup de arquivos e bancos de dados SQL no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-108">The Azure Backup service provides backup for files and SQL databases to Azure Storage.</span></span>
* <span data-ttu-id="637c3-109">**Replicação de banco de dados**: com Grupos de Disponibilidade do SQL Server 2014 (ou posterior), você pode implementar alta disponibilidade e recuperação de desastre para seus dados locais.</span><span class="sxs-lookup"><span data-stu-id="637c3-109">**Database replication**: With SQL Server 2014 (or later) Availability Groups, you can implement high availability and disaster recovery for your on-premises data.</span></span>

## <a name="networking"></a><span data-ttu-id="637c3-110">Rede</span><span class="sxs-lookup"><span data-stu-id="637c3-110">Networking</span></span>
<span data-ttu-id="637c3-111">Você pode usar a Rede Virtual do Azure para criar uma seção logicamente isolada no Azure e conectá-la com segurança ao datacenter local ou a um único computador cliente usando uma conexão IPsec.</span><span class="sxs-lookup"><span data-stu-id="637c3-111">You can use Azure Virtual Network to create a logically isolated section in Azure and securely connect it to your on-premises datacenter or a single client machine by using an IPsec connection.</span></span> <span data-ttu-id="637c3-112">Com a Rede Virtual, você pode tirar proveito da infraestrutura escalonável sob demanda no Azure enquanto fornece conectividade aos dados e aplicativos locais, incluindo sistemas em execução no Windows Server, mainframes e UNIX.</span><span class="sxs-lookup"><span data-stu-id="637c3-112">With Virtual Network, you can take advantage of the scalable, on-demand infrastructure in Azure while providing connectivity to data and applications on-premises, including systems running on Windows Server, mainframes, and UNIX.</span></span> <span data-ttu-id="637c3-113">Para obter mais informações, confira a [documentação de rede do Azure](/azure/virtual-network/virtual-networks-overview/) .</span><span class="sxs-lookup"><span data-stu-id="637c3-113">See [Azure networking documentation](/azure/virtual-network/virtual-networks-overview/) for more information.</span></span>

## <a name="compute"></a><span data-ttu-id="637c3-114">Computação</span><span class="sxs-lookup"><span data-stu-id="637c3-114">Compute</span></span>
<span data-ttu-id="637c3-115">Se estiver usando o Hyper-V local, você poderá "trocar de posição" as máquinas virtuais existentes para o Azure e provedores de serviço que executam o Windows Server 2012 (ou posterior), sem fazer alterações na VM nem converter formatos de VM.</span><span class="sxs-lookup"><span data-stu-id="637c3-115">If you're using Hyper-V on-premises, you can “lift and shift” existing virtual machines to Azure and service providers running Windows Server 2012 (or later), without making changes to the VM or converting VM formats.</span></span> <span data-ttu-id="637c3-116">Para obter mais informações, consulte [Sobre discos e VHDs para máquinas virtuais do Azure](/azure/virtual-machines/virtual-machines-linux-about-disks-vhds/?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="637c3-116">For more information, see [About disks and VHDs for Azure virtual machines](/azure/virtual-machines/virtual-machines-linux-about-disks-vhds/?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-site-recovery"></a><span data-ttu-id="637c3-117">Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="637c3-117">Azure Site Recovery</span></span>
<span data-ttu-id="637c3-118">Caso você queira o DRaaS (recuperação de desastre como um serviço), o Azure oferece o [Azure Site Recovery](https://azure.microsoft.com/services/site-recovery/).</span><span class="sxs-lookup"><span data-stu-id="637c3-118">If you want disaster recovery as a service (DRaaS), Azure provides [Azure Site Recovery](https://azure.microsoft.com/services/site-recovery/).</span></span> <span data-ttu-id="637c3-119">O Azure Site Recovery oferece proteção abrangente para servidores VMware, Hyper-V e servidores físicos.</span><span class="sxs-lookup"><span data-stu-id="637c3-119">Azure Site Recovery offers comprehensive protection for VMware, Hyper-V, and physical servers.</span></span> <span data-ttu-id="637c3-120">Com o Azure Site Recovery, você pode usar outro servidor local ou o Azure como o site de recuperação.</span><span class="sxs-lookup"><span data-stu-id="637c3-120">With Azure Site Recovery, you can use another on-premises server or Azure as your recovery site.</span></span> <span data-ttu-id="637c3-121">Para obter mais informações sobre o Azure Site Recovery, confira a [documentação do Azure Site Recovery](https://azure.microsoft.com/documentation/services/site-recovery/).</span><span class="sxs-lookup"><span data-stu-id="637c3-121">For more information on Azure Site Recovery, see the [Azure Site Recovery documentation](https://azure.microsoft.com/documentation/services/site-recovery/).</span></span>

## <a name="storage"></a><span data-ttu-id="637c3-122">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="637c3-122">Storage</span></span>
<span data-ttu-id="637c3-123">Há várias opções para usar o Azure como um site de backup para dados locais.</span><span class="sxs-lookup"><span data-stu-id="637c3-123">There are several options for using Azure as a backup site for on-premises data.</span></span>

### <a name="storsimple"></a><span data-ttu-id="637c3-124">StorSimple</span><span class="sxs-lookup"><span data-stu-id="637c3-124">StorSimple</span></span>
<span data-ttu-id="637c3-125">O StorSimple integra com segurança e transparência o armazenamento em nuvem aos aplicativos locais.</span><span class="sxs-lookup"><span data-stu-id="637c3-125">StorSimple securely and transparently integrates cloud storage for on-premises applications.</span></span> <span data-ttu-id="637c3-126">Ele também oferece uma única solução que fornece armazenamento em nuvem e local hierárquico de alto desempenho, arquivamento dinâmico, proteção de dados baseada em nuvem e recuperação de desastre.</span><span class="sxs-lookup"><span data-stu-id="637c3-126">It also offers a single appliance that delivers high-performance tiered local and cloud storage, live archiving, cloud-based data protection, and disaster recovery.</span></span> <span data-ttu-id="637c3-127">Para obter mais informações, consulte a [página de produto do StorSimple](https://azure.microsoft.com/services/storsimple/).</span><span class="sxs-lookup"><span data-stu-id="637c3-127">For more information, see the [StorSimple product page](https://azure.microsoft.com/services/storsimple/).</span></span>

### <a name="azure-backup"></a><span data-ttu-id="637c3-128">Serviço de Backup do Azure</span><span class="sxs-lookup"><span data-stu-id="637c3-128">Azure Backup</span></span>
<span data-ttu-id="637c3-129">O Backup do Azure habilita backups de nuvem usando ferramentas familiares de backup no Windows Server 2012 (ou posterior), Windows Server 2012 Essentials (ou posterior) e System Center 2012 Data Protection Manager (ou posterior).</span><span class="sxs-lookup"><span data-stu-id="637c3-129">Azure Backup enables cloud backups by using the familiar backup tools in Windows Server 2012 (or later), Windows Server 2012 Essentials (or later), and System Center 2012 Data Protection Manager (or later).</span></span> <span data-ttu-id="637c3-130">Essas ferramentas fornecem um fluxo de trabalho para gerenciamento de backup que é independente do local de armazenamento dos backups, seja um disco local ou o Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-130">These tools provide a workflow for backup management that is independent of the storage location of the backups, whether a local disk or Azure Storage.</span></span> <span data-ttu-id="637c3-131">Após realizar o backup dos dados para a nuvem, os usuários autorizados podem fazer facilmente a recuperação dos backups para qualquer servidor.</span><span class="sxs-lookup"><span data-stu-id="637c3-131">After data is backed up to the cloud, authorized users can easily recover backups to any server.</span></span>

<span data-ttu-id="637c3-132">Com os backups incrementais, somente as alterações feitas nos arquivos são transferidas para a nuvem.</span><span class="sxs-lookup"><span data-stu-id="637c3-132">With incremental backups, only changes to files are transferred to the cloud.</span></span> <span data-ttu-id="637c3-133">Isso ajuda a usar o espaço de armazenamento de modo eficiente, reduzir o consumo da largura de banda e dá suporte à recuperação pontual de várias versões dos dados.</span><span class="sxs-lookup"><span data-stu-id="637c3-133">This helps to efficiently use storage space, reduce bandwidth consumption, and support point-in-time recovery of multiple versions of the data.</span></span> <span data-ttu-id="637c3-134">Você também pode optar por usar recursos adicionais, como políticas de retenção de dados, a compactação de dados e limitação da transferência de dados.</span><span class="sxs-lookup"><span data-stu-id="637c3-134">You can also choose to use additional features, such as data retention policies, data compression, and data transfer throttling.</span></span> <span data-ttu-id="637c3-135">Usar o Azure como o local de backup tem a vantagem óbvia de que os backups são automaticamente "externos".</span><span class="sxs-lookup"><span data-stu-id="637c3-135">Using Azure as the backup location has the obvious advantage that the backups are automatically “offsite”.</span></span> <span data-ttu-id="637c3-136">Isso elimina os requisitos adicionais de proteger a mídia de backup no local.</span><span class="sxs-lookup"><span data-stu-id="637c3-136">This eliminates the extra requirements to secure and protect on-site backup media.</span></span>

<span data-ttu-id="637c3-137">Para obter mais informações, confira [O que é o Backup do Azure?](/azure/backup/backup-introduction-to-azure-backup/) e [Configurar o Backup do Azure para dados DPM](https://technet.microsoft.com/library/jj728752.aspx).</span><span class="sxs-lookup"><span data-stu-id="637c3-137">For more information, see [What is Azure Backup?](/azure/backup/backup-introduction-to-azure-backup/) and [Configure Azure Backup for DPM data](https://technet.microsoft.com/library/jj728752.aspx).</span></span>

## <a name="database"></a><span data-ttu-id="637c3-138">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="637c3-138">Database</span></span>
<span data-ttu-id="637c3-139">Você pode ter uma solução de recuperação de desastres para bancos de dados do SQL Server em um ambiente de TI híbrida, usando Grupos de disponibilidade AlwaysOn, espelhamento de banco de dados, envio de log e backup e restauração com o armazenamento de Blobs do Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-139">You can have a disaster recovery solution for your SQL Server databases in a hybrid-IT environment by using AlwaysOn Availability Groups, database mirroring, log shipping, and backup and restore with Azure Blob storage.</span></span> <span data-ttu-id="637c3-140">Todas essas soluções usam o SQL Server em execução em máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-140">All of these solutions use SQL Server running on Azure Virtual Machines.</span></span>

<span data-ttu-id="637c3-141">Grupos de disponibilidade do AlwaysOn pode ser usados em um ambiente de TI híbrida, em que as réplicas de banco de dados existem localmente e na nuvem.</span><span class="sxs-lookup"><span data-stu-id="637c3-141">AlwaysOn Availability Groups can be used in a hybrid-IT environment where database replicas exist both on-premises and in the cloud.</span></span> <span data-ttu-id="637c3-142">Isso é mostrado no diagrama a seguir.</span><span class="sxs-lookup"><span data-stu-id="637c3-142">This is shown in the following diagram.</span></span>

![Grupos de disponibilidade AlwaysOn do SQL Server em uma arquitetura de nuvem híbrida](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-3.png)

<span data-ttu-id="637c3-144">O espelhamento de banco de dados também pode abranger servidores locais e a nuvem em uma configuração baseada em certificado.</span><span class="sxs-lookup"><span data-stu-id="637c3-144">Database mirroring can also span on-premises servers and the cloud in a certificate-based setup.</span></span> <span data-ttu-id="637c3-145">O diagrama a seguir ilustra esse conceito.</span><span class="sxs-lookup"><span data-stu-id="637c3-145">The following diagram illustrates this concept.</span></span>

![Espelhamento de banco de dados do SQL Server em uma arquitetura de nuvem híbrida](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-4.png)

<span data-ttu-id="637c3-147">O envio de log pode ser usado para sincronizar um banco de dados local com um banco de dados do SQL Server em uma máquina virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-147">Log shipping can be used to synchronize an on-premises database with a SQL Server database in an Azure virtual machine.</span></span>

![Envio de logs do SQL Server em uma arquitetura de nuvem híbrida](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-5.png)

<span data-ttu-id="637c3-149">Por fim, você pode fazer o backup de um banco de dados local diretamente para o Armazenamento de Blobs do Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-149">Finally, you can back up an on-premises database directly to Azure Blob storage.</span></span>

![Fazer backup do SQL Server para o armazenamento de Blobs do Azure em uma arquitetura de nuvem híbrida](./images/technical-guidance-recovery-on-premises-azure/SQL_Server_Disaster_Recovery-6.png)

<span data-ttu-id="637c3-151">Para obter mais informações, confira [Alta disponibilidade e recuperação de desastre para o SQL Server em máquinas virtuais do Azure](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/) e [Backup e restauração para o SQL Server em máquinas virtuais do Azure](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-backup-recovery/).</span><span class="sxs-lookup"><span data-stu-id="637c3-151">For more information, see [High availability and disaster recovery for SQL Server in Azure virtual machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/) and [Backup and restore for SQL Server in Azure virtual machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-backup-recovery/).</span></span>

## <a name="checklists-for-on-premises-recovery-in-microsoft-azure"></a><span data-ttu-id="637c3-152">Listas de verificação para recuperação local no Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="637c3-152">Checklists for on-premises recovery in Microsoft Azure</span></span>
### <a name="networking"></a><span data-ttu-id="637c3-153">Rede</span><span class="sxs-lookup"><span data-stu-id="637c3-153">Networking</span></span>
1. <span data-ttu-id="637c3-154">Examine a seção Rede deste documento.</span><span class="sxs-lookup"><span data-stu-id="637c3-154">Review the Networking section of this document.</span></span>
2. <span data-ttu-id="637c3-155">Usar a Rede Virtual para se conectar com segurança do local à nuvem.</span><span class="sxs-lookup"><span data-stu-id="637c3-155">Use Virtual Network to securely connect on-premises to the cloud.</span></span>

### <a name="compute"></a><span data-ttu-id="637c3-156">Computação</span><span class="sxs-lookup"><span data-stu-id="637c3-156">Compute</span></span>
1. <span data-ttu-id="637c3-157">Examine a seção Computação deste documento.</span><span class="sxs-lookup"><span data-stu-id="637c3-157">Review the Compute section of this document.</span></span>
2. <span data-ttu-id="637c3-158">Realocar VMs entre o Hyper-V e o Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-158">Relocate VMs between Hyper-V and Azure.</span></span>

### <a name="storage"></a><span data-ttu-id="637c3-159">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="637c3-159">Storage</span></span>
1. <span data-ttu-id="637c3-160">Examinar a seção Armazenamento deste documento.</span><span class="sxs-lookup"><span data-stu-id="637c3-160">Review the Storage section of this document.</span></span>
2. <span data-ttu-id="637c3-161">Tirar proveito dos serviços do StorSimple para usar o armazenamento em nuvem.</span><span class="sxs-lookup"><span data-stu-id="637c3-161">Take advantage of StorSimple services for using cloud storage.</span></span>
3. <span data-ttu-id="637c3-162">Usar o serviço de Backup do Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-162">Use the Azure Backup service.</span></span>

### <a name="database"></a><span data-ttu-id="637c3-163">Banco de dados</span><span class="sxs-lookup"><span data-stu-id="637c3-163">Database</span></span>
1. <span data-ttu-id="637c3-164">Examine a seção Banco de dados deste documento.</span><span class="sxs-lookup"><span data-stu-id="637c3-164">Review the Database section of this document.</span></span>
2. <span data-ttu-id="637c3-165">Considerar o uso do SQL Server em VMs do Azure como o backup.</span><span class="sxs-lookup"><span data-stu-id="637c3-165">Consider using SQL Server on Azure VMs as the backup.</span></span>
3. <span data-ttu-id="637c3-166">Configurar Grupos de Disponibilidade AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="637c3-166">Set up AlwaysOn Availability Groups.</span></span>
4. <span data-ttu-id="637c3-167">Configurar o espelhamento de banco de dados com base em certificado.</span><span class="sxs-lookup"><span data-stu-id="637c3-167">Configure certificate-based database mirroring.</span></span>
5. <span data-ttu-id="637c3-168">Usar o envio de logs.</span><span class="sxs-lookup"><span data-stu-id="637c3-168">Use log shipping.</span></span>
6. <span data-ttu-id="637c3-169">Fazer backup de bancos de dados locais para o armazenamento de Blobs do Azure.</span><span class="sxs-lookup"><span data-stu-id="637c3-169">Back up on-premises databases to Azure Blob storage.</span></span>


