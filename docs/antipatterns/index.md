---
title: Antipadrões de desempenho para aplicativos em nuvem
titleSuffix: Azure Architecture Center
description: Práticas comuns que podem causar problemas de escalabilidade.
author: dragon119
ms.date: 06/05/2017
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: 212930368942728fc0be0c9b2af1a90293906b39
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54483047"
---
# <a name="performance-antipatterns-for-cloud-applications"></a><span data-ttu-id="0a1ce-103">Antipadrões de desempenho para aplicativos em nuvem</span><span class="sxs-lookup"><span data-stu-id="0a1ce-103">Performance antipatterns for cloud applications</span></span>

<span data-ttu-id="0a1ce-104">Um *antipadrão desempenho* é uma prática comum que pode causar problemas de escalabilidade quando um aplicativo está sob pressão.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-104">A *performance antipattern* is a common practice that is likely to cause scalability problems when an application is under pressure.</span></span>

<span data-ttu-id="0a1ce-105">Aqui está um cenário comum: um aplicativo se comporta bem durante o teste de desempenho.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-105">Here is a common scenario: An application behaves well during performance testing.</span></span> <span data-ttu-id="0a1ce-106">Ele é liberado para produção e começa a lidar com cargas de trabalho reais.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-106">It's released to production, and begins to handle real workloads.</span></span> <span data-ttu-id="0a1ce-107">Nesse ponto, ele começa a executar mal &mdash;, rejeitando solicitações do usuário, atrasando ou lançando exceções.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-107">At that point, it starts to perform poorly &mdash; rejecting user requests, stalling, or throwing exceptions.</span></span> <span data-ttu-id="0a1ce-108">A equipe de desenvolvimento enfrenta duas perguntas:</span><span class="sxs-lookup"><span data-stu-id="0a1ce-108">The development team is then faced with two questions:</span></span>

- <span data-ttu-id="0a1ce-109">Por que não esse comportamento é exibido durante o teste?</span><span class="sxs-lookup"><span data-stu-id="0a1ce-109">Why didn't this behavior show up during testing?</span></span>
- <span data-ttu-id="0a1ce-110">Como podemos corrigir isso?</span><span class="sxs-lookup"><span data-stu-id="0a1ce-110">How do we fix it?</span></span>

<span data-ttu-id="0a1ce-111">A resposta à primeira pergunta é simples.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-111">The answer to the first question is straightforward.</span></span> <span data-ttu-id="0a1ce-112">É muito difícil em um ambiente de teste para simular usuários reais, seus padrões de comportamento e os volumes de trabalho, que eles podem executar.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-112">It's very difficult in a test environment to simulate real users, their behavior patterns, and the volumes of work they might perform.</span></span> <span data-ttu-id="0a1ce-113">A única maneira totalmente garantida de compreender como um sistema se comporta sob carga é observá-lo em produção.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-113">The only completely sure way to understand how a system behaves under load is to observe it in production.</span></span> <span data-ttu-id="0a1ce-114">Para ser claro, estamos não sugerindo que você deve ignorar o teste de desempenho.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-114">To be clear, we aren't suggesting that you should skip performance testing.</span></span> <span data-ttu-id="0a1ce-115">Testes de desempenho são cruciais para a obtenção de métricas de desempenho de linha de base.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-115">Performance tests are crucial for getting baseline performance metrics.</span></span> <span data-ttu-id="0a1ce-116">Mas você deve estar preparado para observar e corrigir problemas de desempenho quando eles ocorrem no sistema de produção.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-116">But you must be prepared to observe and correct performance issues when they arise in the live system.</span></span>

<span data-ttu-id="0a1ce-117">A resposta à segunda pergunta, como corrigir o problema, é menos direto.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-117">The answer to the second question, how to fix the problem, is less straightforward.</span></span> <span data-ttu-id="0a1ce-118">Qualquer número de fatores pode contribuir e, às vezes, o problema só se manifesta em determinadas circunstâncias.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-118">Any number of factors might contribute, and sometimes the problem only manifests under certain circumstances.</span></span> <span data-ttu-id="0a1ce-119">Instrumentação e registro em log são fundamentais para localizar a causa raiz, mas você também precisa saber o que procurar.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-119">Instrumentation and logging are key to finding the root cause, but you also have to know what to look for.</span></span>

<span data-ttu-id="0a1ce-120">Com base em nossos contratos com clientes do Microsoft Azure, identificamos alguns dos problemas de desempenho mais comuns que os clientes veem em produção.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-120">Based on our engagements with Microsoft Azure customers, we've identified some of the most common performance issues that customers see in production.</span></span> <span data-ttu-id="0a1ce-121">Para cada antipadrão, descrevemos por que o antipadrão normalmente ocorre, sintomas de antipadrão e técnicas para resolver o problema.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-121">For each antipattern, we describe why the antipattern typically occurs, symptoms of the antipattern, and techniques for resolving the problem.</span></span> <span data-ttu-id="0a1ce-122">Nós também fornecemos o código de exemplo que ilustra o antipadrão e uma sugestão de solução.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-122">We also provide sample code that illustrates both the antipattern and a suggested solution.</span></span>

<span data-ttu-id="0a1ce-123">Esses antipadrões podem parecer óbvios quando você lê as descrições, mas eles ocorrem com mais frequência do que você imagina.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-123">Some of these antipatterns may seem obvious when you read the descriptions, but they occur more often than you might think.</span></span> <span data-ttu-id="0a1ce-124">Às vezes, um aplicativo herda um design que funcionou no local, mas não escala na nuvem.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-124">Sometimes an application inherits a design that worked on-premises, but doesn't scale in the cloud.</span></span> <span data-ttu-id="0a1ce-125">Ou um aplicativo pode iniciar com um design bem simples, mas à medida que novos recursos são adicionados, um ou mais desses antipadrões podem surgir.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-125">Or an application might start with a very clean design, but as new features are added, one or more of these antipatterns creeps in.</span></span> <span data-ttu-id="0a1ce-126">Independentemente, este guia ajudará você a identificar e corrigir esses antipadrões.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-126">Regardless, this guide will help you to identify and fix these antipatterns.</span></span>

<span data-ttu-id="0a1ce-127">Aqui está a lista das antipadrões que nós identificamos:</span><span class="sxs-lookup"><span data-stu-id="0a1ce-127">Here is the list of the antipatterns that we've identified:</span></span>

| <span data-ttu-id="0a1ce-128">Antipadrão</span><span class="sxs-lookup"><span data-stu-id="0a1ce-128">Antipattern</span></span> | <span data-ttu-id="0a1ce-129">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="0a1ce-129">Description</span></span> |
|-------------|-------------|
| <span data-ttu-id="0a1ce-130">[Banco de Dados Ocupado][BusyDatabase]</span><span class="sxs-lookup"><span data-stu-id="0a1ce-130">[Busy Database][BusyDatabase]</span></span> | <span data-ttu-id="0a1ce-131">Descarregando muito processamento para um armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-131">Offloading too much processing to a data store.</span></span> |
| <span data-ttu-id="0a1ce-132">[Front-End Ocupado][BusyFrontEnd]</span><span class="sxs-lookup"><span data-stu-id="0a1ce-132">[Busy Front End][BusyFrontEnd]</span></span> | <span data-ttu-id="0a1ce-133">Movendo tarefas de uso intensivo de recursos em threads em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-133">Moving resource-intensive tasks onto background threads.</span></span> |
| <span data-ttu-id="0a1ce-134">[E/S com ruídos][ChattyIO]</span><span class="sxs-lookup"><span data-stu-id="0a1ce-134">[Chatty I/O][ChattyIO]</span></span> | <span data-ttu-id="0a1ce-135">Continuamente enviar várias solicitações de rede pequena.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-135">Continually sending many small network requests.</span></span> |
| <span data-ttu-id="0a1ce-136">[Busca Incorreta][ExtraneousFetching]</span><span class="sxs-lookup"><span data-stu-id="0a1ce-136">[Extraneous Fetching][ExtraneousFetching]</span></span> | <span data-ttu-id="0a1ce-137">Recuperando dados mais que o necessário, resultando em E/S desnecessária.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-137">Retrieving more data than is needed, resulting in unnecessary I/O.</span></span> |
| <span data-ttu-id="0a1ce-138">[Instanciação Inadequada][ImproperInstantiation]</span><span class="sxs-lookup"><span data-stu-id="0a1ce-138">[Improper Instantiation][ImproperInstantiation]</span></span> | <span data-ttu-id="0a1ce-139">Repetidamente, criação e destruição de objetos que são projetados para serem compartilhados e reutilizados.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-139">Repeatedly creating and destroying objects that are designed to be shared and reused.</span></span> |
| <span data-ttu-id="0a1ce-140">[Persistência Monolítica][MonolithicPersistence]</span><span class="sxs-lookup"><span data-stu-id="0a1ce-140">[Monolithic Persistence][MonolithicPersistence]</span></span> | <span data-ttu-id="0a1ce-141">Usando o mesmo armazenamento de dados para dados com padrões de uso muito diferentes.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-141">Using the same data store for data with very different usage patterns.</span></span> |
| <span data-ttu-id="0a1ce-142">[Sem cache][NoCaching]</span><span class="sxs-lookup"><span data-stu-id="0a1ce-142">[No Caching][NoCaching]</span></span> | <span data-ttu-id="0a1ce-143">Falha ao armazenar dados em cache.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-143">Failing to cache data.</span></span> |
| <span data-ttu-id="0a1ce-144">[E/S Síncrona][SynchronousIO]</span><span class="sxs-lookup"><span data-stu-id="0a1ce-144">[Synchronous I/O][SynchronousIO]</span></span> | <span data-ttu-id="0a1ce-145">Bloquear o thread de chamada enquanto a E/S é concluída.</span><span class="sxs-lookup"><span data-stu-id="0a1ce-145">Blocking the calling thread while I/O completes.</span></span> |

[BusyDatabase]: ./busy-database/index.md
[BusyFrontEnd]: ./busy-front-end/index.md
[ChattyIO]: ./chatty-io/index.md
[ExtraneousFetching]: ./extraneous-fetching/index.md
[ImproperInstantiation]: ./improper-instantiation/index.md
[MonolithicPersistence]: ./monolithic-persistence/index.md
[NoCaching]: ./no-caching/index.md
[SynchronousIO]: ./synchronous-io/index.md
