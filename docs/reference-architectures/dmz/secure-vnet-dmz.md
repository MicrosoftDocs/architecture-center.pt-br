---
title: "Implementação de uma DMZ entre o Azure e a Internet"
description: "Como implementar uma arquitetura de rede híbrida segura com acesso à Internet no Azure."
author: telmosampaio
ms.date: 11/23/2016
pnp.series.title: Network DMZ
pnp.series.next: nva-ha
pnp.series.prev: secure-vnet-hybrid
cardTitle: DMZ between Azure and the Internet
ms.openlocfilehash: 372d5bb0fc0e3c272843e062210dec5c15b2b78a
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/14/2017
---
# <a name="dmz-between-azure-and-the-internet"></a><span data-ttu-id="31ea7-103">DMZ entre o Azure e a Internet</span><span class="sxs-lookup"><span data-stu-id="31ea7-103">DMZ between Azure and the Internet</span></span>

<span data-ttu-id="31ea7-104">Essa arquitetura de referência mostra uma rede híbrido segura que estende a uma rede local para o Azure e também aceita tráfego de Internet.</span><span class="sxs-lookup"><span data-stu-id="31ea7-104">This reference architecture shows a secure hybrid network that extends an on-premises network to Azure and also accepts Internet traffic.</span></span> 

<span data-ttu-id="31ea7-105">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="31ea7-105">[![0]][0]</span></span> 

<span data-ttu-id="31ea7-106">*Baixe um [arquivo Visio][visio-download] dessa arquitetura.*</span><span class="sxs-lookup"><span data-stu-id="31ea7-106">*Download a [Visio file][visio-download] of this architecture.*</span></span>

<span data-ttu-id="31ea7-107">Essa arquitetura de referência estende a arquitetura descrita em [Implementação de uma DMZ entre o Azure e seu datacenter local][implementing-a-secure-hybrid-network-architecture].</span><span class="sxs-lookup"><span data-stu-id="31ea7-107">This reference architecture extends the architecture described in [Implementing a DMZ between Azure and your on-premises datacenter][implementing-a-secure-hybrid-network-architecture].</span></span> <span data-ttu-id="31ea7-108">Ela adiciona uma DMZ que manipula o tráfego da Internet, além da DMZ privada que manipula o tráfego da rede local</span><span class="sxs-lookup"><span data-stu-id="31ea7-108">It adds a public DMZ that handles Internet traffic, in addition to the private DMZ that handles traffic from the on-premises network</span></span> 

<span data-ttu-id="31ea7-109">Alguns usos típicos para essa arquitetura:</span><span class="sxs-lookup"><span data-stu-id="31ea7-109">Typical uses for this architecture include:</span></span>

* <span data-ttu-id="31ea7-110">Aplicativos híbridos nos quais as cargas de trabalho são executadas parcialmente localmente e parcialmente no Azure.</span><span class="sxs-lookup"><span data-stu-id="31ea7-110">Hybrid applications where workloads run partly on-premises and partly in Azure.</span></span>
* <span data-ttu-id="31ea7-111">A infraestrutura do Azure que roteia o tráfego de entrada local e da Internet.</span><span class="sxs-lookup"><span data-stu-id="31ea7-111">Azure infrastructure that routes incoming traffic from on-premises and the Internet.</span></span>

## <a name="architecture"></a><span data-ttu-id="31ea7-112">Arquitetura</span><span class="sxs-lookup"><span data-stu-id="31ea7-112">Architecture</span></span>

<span data-ttu-id="31ea7-113">Essa arquitetura consiste nos seguintes componentes.</span><span class="sxs-lookup"><span data-stu-id="31ea7-113">The architecture consists of the following components.</span></span>

* <span data-ttu-id="31ea7-114">**Endereço IP público (PIP)**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-114">**Public IP address (PIP)**.</span></span> <span data-ttu-id="31ea7-115">O endereço IP do ponto de extremidade público.</span><span class="sxs-lookup"><span data-stu-id="31ea7-115">The IP address of the public endpoint.</span></span> <span data-ttu-id="31ea7-116">Usuários externos conectados à Internet podem acessar o sistema por meio desse endereço.</span><span class="sxs-lookup"><span data-stu-id="31ea7-116">External users connected to the Internet can access the system through this address.</span></span>
* <span data-ttu-id="31ea7-117">**NVA (Solução de Virtualização de Rede)**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-117">**Network virtual appliance (NVA)**.</span></span> <span data-ttu-id="31ea7-118">Essa arquitetura inclui um pool separado de NVAs para tráfego originado na Internet.</span><span class="sxs-lookup"><span data-stu-id="31ea7-118">This architecture includes a separate pool of NVAs for traffic originating on the Internet.</span></span>
* <span data-ttu-id="31ea7-119">**Azure Load Balancer**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-119">**Azure load balancer**.</span></span> <span data-ttu-id="31ea7-120">Todas as solicitações recebidas da Internet passam por pelo balanceador de carga e são distribuídas para NVAs na DMZ pública.</span><span class="sxs-lookup"><span data-stu-id="31ea7-120">All incoming requests from the Internet pass through the load balancer and are distributed to the NVAs in the public DMZ.</span></span>
* <span data-ttu-id="31ea7-121">**Sub-rede de entrada da DMZ pública**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-121">**Public DMZ inbound subnet**.</span></span> <span data-ttu-id="31ea7-122">Essa sub-rede aceita solicitações do Azure Load Balancer.</span><span class="sxs-lookup"><span data-stu-id="31ea7-122">This subnet accepts requests from the Azure load balancer.</span></span> <span data-ttu-id="31ea7-123">Solicitações de entrada são passadas para uma das NVAs na DMZ pública.</span><span class="sxs-lookup"><span data-stu-id="31ea7-123">Incoming requests are passed to one of the NVAs in the public DMZ.</span></span>
* <span data-ttu-id="31ea7-124">**Sub-rede de saída da DMZ pública**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-124">**Public DMZ outbound subnet**.</span></span> <span data-ttu-id="31ea7-125">As solicitações que foram aprovadas pela NVA passam por essa sub-rede por meio do balanceador de carga interno e vão para a camada da Web.</span><span class="sxs-lookup"><span data-stu-id="31ea7-125">Requests that are approved by the NVA pass through this subnet to the internal load balancer for the web tier.</span></span>

## <a name="recommendations"></a><span data-ttu-id="31ea7-126">Recomendações</span><span class="sxs-lookup"><span data-stu-id="31ea7-126">Recommendations</span></span>

<span data-ttu-id="31ea7-127">As seguintes recomendações aplicam-se à maioria dos cenários.</span><span class="sxs-lookup"><span data-stu-id="31ea7-127">The following recommendations apply for most scenarios.</span></span> <span data-ttu-id="31ea7-128">Siga estas recomendações, a menos que você tenha um requisito específico que as substitua.</span><span class="sxs-lookup"><span data-stu-id="31ea7-128">Follow these recommendations unless you have a specific requirement that overrides them.</span></span> 

### <a name="nva-recommendations"></a><span data-ttu-id="31ea7-129">Recomendações de NVA</span><span class="sxs-lookup"><span data-stu-id="31ea7-129">NVA recommendations</span></span>

<span data-ttu-id="31ea7-130">Use um conjunto de NVAs para tráfego originado na Internet e outro para o tráfego originado localmente.</span><span class="sxs-lookup"><span data-stu-id="31ea7-130">Use one set of NVAs for traffic originating on the Internet, and another for traffic originating on-premises.</span></span> <span data-ttu-id="31ea7-131">Usar apenas um conjunto de NVAs para ambos é um risco à segurança, uma vez que ele não oferece nenhum perímetro de segurança entre os dois conjuntos de tráfego de rede.</span><span class="sxs-lookup"><span data-stu-id="31ea7-131">Using only one set of NVAs for both is a security risk, because it provides no security perimeter between the two sets of network traffic.</span></span> <span data-ttu-id="31ea7-132">Usar NVAs separadas reduz a complexidade da verificação das regras de segurança e deixa claro quais regras correspondem a quais solicitações de rede de entrada.</span><span class="sxs-lookup"><span data-stu-id="31ea7-132">Using separate NVAs reduces the complexity of checking security rules, and makes it clear which rules correspond to each incoming network request.</span></span> <span data-ttu-id="31ea7-133">Um conjunto de NVAs implementa as regras apenas para o tráfego de Internet, enquanto outro conjunto de NVAs implementa as regras apenas para tráfego local.</span><span class="sxs-lookup"><span data-stu-id="31ea7-133">One set of NVAs implements rules for Internet traffic only, while another set of NVAs implement rules for on-premises traffic only.</span></span>

<span data-ttu-id="31ea7-134">Inclua uma NVA da camada 7 para terminar as conexões de aplicativo no nível de NVA e manter a compatibilidade com as camadas de back-end.</span><span class="sxs-lookup"><span data-stu-id="31ea7-134">Include a layer-7 NVA to terminate application connections at the NVA level and maintain compatibility with the backend tiers.</span></span> <span data-ttu-id="31ea7-135">Isso garante a conectividade simétrica na qual o tráfego de resposta de camadas de back-end retorna por meio da NVA.</span><span class="sxs-lookup"><span data-stu-id="31ea7-135">This guarantees symmetric connectivity where response traffic from the backend tiers returns through the NVA.</span></span>  

### <a name="public-load-balancer-recommendations"></a><span data-ttu-id="31ea7-136">Recomendações de balanceador de carga público</span><span class="sxs-lookup"><span data-stu-id="31ea7-136">Public load balancer recommendations</span></span>

<span data-ttu-id="31ea7-137">Para obter escalabilidade e disponibilidade, implante as NVAs da DMZ pública em um [conjunto de disponibilidade][availability-set] e use um [balanceador de carga para a Internet][load-balancer] para distribuir solicitações da Internet para as NVAs no conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="31ea7-137">For scalability and availability, deploy the public DMZ NVAs in an [availability set][availability-set] and use an [Internet facing load balancer][load-balancer] to distribute Internet requests across the NVAs in the availability set.</span></span>  

<span data-ttu-id="31ea7-138">Configure o balanceador de carga para aceitar somente as solicitações nas portas necessárias para o tráfego de Internet.</span><span class="sxs-lookup"><span data-stu-id="31ea7-138">Configure the load balancer to accept requests only on the ports necessary for Internet traffic.</span></span> <span data-ttu-id="31ea7-139">Por exemplo, restrinja as solicitações HTTP de entrada à porta 80 e as solicitações HTTPS de entrada à porta 443.</span><span class="sxs-lookup"><span data-stu-id="31ea7-139">For example, restrict inbound HTTP requests to port 80 and inbound HTTPS requests to port 443.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="31ea7-140">Considerações sobre escalabilidade</span><span class="sxs-lookup"><span data-stu-id="31ea7-140">Scalability considerations</span></span>

<span data-ttu-id="31ea7-141">Mesmo se a arquitetura inicialmente exigir uma única NVA na DMZ pública, é recomendável colocar um balanceador de carga na frente da DMZ pública desde o início.</span><span class="sxs-lookup"><span data-stu-id="31ea7-141">Even if your architecture initially requires a single NVA in the public DMZ, we recommend putting a load balancer in front of the public DMZ from the beginning.</span></span> <span data-ttu-id="31ea7-142">Isso facilitará o dimensionamento para várias NVAs no futuro, se necessário.</span><span class="sxs-lookup"><span data-stu-id="31ea7-142">That will make it easier to scale to multiple NVAs in the future, if needed.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="31ea7-143">Considerações sobre disponibilidade</span><span class="sxs-lookup"><span data-stu-id="31ea7-143">Availability considerations</span></span>

<span data-ttu-id="31ea7-144">O balanceador de carga para a Internet requer que cada NVA na sub-rede de entrada da DMZ pública implemente uma [investigação de integridade][lb-probe].</span><span class="sxs-lookup"><span data-stu-id="31ea7-144">The Internet facing load balancer requires each NVA in the public DMZ inbound subnet to implement a [health probe][lb-probe].</span></span> <span data-ttu-id="31ea7-145">Uma investigação de integridade que não responder a esse ponto de extremidade é considerado indisponível e o balanceador de carga direcionará as solicitações para outras NVAs no mesmo conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="31ea7-145">A health probe that fails to respond on this endpoint is considered to be unavailable, and the load balancer will direct requests to other NVAs in the same availability set.</span></span> <span data-ttu-id="31ea7-146">Observe que, se nenhum NVA responder o aplicativo falhará, portanto, é importante que o monitoramento esteja configurado para alertar o DevOps quando o número de instâncias íntegras de NVA ficar abaixo do limite definido.</span><span class="sxs-lookup"><span data-stu-id="31ea7-146">Note that if all NVAs fail to respond, your application will fail, so it's important to have monitoring configured to alert DevOps when the number of healthy NVA instances falls below a defined threshold.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="31ea7-147">Considerações sobre capacidade de gerenciamento</span><span class="sxs-lookup"><span data-stu-id="31ea7-147">Manageability considerations</span></span>

<span data-ttu-id="31ea7-148">Todo monitoramento e gerenciamento para NVAs na DMZ pública devem ser realizados pelo jumpbox na sub-rede de gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="31ea7-148">All monitoring and management for the NVAs in the public DMZ should be be performed by the jumpbox in the management subnet.</span></span> <span data-ttu-id="31ea7-149">Conforme discutido em [Implementação de uma DMZ entre o Azure e seu datacenter local][implementing-a-secure-hybrid-network-architecture], defina uma única rota de rede da rede local por meio do gateway para o jumpbox, a fim de restringir o acesso.</span><span class="sxs-lookup"><span data-stu-id="31ea7-149">As discussed in [Implementing a DMZ between Azure and your on-premises datacenter][implementing-a-secure-hybrid-network-architecture], define a single network route from the on-premises network through the gateway to the jumpbox, in order to restrict access.</span></span>

<span data-ttu-id="31ea7-150">Se a conectividade de gateway da rede local para o Azure estiver inativa, você ainda poderá acessar o jumpbox implantando um endereço IP público, adicionando-o ao jumpbox e fazendo logon da Internet.</span><span class="sxs-lookup"><span data-stu-id="31ea7-150">If gateway connectivity from your on-premises network to Azure is down, you can still reach the jumpbox by deploying a public IP address, adding it to the jumpbox, and logging in from the Internet.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="31ea7-151">Considerações de segurança</span><span class="sxs-lookup"><span data-stu-id="31ea7-151">Security considerations</span></span>

<span data-ttu-id="31ea7-152">Essa arquitetura de referência implementa vários níveis de segurança:</span><span class="sxs-lookup"><span data-stu-id="31ea7-152">This reference architecture implements multiple levels of security:</span></span>

* <span data-ttu-id="31ea7-153">O balanceador de carga para a Internet direciona as solicitações para as NVAs na sub-rede DMZ pública de entrada e apenas nas portas necessárias para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="31ea7-153">The Internet facing load balancer directs requests to the NVAs in the inbound public DMZ subnet, and only on the ports necessary for the application.</span></span>
* <span data-ttu-id="31ea7-154">As regras do NSG para as sub-redes da DMZ pública de entrada e saída impedem que as NVAs sejam comprometidas, bloqueando as solicitações que estão fora das regras do NSG.</span><span class="sxs-lookup"><span data-stu-id="31ea7-154">The NSG rules for the inbound and outbound public DMZ subnets prevent the NVAs from being compromised, by blocking requests that fall outside of the NSG rules.</span></span>
* <span data-ttu-id="31ea7-155">A configuração de roteamento de NAT para as NVAs direciona solicitações de entrada na porta 80 e 443 para o balanceador de carga da camada da Web, mas ignora as solicitações em todas as demais portas.</span><span class="sxs-lookup"><span data-stu-id="31ea7-155">The NAT routing configuration for the NVAs directs incoming requests on port 80 and port 443 to the web tier load balancer, but ignores requests on all other ports.</span></span>

<span data-ttu-id="31ea7-156">Você deve registrar todas as solicitações de entrada em todas as portas.</span><span class="sxs-lookup"><span data-stu-id="31ea7-156">You should log all incoming requests on all ports.</span></span> <span data-ttu-id="31ea7-157">Audite os logs regularmente, prestando atenção às solicitações que estão fora dos parâmetros esperados, pois isso pode indicar tentativas de invasão.</span><span class="sxs-lookup"><span data-stu-id="31ea7-157">Regularly audit the logs, paying attention to requests that fall outside of expected parameters, as these may indicate intrusion attempts.</span></span>

## <a name="solution-deployment"></a><span data-ttu-id="31ea7-158">Implantação da solução</span><span class="sxs-lookup"><span data-stu-id="31ea7-158">Solution deployment</span></span>

<span data-ttu-id="31ea7-159">Uma implantação para uma arquitetura de referência que implementa essas recomendações está disponível no [GitHub][github-folder].</span><span class="sxs-lookup"><span data-stu-id="31ea7-159">A deployment for a reference architecture that implements these recommendations is available on [GitHub][github-folder].</span></span> <span data-ttu-id="31ea7-160">A arquitetura de referência pode ser implantada com VMs do Windows ou Linux seguindo as instruções abaixo:</span><span class="sxs-lookup"><span data-stu-id="31ea7-160">The reference architecture can be deployed either with Windows or Linux VMs by following the directions below:</span></span>

1. <span data-ttu-id="31ea7-161">Clique no botão abaixo:</span><span class="sxs-lookup"><span data-stu-id="31ea7-161">Click the button below:</span></span><br><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fmspnp%2Freference-architectures%2Fmaster%2Fdmz%2Fsecure-vnet-dmz%2FvirtualNetwork.azuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>
2. <span data-ttu-id="31ea7-162">Depois que o link for aberto no portal do Azure, você deve inserir valores para algumas das configurações:</span><span class="sxs-lookup"><span data-stu-id="31ea7-162">Once the link has opened in the Azure portal, you must enter values for some of the settings:</span></span>
   * <span data-ttu-id="31ea7-163">O nome do **Grupo de recursos** já está definido no arquivo de parâmetros, portanto, selecione **Criar novo** e digite `ra-public-dmz-network-rg` na caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="31ea7-163">The **Resource group** name is already defined in the parameter file, so select **Create New** and enter `ra-public-dmz-network-rg` in the text box.</span></span>
   * <span data-ttu-id="31ea7-164">Selecione a região na caixa suspensa **Local**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-164">Select the region from the **Location** drop down box.</span></span>
   * <span data-ttu-id="31ea7-165">Não edite as caixas de texto **URI da raiz do modelo** ou **URI da raiz do parâmetro**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-165">Do not edit the **Template Root Uri** or the **Parameter Root Uri** text boxes.</span></span>
   * <span data-ttu-id="31ea7-166">Selecione o **Tipo de SO** na caixa suspensa **windows** ou **linux**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-166">Select the **Os Type** from the drop down box, **windows** or **linux**.</span></span>
   * <span data-ttu-id="31ea7-167">Analise os termos e condições e clique na caixa de seleção **Concordo com os termos e condições declarados acima**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-167">Review the terms and conditions, then click the **I agree to the terms and conditions stated above** checkbox.</span></span>
   * <span data-ttu-id="31ea7-168">Clique no botão **Comprar**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-168">Click the **Purchase** button.</span></span>
3. <span data-ttu-id="31ea7-169">Aguarde até que a implantação seja concluída.</span><span class="sxs-lookup"><span data-stu-id="31ea7-169">Wait for the deployment to complete.</span></span>
4. <span data-ttu-id="31ea7-170">Clique no botão abaixo:</span><span class="sxs-lookup"><span data-stu-id="31ea7-170">Click the button below:</span></span><br><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fmspnp%2Freference-architectures%2Fmaster%2Fdmz%2Fsecure-vnet-dmz%2Fworkload.azuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>
5. <span data-ttu-id="31ea7-171">Depois que o link for aberto no portal do Azure, você deve inserir valores para algumas das configurações:</span><span class="sxs-lookup"><span data-stu-id="31ea7-171">Once the link has opened in the Azure portal, you must enter values for some of the settings:</span></span>
   * <span data-ttu-id="31ea7-172">O nome do **Grupo de recursos** já está definido no arquivo de parâmetros, portanto, selecione **Criar novo** e digite `ra-public-dmz-wl-rg` na caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="31ea7-172">The **Resource group** name is already defined in the parameter file, so select **Create New** and enter `ra-public-dmz-wl-rg` in the text box.</span></span>
   * <span data-ttu-id="31ea7-173">Selecione a região na caixa suspensa **Local**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-173">Select the region from the **Location** drop down box.</span></span>
   * <span data-ttu-id="31ea7-174">Não edite as caixas de texto **URI da raiz do modelo** ou **URI da raiz do parâmetro**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-174">Do not edit the **Template Root Uri** or the **Parameter Root Uri** text boxes.</span></span>
   * <span data-ttu-id="31ea7-175">Analise os termos e condições e clique na caixa de seleção **Concordo com os termos e condições declarados acima**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-175">Review the terms and conditions, then click the **I agree to the terms and conditions stated above** checkbox.</span></span>
   * <span data-ttu-id="31ea7-176">Clique no botão **Comprar**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-176">Click the **Purchase** button.</span></span>
6. <span data-ttu-id="31ea7-177">Aguarde até que a implantação seja concluída.</span><span class="sxs-lookup"><span data-stu-id="31ea7-177">Wait for the deployment to complete.</span></span>
7. <span data-ttu-id="31ea7-178">Clique no botão abaixo:</span><span class="sxs-lookup"><span data-stu-id="31ea7-178">Click the button below:</span></span><br><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fmspnp%2Freference-architectures%2Fmaster%2Fdmz%2Fsecure-vnet-dmz%2Fsecurity.azuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>
8. <span data-ttu-id="31ea7-179">Depois que o link for aberto no portal do Azure, você deve inserir valores para algumas das configurações:</span><span class="sxs-lookup"><span data-stu-id="31ea7-179">Once the link has opened in the Azure portal, you must enter values for some of the settings:</span></span>
   * <span data-ttu-id="31ea7-180">O nome do **Grupo de recursos** já está definido no arquivo de parâmetros, portanto, selecione **Usar Existente** e digite `ra-public-dmz-network-rg` na caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="31ea7-180">The **Resource group** name is already defined in the parameter file, so select **Use Existing** and enter `ra-public-dmz-network-rg` in the text box.</span></span>
   * <span data-ttu-id="31ea7-181">Selecione a região na caixa suspensa **Local**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-181">Select the region from the **Location** drop down box.</span></span>
   * <span data-ttu-id="31ea7-182">Não edite as caixas de texto **URI da raiz do modelo** ou **URI da raiz do parâmetro**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-182">Do not edit the **Template Root Uri** or the **Parameter Root Uri** text boxes.</span></span>
   * <span data-ttu-id="31ea7-183">Analise os termos e condições e clique na caixa de seleção **Concordo com os termos e condições declarados acima**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-183">Review the terms and conditions, then click the **I agree to the terms and conditions stated above** checkbox.</span></span>
   * <span data-ttu-id="31ea7-184">Clique no botão **Comprar**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-184">Click the **Purchase** button.</span></span>
9. <span data-ttu-id="31ea7-185">Aguarde até que a implantação seja concluída.</span><span class="sxs-lookup"><span data-stu-id="31ea7-185">Wait for the deployment to complete.</span></span>
10. <span data-ttu-id="31ea7-186">Os arquivos de parâmetro incluem um nome de usuário e senha de administrador embutido em código para todas as VMs e é altamente recomendável alterar ambos imediatamente.</span><span class="sxs-lookup"><span data-stu-id="31ea7-186">The parameter files include hard-coded administrator user name and password for all VMs, and it is strongly recommended that you immediately change both.</span></span> <span data-ttu-id="31ea7-187">Clique em cada VM na implantação, selecione-a no Portal do Azure e, em seguida, clique em **Redefinir senha** na folha **Suporte + solução de problemas**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-187">For each VM in the deployment, select it in the Azure portal and then click  **Reset password** in the **Support + troubleshooting** blade.</span></span> <span data-ttu-id="31ea7-188">Selecione **Redefinir senha** na caixa suspensa **Modo** e escolha um novo **Nome de usuário** e **Senha**.</span><span class="sxs-lookup"><span data-stu-id="31ea7-188">Select **Reset password** in the **Mode** drop down box, then select a new **User name** and **Password**.</span></span> <span data-ttu-id="31ea7-189">Clique no botão **Atualizar** para salvar.</span><span class="sxs-lookup"><span data-stu-id="31ea7-189">Click the **Update** button to save.</span></span>


[availability-set]: /azure/virtual-machines/virtual-machines-windows-manage-availability
[github-folder]: https://github.com/mspnp/reference-architectures/tree/master/dmz/secure-vnet-dmz

[implementing-a-secure-hybrid-network-architecture]: ./secure-vnet-hybrid.md
[iptables]: https://help.ubuntu.com/community/IptablesHowTo
[lb-probe]: /azure/load-balancer/load-balancer-custom-probe-overview
[load-balancer]: /azure/load-balancer/load-balancer-Internet-overview
[network-security-group]: /azure/virtual-network/virtual-networks-nsg

[visio-download]: https://archcenter.azureedge.net/cdn/dmz-reference-architectures.vsdx


[0]: ./images/dmz-public.png "Arquitetura de rede híbrida protegida"